{"outputs": [{"text": "if os.path.isfile(audio_file):\n        data, sampling_rate = sf.read(audio_file)\n        data_squared = np.square(data)\n        data_mean = np.mean(data_squared)\n        SPL = 20 * np.log10(np.sqrt(data_mean))\n        SPL = int(SPL)\n        matrix = np.array(L).reshape(M, N)\n        matrix = matrix / SPL\n        fig, ax = plt.subplots()\n        ax.pcolor(matrix)\n        ax.set_title('Spectrogram')\n        ax.set_xlabel('Time (s)')\n        ax.set_ylabel('Frequency (Hz)')\n        ax.set_ylim([0, 800])\n        ax.set_xlim([0, 0.025])\n        ax.grid(True)\n        return matrix, fig\n    else:\n        raise FileNotFoundError(\"Audio file not found.\")", "tokens": ["if", " os", ".", "path", ".", "is", "file", "(", "audio", "_", "file", "):", "\n", "        ", "data", ",", " sampling", "_", "rate", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "        ", "data", "_", "squared", " =", " np", ".", "square", "(", "data", ")", "\n", "        ", "data", "_", "mean", " =", " np", ".", "mean", "(", "data", "_", "squared", ")", "\n", "        ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "data", "_", "mean", "))", "\n", "        ", "SP", "L", " =", " int", "(", "SP", "L", ")", "\n", "        ", "matrix", " =", " np", ".", "array", "(", "L", ")", ".", "resh", "ape", "(", "M", ",", " N", ")", "\n", "        ", "matrix", " =", " matrix", " /", " S", "PL", "\n", "        ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "()", "\n", "        ", "ax", ".", "p", "color", "(", "matrix", ")", "\n", "        ", "ax", ".", "set", "_", "title", "('", "Spect", "ro", "gram", "')", "\n", "        ", "ax", ".", "set", "_", "xlabel", "('", "Time", " (", "s", ")", "')", "\n", "        ", "ax", ".", "set", "_", "ylabel", "('", "F", "requency", " (", "Hz", ")", "')", "\n", "        ", "ax", ".", "set", "_", "y", "lim", "([", "0", ",", " ", "8", "0", "0", "])", "\n", "        ", "ax", ".", "set", "_", "x", "lim", "([", "0", ",", " ", "0", ".", "0", "2", "5", "])", "\n", "        ", "ax", ".", "grid", "(", "True", ")", "\n", "        ", "return", " matrix", ",", " fig", "\n", "    ", "else", ":", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "\"", "Audio", " file", " not", " found", ".", "\"", ")", "\n", "\n", "def"], "logprobs": [-1.5121221542358398, -2.2549028396606445, -7.819823804311454e-05, -0.003132795449346304, -0.015351704321801662, -1.0618276596069336, -0.0007692000363022089, -0.00501991854980588, -0.004340631887316704, -0.0001677133986959234, -6.568216485902667e-05, -0.2871243953704834, -0.08105053007602692, -0.030088825151324272, -1.9251728057861328, -0.10744643211364746, -3.414890766143799, -0.0020902943797409534, -0.043507251888513565, -0.012967896647751331, -0.46314695477485657, -9.476689592702314e-05, -0.0001728385395836085, -0.025977015495300293, -0.0005017452058382332, -0.019549431279301643, -9.179073458653875e-06, -6.282132380874828e-05, -0.24598851799964905, -0.031224003061652184, -0.4024791419506073, -3.068282127380371, -1.304368257522583, -2.2861673831939697, -0.09073740243911743, -0.5097461342811584, -0.0007282227743417025, -0.21023771166801453, -0.0010024051880463958, -0.04014423489570618, -0.006655549164861441, -0.040067046880722046, -0.05262391269207001, -2.74050235748291, -0.014820006676018238, -1.4282019138336182, -0.09616846591234207, -0.032377857714891434, -0.000821014866232872, -0.09118475764989853, -0.0009004590683616698, -0.0070367841981351376, -0.0028773832600563765, -4.291525328881107e-06, -0.019675912335515022, -0.025410262867808342, -0.058487679809331894, -1.075183391571045, -0.00048708971007727087, -0.03794776648283005, -0.015353817492723465, -0.00901107769459486, -0.0005254556890577078, -0.04835791885852814, -0.01598495803773403, -0.0010723085142672062, -0.00044109628652222455, -0.001049682730808854, -2.729855441430118e-05, -0.0029344377107918262, -0.030715130269527435, -0.0002882065309677273, -0.005659746006131172, -0.0002479245886206627, -0.010400972329080105, -0.00010525626566959545, -0.0007726544863544405, -0.03039393201470375, -0.027418704703450203, -0.6835768222808838, -3.2935631275177, -0.0035166821908205748, -0.98392653465271, -2.0099072456359863, -0.007022342644631863, -0.2115774154663086, -3.6954811548639555e-06, -0.1460145115852356, -0.145895317196846, -0.6260808110237122, -1.9492453336715698, -0.04348054528236389, -0.08033903688192368, -0.002800592454150319, -0.4512525498867035, -0.38660186529159546, -0.03147909417748451, -0.0738946944475174, -0.05203777551651001, -0.0064215268939733505, -5.245195097813848e-06, -0.2856045365333557, -0.020246855914592743, -0.0006634180317632854, -0.05211246386170387, -0.0035201271530240774, -0.38082611560821533, -0.06933034956455231, -0.37158340215682983, -0.6566499471664429, -0.8089839816093445, -0.22214330732822418, -1.1498618125915527, -3.85038583772257e-05, -0.046110112220048904, -0.22722342610359192, -1.3106201887130737, -0.6547741889953613, -0.06565899401903152, -0.02870728075504303, -0.005121327005326748, -6.890059739816934e-05, -0.001500910148024559, -4.410646579344757e-05, -0.2635807991027832, -0.0044799679890275, -0.020108766853809357, -0.9086264967918396, -0.009924001060426235, -2.270491361618042, -1.6522691249847412, -0.019571058452129364, -0.6598304510116577, -0.7524662017822266, -0.010853543877601624, -0.058311812579631805, -0.718612551689148, -0.0010835020802915096, -0.28224608302116394, -0.08565285056829453, -0.9682291746139526, -0.7578665614128113, -1.3369767665863037, -0.010820524767041206, -0.003409051802009344, -0.3463698923587799, -0.005085864569991827, -0.02992166019976139, -0.5304567217826843, -0.001587679609656334, -0.11655320227146149, -0.02759173884987831, -0.2106335312128067, -0.011882123537361622, -0.5699345469474792, -0.6198206543922424, -0.630381166934967, -0.0041287424974143505, -0.0006567466771230102, -0.0026587634347379208, -0.001946698990650475, -0.0031568000558763742, -0.00017176583060063422, -0.007573937065899372, -6.09140915912576e-05, -0.003211461938917637, -0.003440653206780553, -0.0038404534570872784, -0.0038904468528926373, -0.033480122685432434, -0.0427599661052227, -0.00935031846165657, -0.0003967689990531653, -0.003508366644382477, -0.05379876494407654, -0.7293280959129333, -0.0011985269375145435, -0.34410661458969116, -0.0006301801186054945, -3.400489330291748, -0.17660179734230042, -0.8950648903846741, -0.13130302727222443, -0.018091894686222076, -0.984092652797699, -2.4844746589660645, -0.04662531986832619, -0.16218645870685577, -2.31040620803833, -0.050187524408102036, -0.03127622604370117, -0.3319907486438751, -0.0020035686902701855, -0.105637326836586, -0.0003971264814026654, -0.05994526296854019, -0.0018963703187182546, -0.009802537970244884, -0.052171189337968826, -0.010976174846291542, -0.3967961072921753, -1.8917449712753296, -0.0002971446083392948, -1.384710669517517, -2.1586930751800537, -1.2193117141723633, -0.29591912031173706, -0.01504866685718298, -0.06925404816865921, -0.8041301369667053, -0.0015043619787320495, -2.02396559715271, -0.26381751894950867, -0.3832646906375885, -0.05740151181817055, -0.006354010198265314, -0.07731533795595169, -0.9476317167282104, -0.10076246410608292, -0.030315641313791275, -0.04765937477350235, -0.11752593517303467, -0.06901687383651733, -0.02868480794131756, -0.0008737798780202866, -0.004040650092065334, -0.0009117737063206732, -0.06644737720489502, -0.009080305695533752, -0.00016902448260225356, -0.00018273114983458072, -0.33069393038749695, -0.7125149369239807, -1.4365631341934204, -0.03904666006565094, -0.26546216011047363, -0.0020672159735113382, -0.785847008228302, -0.08415919542312622, -0.2899723947048187, -0.2346908450126648, -0.07246474176645279, -1.075472354888916], "finish_reason": "stop"}], "metrics": {"energy": 263.8757977838515, "energy_per_token": 1.085908632855356, "time": 10.933986, "time_per_token": 0.04499582716049383}}
{"outputs": [{"text": "if not os.path.exists(audio_file):\n        raise FileNotFoundError(f'audio file not found: {audio_file}')\n    sound = sf.SoundFile(audio_file)\n    SPL = 20 * np.log10(np.sqrt(np.mean(sound**2)))\n    sound.seek(0)\n    # Calculate the SPL based on the amplitude of the normalized matrix\n    matrix = np.reshape([float(l) for l in L], (M, N)) / np.amax(matrix)\n    # Normalize the matrix\n    # matrix /= np.amax(matrix)\n\n    # Generate the spectrogram\n    f, t, sp_matrix = plt.specgram(\n        matrix, sf.SampleRate(audio_file), Fs=22050, window='hann', noverlap=int(0.8*N), scale='auto')\n    f = f / 1024 * 2\n    t = 1 / 22050 * len(t) * (t+1)", "tokens": ["if", " not", " os", ".", "path", ".", "exists", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "'", "audio", " file", " not", " found", ":", " {", "audio", "_", "file", "}", "')", "\n", "    ", "sound", " =", " s", "f", ".", "Sound", "File", "(", "audio", "_", "file", ")", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "sound", "**", "2", ")))", "\n", "    ", "sound", ".", "seek", "(", "0", ")", "\n", "    ", "#", " Calculate", " the", " S", "PL", " based", " on", " the", " amplitude", " of", " the", " normalized", " matrix", "\n", "    ", "matrix", " =", " np", ".", "resh", "ape", "([", "float", "(", "l", ")", " for", " l", " in", " L", "]", ",", " (", "M", ",", " N", "))", " /", " np", ".", "ama", "x", "(", "matrix", ")", "\n", "    ", "#", " Normal", "ize", " the", " matrix", "\n", "    ", "#", " matrix", " /", "=", " np", ".", "ama", "x", "(", "matrix", ")", "\n", "\n", "    ", "#", " Generate", " the", " spectro", "gram", "\n", "    ", "f", ",", " t", ",", " sp", "_", "matrix", " =", " plt", ".", "spec", "gram", "(", "\n", "        ", "matrix", ",", " s", "f", ".", "Sample", "Rate", "(", "audio", "_", "file", ")", ",", " F", "s", "=", "2", "2", "0", "5", "0", ",", " window", "='", "h", "ann", "'", ",", " no", "ver", "lap", "=", "int", "(", "0", ".", "8", "*", "N", ")", ",", " scale", "='", "auto", "')", "\n", "    ", "f", " =", " f", " /", " ", "1", "0", "2", "4", " *", " ", "2", "\n", "    ", "t", " =", " ", "1", " /", " ", "2", "2", "0", "5", "0", " *", " len", "(", "t", ")", " *", " (", "t", "+", "1", ")"], "logprobs": [-1.5121221542358398, -0.21733945608139038, -0.14644840359687805, -9.894321920000948e-06, -0.0003530356043484062, -0.011976830661296844, -0.45572900772094727, -0.0032283354084938765, -0.004851118661463261, -0.00013398226292338222, -6.01988795096986e-05, -0.004337427206337452, -0.04090949892997742, -0.0037176560144871473, -0.039848849177360535, -0.003311034059152007, -6.592056161025539e-05, -0.00012957210128661245, -0.21847425401210785, -0.5739663243293762, -2.105391025543213, -2.7257940769195557, -0.221636563539505, -1.7259705066680908, -0.008896947838366032, -0.3641739785671234, -0.025208022445440292, -0.003865509992465377, -0.0003083468764089048, -0.00015317220822907984, -0.011069200001657009, -0.008548098616302013, -0.0038880719803273678, -1.0199114084243774, -4.5337371826171875, -1.5201876163482666, -0.2390596866607666, -9.095255518332124e-05, -0.00038818930624984205, -0.9269906282424927, -0.052809938788414, -0.0006323245470412076, -0.0056412541307508945, -8.034383063204587e-05, -3.909988299710676e-05, -0.052074555307626724, -0.037059277296066284, -0.03534966707229614, -3.5513620376586914, -0.005466749891638756, -0.14765602350234985, -0.18238388001918793, -0.023589206859469414, -0.0012541294563561678, -0.061257101595401764, -0.0357113778591156, -0.00015948931104503572, -0.002475176239386201, -0.001978108659386635, -5.793403761344962e-05, -0.010553857311606407, -0.02038118988275528, -0.0002286172821186483, -0.16255058348178864, -0.009091409854590893, -0.05257425829768181, -0.00027056847466155887, -0.09467905759811401, -0.0515555813908577, -0.31515082716941833, -2.0299675464630127, -0.0008550802012905478, -0.06594105809926987, -0.10662287473678589, -0.16813528537750244, -1.6471972465515137, -0.08420269936323166, -1.2511422634124756, -0.016833633184432983, -0.06950072944164276, -0.038394007831811905, -0.13873246312141418, -0.08109603822231293, -3.00573992729187, -4.267587661743164, -0.8997675180435181, -1.6518189907073975, -0.002514655003324151, -2.968636989593506, -0.003031898057088256, -0.10528267174959183, -2.6065051555633545, -0.06672843545675278, -0.038043249398469925, -0.9792512655258179, -0.034350138157606125, -0.17195004224777222, -0.045846886932849884, -1.7801518440246582, -0.023357484489679337, -0.07052429765462875, -0.0017897554207593203, -3.0149686336517334, -6.198863957251888e-06, -1.3758174180984497, -3.0425901412963867, -0.014453830197453499, -2.7663159370422363, -0.13674406707286835, -0.25145599246025085, -0.0030592328403145075, -0.0003698380314745009, -0.008335207588970661, -0.008158216252923012, -0.0006696127820760012, -0.07234387844800949, -0.026316935196518898, -0.000619696278590709, -0.04522896558046341, -0.012702272273600101, -1.1224726438522339, -0.7298670411109924, -0.0031887658406049013, -2.928619384765625, -1.1205610462639015e-05, -0.0034292482305318117, -0.20778535306453705, -0.020516090095043182, -0.06441619247198105, -0.11663796752691269, -1.4999794960021973, -0.824828028678894, -0.02513943798840046, -0.08690430968999863, -0.04576091095805168, -1.2096712589263916, -0.0360269621014595, -2.76404070854187, -3.222628593444824, -1.9533721208572388, -0.0029407371766865253, -0.31197449564933777, -0.0010920758359134197, -0.31127870082855225, -2.0146166207268834e-05, -0.0022839431185275316, -0.0177043117582798, -0.02172575518488884, -0.06528004258871078, -1.7065047025680542, -0.0008572241058573127, -0.6006847023963928, -0.916064977645874, -0.4457424581050873, -0.014051786623895168, -0.0016947920667007565, -0.41967058181762695, -0.006762002129107714, -1.9077441692352295, -0.07333242148160934, -0.23012709617614746, -0.030469443649053574, -3.0099129676818848, -1.6509441137313843, -0.12031088769435883, -0.00998207088559866, -1.9884166717529297, -0.00035720644518733025, -0.040081821382045746, -0.008950588293373585, -0.0014961488777771592, -3.0013442039489746, -0.05898924916982651, -0.08316177874803543, -0.057403311133384705, -2.1067848205566406, -2.157337188720703, -0.4227045476436615, -3.602365016937256, -0.5481325387954712, -0.17443077266216278, -0.345004141330719, -0.00251108780503273, -0.00034397884155623615, -0.05399587005376816, -0.03711223229765892, -2.0188114643096924, -0.029703203588724136, -0.017003821209073067, -1.5324244499206543, -1.1910178661346436, -0.06533688306808472, -0.019460933282971382, -0.0019242119742557406, -0.10698551684617996, -3.3720083236694336, -0.8861340880393982, -0.8379606604576111, -0.002750306623056531, -0.17268763482570648, -0.0660470724105835, -1.2417566776275635, -0.018685508519411087, -0.0010869554243981838, -0.014090458862483501, -2.689945697784424, -0.021081537008285522, -0.6776109933853149, -0.0005152089870534837, -1.437322735786438, -2.176138401031494, -0.7797630429267883, -0.31880003213882446, -0.2687828242778778, -2.589087963104248, -0.49216368794441223, -2.510044574737549, -0.8547008037567139, -0.03629910945892334, -0.22181381285190582, -2.319878101348877, -1.6702784299850464, -0.5482109785079956, -1.534895896911621, -0.4114503860473633, -1.1088213920593262, -0.2543528974056244, -1.8653392791748047, -0.05044722929596901, -3.284010171890259, -0.1669464111328125, -0.919352650642395, -3.294257402420044, -0.08297045528888702, -1.0901529788970947, -0.08308093249797821, -2.266038179397583, -0.9245014190673828, -1.1944226026535034, -0.4960530698299408, -0.33293139934539795, -0.06558442115783691, -0.003871447406709194, -0.0018969652010127902, -0.0008955758530646563, -0.07260310649871826, -2.0830039978027344, -0.00024875884992070496, -0.8465922474861145, -0.006037569139152765, -2.6064517498016357, -2.8766555786132812, -1.3636398315429688, -3.484834909439087, -0.24126918613910675, -0.2104293555021286], "finish_reason": "length"}], "metrics": {"energy": 264.2649434795377, "energy_per_token": 1.032284935466944, "time": 11.361383, "time_per_token": 0.04438040234375}}
{"outputs": [{"text": "data, sr = librosa.core.load(audio_file)\n    sf.write(audio_file, data, sr)\n    SPL = 20 * np.log10(np.sqrt(np.mean(data**2)))\n    y, sr = librosa.core.load(audio_file)\n    x = librosa.feature.melspectrogram(y, sr, n_mels=M)\n    plt.pcolormesh(librosa.feature.melspectrogram(y, sr, n_mels=M), cmap='gray', vmin=np.min(x), vmax=np.max(x))\n    plt.show()\n    return x", "tokens": ["data", ",", " s", "r", " =", " lib", "ros", "a", ".", "core", ".", "load", "(", "audio", "_", "file", ")", "\n", "    ", "sf", ".", "write", "(", "audio", "_", "file", ",", " data", ",", " s", "r", ")", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", "**", "2", ")))", "\n", "    ", "y", ",", " s", "r", " =", " lib", "ros", "a", ".", "core", ".", "load", "(", "audio", "_", "file", ")", "\n", "    ", "x", " =", " lib", "ros", "a", ".", "feature", ".", "m", "els", "pect", "ro", "gram", "(", "y", ",", " s", "r", ",", " n", "_", "m", "els", "=", "M", ")", "\n", "    ", "plt", ".", "p", "col", "orm", "esh", "(", "lib", "ros", "a", ".", "feature", ".", "m", "els", "pect", "ro", "gram", "(", "y", ",", " s", "r", ",", " n", "_", "m", "els", "=", "M", ")", ",", " c", "map", "='", "gray", "'", ",", " v", "min", "=", "np", ".", "min", "(", "x", ")", ",", " v", "max", "=", "np", ".", "max", "(", "x", "))", "\n", "    ", "plt", ".", "show", "()", "\n", "    ", "return", " x", "<", "|", "end", "of", "text", "|>"], "logprobs": [-3.566220283508301, -0.615156352519989, -0.8907678127288818, -0.038777898997068405, -0.016077987849712372, -0.13104048371315002, -3.576272320060525e-06, -1.7881377516459906e-06, -2.9205850296420977e-05, -2.187839984893799, -0.001965973060578108, -0.0149046890437603, -0.003933075815439224, -0.028297021985054016, -0.0005173536483198404, -0.0002444683632347733, -0.19792962074279785, -0.06753535568714142, -0.1372293084859848, -4.347083568572998, -0.14051638543605804, -0.02268565073609352, -0.7377290725708008, -1.0254755020141602, -0.0008276851149275899, -0.0003399271226953715, -0.6463711261749268, -0.2725774645805359, -0.04215533286333084, -0.12987250089645386, -0.00018285033002030104, -0.6101682782173157, -0.1357155591249466, -0.28028789162635803, -1.641326665878296, -0.005307749379426241, -0.1542477160692215, -0.12158931791782379, -0.016870908439159393, -0.0010336062405258417, -0.060682512819767, -0.027820628136396408, -0.0004196478403173387, -0.0021670209243893623, -0.0015474499668926, -3.7788631743751466e-05, -0.012157740071415901, -0.01502776425331831, -0.00029094755882397294, -0.10059981048107147, -0.015560290776193142, -0.01695389300584793, -0.00025960413040593266, -0.1253632754087448, -0.06142415478825569, -0.36558428406715393, -0.9472714066505432, -0.00040058218291960657, -0.0264885351061821, -0.06185758113861084, -0.32504740357398987, -4.328020095825195, -0.2916962802410126, -0.022910889238119125, -0.05008910968899727, -0.0052848635241389275, -0.042410850524902344, -1.9073468138230965e-06, -0.00012361239350866526, -7.390948667307384e-06, -0.14496546983718872, -6.318072337307967e-06, -0.0028169972356408834, -0.00796700268983841, -0.007454200182110071, -6.9141146923357155e-06, -1.4781842764932662e-05, -0.10996730625629425, -0.006578811444342136, -0.10425735265016556, -3.1752443313598633, -0.40235671401023865, -1.2894349098205566, -6.437280717364047e-06, -0.0001958416833076626, -2.169585604860913e-05, -0.4929198920726776, -0.00015472168161068112, -0.181558758020401, -0.024105092510581017, -0.00047434045700356364, -0.000947622349485755, -0.0004167880106251687, -0.004536337684839964, -0.05665327608585358, -0.8532777428627014, -0.02962728776037693, -0.00417895894497633, -2.285414934158325, -0.7120581269264221, -4.0531076592742465e-06, -0.18091264367103577, -0.00024184639914892614, -0.05805448070168495, -0.5516902804374695, -1.9155895709991455, -0.08775878697633743, -0.0865839421749115, -2.5052123069763184, -0.0019110051216557622, -2.204256057739258, -0.1975046694278717, -0.0010350352386012673, -0.02144051156938076, -0.003632496576756239, -0.8979332447052002, -4.160317621426657e-05, -7.152555099310121e-07, -1.8954096958623268e-05, -1.4518728256225586, -5.709961988031864e-05, -0.04502864181995392, -0.0018587708473205566, -0.012241587974131107, -0.0008262557676061988, -6.83045873302035e-05, -0.02380632609128952, -0.11037859320640564, -0.014927824959158897, -0.019074231386184692, -4.7205765440594405e-05, -0.10423114150762558, -0.10223595798015594, -0.0006612736615352333, -0.001714071026071906, -5.638440416078083e-05, -0.004663543310016394, -0.08136981725692749, -0.9363560080528259, -0.08945465087890625, -0.7238029837608337, -0.006318354979157448, -0.1291395127773285, -0.9355652928352356, -0.7360144853591919, -0.0018561530159786344, -0.36473900079727173, -0.1920071840286255, -0.1682397574186325, -3.0750043392181396, -0.0008922410197556019, -0.38128387928009033, -0.004300394095480442, -0.25351396203041077, -0.04551729932427406, -0.00224956963211298, -0.01971670426428318, -0.002613345393911004, -0.00345372105948627, -0.02633899636566639, -0.0007670559571124613, -0.011614561080932617, -0.00012766500003635883, -0.0011267272057011724, -0.22317063808441162, -0.031232090666890144, -0.022400913760066032, -0.27995699644088745, -9.48860906646587e-05, -2.431182384490967, -0.02329517900943756, -0.11030440032482147, -0.08680398017168045, -0.5010654330253601, -0.5975401997566223, -2.5908944606781006, -2.7418097943154862e-06, -1.5497195136049413e-06, -0.000256982195423916, -0.00022110878489911556, -0.08286040276288986], "finish_reason": "stop"}], "metrics": {"energy": 199.52568837165828, "energy_per_token": 1.1023518694566756, "time": 7.9847884, "time_per_token": 0.04411485303867403}}
{"outputs": [{"text": "if not os.path.isfile(audio_file):\n        raise FileNotFoundError(f\"{audio_file} is not a valid path.\")\n\n    with sf.SoundFile(audio_file) as f:\n        data = f.read(dtype='float32', start=0, stop=None, frames=-1, always_2d=False)\n        SPL = 20 * np.log10(np.sqrt(np.mean(data**2)))\n\n    matrix = np.reshape(L, (M, N))\n    matrix = matrix / np.max(matrix) * SPL\n\n    fig = plt.figure()\n    ax = fig.add_subplot(111)\n    ax.imshow(matrix, extent=[0, N, 0, M], norm=matplotlib.colors.SymLogNorm(linthresh=20))\n\n    return matrix, fig", "tokens": ["if", " not", " os", ".", "path", ".", "is", "file", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "{", "audio", "_", "file", "}", " is", " not", " a", " valid", " path", ".", "\"", ")", "\n", "\n", "    ", "with", " s", "f", ".", "Sound", "File", "(", "audio", "_", "file", ")", " as", " f", ":", "\n", "        ", "data", " =", " f", ".", "read", "(", "d", "type", "='", "float", "3", "2", "'", ",", " start", "=", "0", ",", " stop", "=", "None", ",", " frames", "=-", "1", ",", " always", "_", "2", "d", "=", "False", ")", "\n", "        ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", "**", "2", ")))", "\n", "\n", "    ", "matrix", " =", " np", ".", "resh", "ape", "(", "L", ",", " (", "M", ",", " N", "))", "\n", "    ", "matrix", " =", " matrix", " /", " np", ".", "max", "(", "matrix", ")", " *", " S", "PL", "\n", "\n", "    ", "fig", " =", " plt", ".", "figure", "()", "\n", "    ", "ax", " =", " fig", ".", "add", "_", "sub", "plot", "(", "1", "1", "1", ")", "\n", "    ", "ax", ".", "im", "show", "(", "matrix", ",", " extent", "=[", "0", ",", " N", ",", " ", "0", ",", " M", "]", ",", " norm", "=", "mat", "plotlib", ".", "colors", ".", "Sym", "Log", "Norm", "(", "lin", "th", "resh", "=", "2", "0", "))", "\n", "\n", "    ", "return", " matrix", ",", " fig", "<", "|", "end", "of", "text", "|>"], "logprobs": [-1.5121221542358398, -0.21733945608139038, -0.14644840359687805, -9.894321920000948e-06, -0.0003530356043484062, -0.011976830661296844, -1.006147861480713, -0.0002131234941771254, -0.0018465149914845824, -0.0041357469744980335, -0.0001134808044298552, -6.317892984952778e-05, -0.006406247150152922, -0.043698750436306, -0.0031963707879185677, -0.03548428788781166, -0.003691408084705472, -6.401333666872233e-05, -0.00014184899919200689, -0.23538577556610107, -0.5869516730308533, -0.16189095377922058, -0.8923733830451965, -0.006095035932958126, -0.0002708068350329995, -0.00021908267808612436, -0.0352182500064373, -2.07259464263916, -0.11638513952493668, -0.3248350918292999, -0.20911674201488495, -2.521657943725586, -1.4177592992782593, -0.17407585680484772, -0.0010562323732301593, -0.0068229790776968, -0.4516502022743225, -0.0014004433760419488, -2.2541942596435547, -0.050319597125053406, -0.00017641419253777713, -0.00013910756388213485, -0.006329253315925598, -0.0066849165596067905, -0.0005754960584454238, -0.007482124026864767, -8.821098163025454e-05, -5.507317473529838e-05, -0.11808477342128754, -0.00030882356804795563, -0.5074467062950134, -0.029632844030857086, -0.035481758415699005, -0.0070094396360218525, -1.3241404294967651, -0.06928741931915283, -0.1798018217086792, -0.0034077451564371586, -0.3245430886745453, -0.5507940053939819, -0.8967424035072327, -0.0057588377967476845, -0.37331148982048035, -0.09280996769666672, -0.05196082219481468, -7.271740287251305e-06, -1.8050559759140015, -0.008490418083965778, -3.358799934387207, -0.04791666939854622, -0.07662635296583176, -0.037359051406383514, -0.16328026354312897, -0.11294842511415482, -0.27144911885261536, -0.2723788321018219, -1.3006603717803955, -2.39959716796875, -0.002343410160392523, -0.46862679719924927, -0.8759872913360596, -0.001434250851161778, -0.002900799736380577, -0.012111809104681015, -0.0007596705690957606, -1.8582746982574463, -0.2018146961927414, -0.07327669858932495, -0.814182698726654, -1.7990946769714355, -0.00213300040923059, -0.05668244883418083, -0.050831735134124756, -0.010852836072444916, -0.0005685858195647597, -0.0341482013463974, -0.03022323176264763, -0.00029094755882397294, -0.0018847098108381033, -0.0009193961159326136, -4.9828242481453344e-05, -0.010508089326322079, -0.008733410388231277, -0.00011765264935093, -0.08286774903535843, -0.009731825441122055, -0.05327356234192848, -0.00012861855793744326, -0.0727260485291481, -0.010050404816865921, -0.1787683218717575, -0.7654778957366943, -0.0002668739762157202, -0.032107874751091, -0.09485005587339401, -0.36156439781188965, -0.05648767575621605, -1.278985619544983, -0.02308458834886551, -0.0442282035946846, -0.0011360150529071689, -2.9415693283081055, -9.179073458653875e-06, -0.09017951786518097, -0.2983650267124176, -0.004487800411880016, -0.15314367413520813, -0.01370437815785408, -0.0024409282486885786, -0.04097563773393631, -0.023118602111935616, -0.20832936465740204, -0.16646145284175873, -0.3715048134326935, -0.38288775086402893, -1.0146777629852295, -0.20237988233566284, -0.7171900272369385, -0.00670031039044261, -0.8534504175186157, -0.0031354096718132496, -0.1232096329331398, -0.02952023409307003, -1.7668272256851196, -0.5780354738235474, -1.2993727978027891e-05, -0.09384947270154953, -0.7378095388412476, -0.00031537804170511663, -0.6957077383995056, -1.135087251663208, -0.008400817401707172, -7.414542778860778e-05, -0.028783613815903664, -0.5683001279830933, -0.005629874300211668, -0.10341030359268188, -1.4441145658493042, -0.03411421552300453, -0.2941240072250366, -3.9934315282152966e-05, -0.015607588924467564, -1.3470558769768104e-05, -0.009451170451939106, -7.271502545336261e-05, -0.023175911977887154, -0.01508001983165741, -0.27821528911590576, -1.1920858014491387e-05, -0.00989083293825388, -0.004387870896607637, -0.11226610094308853, -0.4760379493236542, -0.0034395840484648943, -1.0636131763458252, -0.0005646541831083596, -0.006178564392030239, -0.0862923339009285, -0.10829402506351471, -2.1538753509521484, -0.34898677468299866, -0.0903470367193222, -0.021355098113417625, -0.621773898601532, -0.11738888174295425, -0.37500715255737305, -0.10947763919830322, -0.00254783034324646, -0.03817269206047058, -0.048636384308338165, -0.00014494798961095512, -3.4072351455688477, -0.056129008531570435, -2.0270347595214844, -0.021272944286465645, -0.0006479309522546828, -0.010278270579874516, -0.0001935771433636546, -1.977222204208374, -0.004082322586327791, -9.154854342341423e-05, -0.30138057470321655, -0.42624491453170776, -0.01440013200044632, -0.042847566306591034, -0.05080578848719597, -2.301137685775757, -0.46768179535865784, -1.3570594787597656, -0.02900632470846176, -1.3640493154525757, -0.003108552424237132, -0.4459174573421478, -0.06430474668741226, -0.006834581959992647, -0.04059717059135437, -1.3131392002105713, -1.1920928244535389e-07, -1.311301275563892e-06, -4.6132929128361866e-05, -0.00012694983161054552, -0.08559145778417587], "finish_reason": "stop"}], "metrics": {"energy": 262.33680928230285, "energy_per_token": 1.1816973391094723, "time": 9.891111, "time_per_token": 0.044554554054054056}}
{"outputs": [{"text": "try:\n        data, fs = librosa.load(audio_file)\n        # calculate SPL\n        spl = 20 * np.log10(np.sqrt(np.mean(data**2)))\n        # normalize the data\n        normalized_data = np.array([L[i % len(L)] for i in range(M * N)]).reshape((M, N))\n        normalized_data /= np.max(np.abs(normalized_data))\n    except FileNotFoundError as e:\n        print(f\"File not found: {audio_file}\")\n        raise e\n    except Exception as e:\n        print(\"An error occurred:\", e)\n\n    fig, ax = plt.subplots()\n    # plot the spectrogram using the normalized data and SPL\n    ax.pcolor(librosa.fft.fft(normalized_data, axis=0)[:N], norm=librosa.normalize(librosa.db_amplitude(spl)), cmap='jet')\n    fig.colorbar()\n    ax.set_title(f", "tokens": ["try", ":", "\n", "        ", "data", ",", " fs", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ")", "\n", "        ", "#", " calculate", " S", "PL", "\n", "        ", "spl", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", "**", "2", ")))", "\n", "        ", "#", " normalize", " the", " data", "\n", "        ", "normalized", "_", "data", " =", " np", ".", "array", "([", "L", "[", "i", " %", " len", "(", "L", ")]", " for", " i", " in", " range", "(", "M", " *", " N", ")]", ")", ".", "resh", "ape", "((", "M", ",", " N", "))", "\n", "        ", "normalized", "_", "data", " /", "=", " np", ".", "max", "(", "np", ".", "abs", "(", "normalized", "_", "data", "))", "\n", "    ", "except", " File", "NotFound", "Error", " as", " e", ":", "\n", "        ", "print", "(", "f", "\"", "File", " not", " found", ":", " {", "audio", "_", "file", "}\"", ")", "\n", "        ", "raise", " e", "\n", "    ", "except", " Exception", " as", " e", ":", "\n", "        ", "print", "(", "\"", "An", " error", " occurred", ":\"", ",", " e", ")", "\n", "\n", "    ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "()", "\n", "    ", "#", " plot", " the", " spectro", "gram", " using", " the", " normalized", " data", " and", " S", "PL", "\n", "    ", "ax", ".", "p", "color", "(", "lib", "ros", "a", ".", "ff", "t", ".", "ff", "t", "(", "normalized", "_", "data", ",", " axis", "=", "0", ")", "[:", "N", "]", ",", " norm", "=", "lib", "ros", "a", ".", "normal", "ize", "(", "lib", "ros", "a", ".", "db", "_", "am", "plitude", "(", "spl", "))", ",", " c", "map", "='", "jet", "')", "\n", "    ", "fig", ".", "color", "bar", "()", "\n", "    ", "ax", ".", "set", "_", "title", "(", "f"], "logprobs": [-2.4584550857543945, -0.0015735160559415817, -0.01354068424552679, -0.010551616549491882, -2.339153289794922, -0.30218279361724854, -1.1864612102508545, -0.010565653443336487, -0.9440474510192871, -7.510157047363464e-06, -3.576278118089249e-07, -2.90866428258596e-05, -0.13581515848636627, -0.001968947472050786, -0.02786364033818245, -0.00028761065914295614, -0.00021586472576018423, -0.20106737315654755, -0.05699441581964493, -1.1904685497283936, -2.5298147201538086, -3.4050064086914062, -0.8060506582260132, -0.00036137725692242384, -0.630802571773529, -0.005189164076000452, -1.5238842964172363, -0.11208313703536987, -0.06113700568675995, -0.012105449102818966, -0.0004191712068859488, -0.05352421849966049, -0.013385550118982792, -0.0008578196284361184, -0.0015635181916877627, -0.0004478881892282516, -2.8729025871143676e-05, -0.007431126665323973, -0.007083777338266373, -0.00011491115583339706, -0.07050974667072296, -0.011567426845431328, -0.010988673195242882, -0.00012087091454304755, -0.074403315782547, -0.05675994232296944, -0.21162575483322144, -0.9364876747131348, -0.00037329382030293345, -0.03866218402981758, -0.019394526258111, -0.7281002402305603, -0.5836765170097351, -0.9765214920043945, -1.4388437271118164, -1.1594140529632568, -0.5919097065925598, -0.002244336297735572, -2.5753631591796875, -0.0803985446691513, -0.06339406967163086, -0.002314628567546606, -1.4076169729232788, -0.0022756175603717566, -0.5648844838142395, -0.9520485997200012, -3.3357467651367188, -0.09239236265420914, -0.1748555302619934, -1.9208813905715942, -0.04790371656417847, -0.00012218205665703863, -0.0016818201402202249, -0.004546068608760834, -0.8848692178726196, -0.0022559924982488155, -0.01707824133336544, -0.10089761763811111, -0.013777161948382854, -0.9660529494285583, -0.8281581997871399, -0.004603976849466562, -0.02098045125603676, -0.05636633187532425, -2.0187880992889404, -0.020221039652824402, -1.1920928244535389e-07, -0.994375467300415, -0.006980082020163536, -0.001057542278431356, -0.019104288890957832, -0.0033053308725357056, -1.9944674968719482, -0.02990291826426983, -0.3838960826396942, -0.002396808471530676, -0.017870252951979637, -0.6163336634635925, -0.00021872512297704816, -1.1664628982543945, -0.00404979195445776, -0.8775684237480164, -0.008700557984411716, -0.9909017086029053, -0.0049314298667013645, -0.08721987903118134, -0.0009503615438006818, -0.026808900758624077, -1.5258672647178173e-05, -0.00035482310340739787, -0.0655568465590477, -0.22940585017204285, -1.38483464717865, -0.00323950476013124, -0.09004192799329758, -1.8954096958623268e-05, -6.9141146923357155e-06, -1.7528616189956665, -0.22375734150409698, -0.0005069877952337265, -0.00802045688033104, -0.0014815079048275948, -0.3759363889694214, -0.036242663860321045, -0.7251299023628235, -0.1351219117641449, -1.558680534362793, -0.1983126401901245, -0.0012371037155389786, -0.026783252134919167, -0.003376023843884468, -0.48053237795829773, -0.0006556744920089841, -0.0001823735801735893, -0.08611637353897095, -0.004491242114454508, -0.0054710181429982185, -0.08645493537187576, -0.582331120967865, -0.24191659688949585, -0.020340191200375557, -0.41641417145729065, -0.41974055767059326, -0.2999650835990906, -0.014091516844928265, -0.0020841085352003574, -0.0012668687850236893, -0.002974849194288254, -0.0004737447015941143, -0.025595149025321007, -0.0110683748498559, -2.4132328033447266, -1.0354230403900146, -0.28803420066833496, -0.01329556293785572, -0.39704200625419617, -0.1437859833240509, -0.2703299820423126, -0.009970386512577534, -0.0015629230765625834, -2.071580410003662, -0.010411000810563564, -1.9097843170166016, -0.3956141769886017, -0.029003428295254707, -0.045418765395879745, -0.0005937243695370853, -4.088794958079234e-05, -0.0004320403386373073, -7.116541382856667e-05, -0.600983202457428, -0.010796703398227692, -0.12347054481506348, -2.351238250732422, -1.8794158697128296, -0.4710064232349396, -0.19125258922576904, -0.0016417133156210184, -2.9857962131500244, -0.3177511394023895, -0.34058651328086853, -0.18599820137023926, -1.5220390558242798, -1.33376145362854, -4.6132929128361866e-05, -0.33582744002342224, -0.002204370917752385, -1.2500594854354858, -0.0030034929513931274, -1.0449274778366089, -1.505091905593872, -0.008340645581483841, -1.085457682609558, -0.00010501786891836673, -2.622600959512056e-06, -5.757642793469131e-05, -1.9923582077026367, -0.0028002357576042414, -0.41051191091537476, -0.2985157370567322, -1.072568655014038, -0.15564972162246704, -0.06297530233860016, -1.4424220353248529e-05, -0.00011038171214750037, -1.115214228630066, -0.9452986121177673, -0.1343584656715393, -0.6169219613075256, -0.11613786965608597, -2.51118803024292, -2.696824789047241, -0.6652848124504089, -0.053854793310165405, -2.6843605041503906, -0.3056880235671997, -0.2264425903558731, -3.6954811548639555e-06, -0.0016844383208081126, -6.556489552167477e-06, -1.2934820652008057, -0.05696333572268486, -1.1386898756027222, -0.5085458159446716, -3.373566141817719e-05, -0.0010527789127081633, -0.0008535317610949278, -4.39035177230835, -0.49541333317756653, -0.2440258413553238, -0.0029061485547572374, -0.6579574346542358, -1.033118486404419, -2.569382667541504, -0.029407493770122528, -0.8883622288703918, -0.002223640214651823, -0.1902150958776474, -2.654998779296875, -0.17240674793720245, -0.017659220844507217, -0.07308977842330933, -2.3518667221069336, -0.0009152276325039566, -0.2850443422794342, -0.0012819890398532152, -0.5553264021873474, -0.03068726882338524, -0.11350557208061218, -1.68170166015625, -0.0025233353953808546, -0.2099008858203888, -0.1980343610048294, -0.5945677757263184, -0.37998896837234497, -0.9046711921691895], "finish_reason": "length"}], "metrics": {"energy": 289.1891232500076, "energy_per_token": 1.1296450126953421, "time": 12.618908, "time_per_token": 0.049292609375}}
{"outputs": [{"text": "if not os.path.isfile(audio_file):\n        raise FileNotFoundError\n\n    y, sr = librosa.load(audio_file, mono=True)\n    SPL = 20 * np.log10(np.sqrt(np.mean(y**2)))\n\n    matrix = np.array(L)\n    matrix = np.reshape(matrix, (M, N))\n    matrix = matrix/np.max(np.abs(matrix))\n    matrix = matrix**2\n\n    fig, ax = plt.subplots()\n    ax.imshow(matrix, cmap='hot')\n    ax.set_yticks(np.arange(0, 10, 1))\n    ax.set_xticks(np.arange(0, 10, 1))\n    ax.set_yticklabels([])\n    ax.set_xticklabels([])\n    ax.set_title('Sound Power Level (SPL) = {}'.format(SPL))\n    ax.set_xlabel('Time (samples)')\n    ax.set_ylabel", "tokens": ["if", " not", " os", ".", "path", ".", "is", "file", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "\n", "\n", "    ", "y", ",", " s", "r", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ",", " mono", "=", "True", ")", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "y", "**", "2", ")))", "\n", "\n", "    ", "matrix", " =", " np", ".", "array", "(", "L", ")", "\n", "    ", "matrix", " =", " np", ".", "resh", "ape", "(", "matrix", ",", " (", "M", ",", " N", "))", "\n", "    ", "matrix", " =", " matrix", "/", "np", ".", "max", "(", "np", ".", "abs", "(", "matrix", "))", "\n", "    ", "matrix", " =", " matrix", "**", "2", "\n", "\n", "    ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "()", "\n", "    ", "ax", ".", "im", "show", "(", "matrix", ",", " c", "map", "='", "hot", "')", "\n", "    ", "ax", ".", "set", "_", "yt", "icks", "(", "np", ".", "ar", "ange", "(", "0", ",", " ", "1", "0", ",", " ", "1", "))", "\n", "    ", "ax", ".", "set", "_", "xt", "icks", "(", "np", ".", "ar", "ange", "(", "0", ",", " ", "1", "0", ",", " ", "1", "))", "\n", "    ", "ax", ".", "set", "_", "yt", "ick", "labels", "([]", ")", "\n", "    ", "ax", ".", "set", "_", "xt", "ick", "labels", "([]", ")", "\n", "    ", "ax", ".", "set", "_", "title", "('", "Sound", " Power", " Level", " (", "SP", "L", ")", " =", " {", "}'", ".", "format", "(", "SP", "L", "))", "\n", "    ", "ax", ".", "set", "_", "xlabel", "('", "Time", " (", "samples", ")", "')", "\n", "    ", "ax", ".", "set", "_", "ylabel"], "logprobs": [-1.5121221542358398, -0.21733945608139038, -0.14644840359687805, -9.894321920000948e-06, -0.0003530356043484062, -0.011976830661296844, -1.006147861480713, -0.0002131234941771254, -0.0018465149914845824, -0.0041357469744980335, -0.0001134808044298552, -6.317892984952778e-05, -0.006406247150152922, -0.043698750436306, -0.0031963707879185677, -0.03548428788781166, -0.003691408084705472, -6.401333666872233e-05, -0.00014184899919200689, -2.4165420532226562, -0.44945278763771057, -0.0012307934230193496, -3.478463888168335, -0.03574013337492943, -0.036820776760578156, -0.0026899129152297974, -0.0029440652579069138, -0.03602592647075653, -2.264974000354414e-06, -7.152555099310121e-07, -1.1920858014491387e-05, -0.05233682692050934, -0.0005639393348246813, -0.0064159599132835865, -4.6491513785440475e-06, -7.688703772146255e-05, -1.7843409776687622, -0.46253064274787903, -0.015039859339594841, -0.05052373558282852, -0.10126913338899612, -0.053631335496902466, -0.16633105278015137, -1.7984020709991455, -0.0033432324416935444, -0.08105195313692093, -0.06719813495874405, -0.009757797233760357, -0.0006094505661167204, -0.04949922114610672, -0.011831585317850113, -0.0001591317413840443, -0.001802487880922854, -0.0008023141999728978, -3.0397906812140718e-05, -0.006933794356882572, -0.014753877185285091, -0.000105375460407231, -0.1025904044508934, -0.018757695332169533, -0.020723719149827957, -0.0001896439935080707, -0.10679183900356293, -0.0465204119682312, -0.5823516249656677, -0.7265122532844543, -0.0006618693005293608, -0.054178934544324875, -0.11355069279670715, -0.5363566875457764, -0.0006283930852077901, -1.4784899950027466, -0.025049222633242607, -0.04366953670978546, -0.0010053823934867978, -0.42679664492607117, -0.23716884851455688, -0.014638403430581093, -0.08500999957323074, -2.6607348918914795, -0.06023993715643883, -0.2390860617160797, -0.2422497421503067, -1.002150058746338, -0.002795361913740635, -0.14951497316360474, -2.7418097943154862e-06, -0.0023067789152264595, -0.01905902661383152, -0.001741203828714788, -0.09740619361400604, -0.05494030565023422, -0.001165783149190247, -0.05792342498898506, -0.013187451288104057, -0.1571556180715561, -0.1259896457195282, -0.13034413754940033, -0.30203306674957275, -0.7537462115287781, -1.8399393558502197, -0.6483020782470703, -0.0019350391812622547, -0.5290586948394775, -0.002393716247752309, -2.79386043548584, -0.0011829291470348835, -0.1806904822587967, -0.0006602014764212072, -0.011824045330286026, -0.025108514353632927, -0.2093769758939743, -0.8993470072746277, -1.1051616668701172, -0.17852213978767395, -1.3138049840927124, -3.005890369415283, -0.17764262855052948, -0.11354781687259674, -0.6140520572662354, -0.0003680505615193397, -0.9579195380210876, -0.45419058203697205, -0.0597248449921608, -0.03121221624314785, -0.001618862384930253, -1.6212332411669195e-05, -0.000982397934421897, -7.974783511599526e-05, -0.48767852783203125, -0.0032460400834679604, -0.17852751910686493, -0.9517596364021301, -0.01079292967915535, -0.7388837337493896, -0.00017379203927703202, -0.007642081007361412, -0.1621539145708084, -0.07372461259365082, -1.1234230995178223, -0.0012175773736089468, -0.13077892363071442, -2.366400957107544, -0.7942861914634705, -0.008977052755653858, -0.07209401577711105, -0.21188677847385406, -0.0018701935186982155, -0.12090884894132614, -0.07497560232877731, -3.0976600646972656, -0.039600469172000885, -1.0459778308868408, -0.4099506437778473, -5.006664650863968e-05, -0.02450834959745407, -3.933898824470816e-06, -0.009305085055530071, -0.5692169070243835, -0.032702572643756866, -2.9931931495666504, -0.33552226424217224, -0.2874531149864197, -0.8144842982292175, -0.01153395976871252, -0.11065717786550522, -0.02327689342200756, -0.012286689132452011, -0.003336460329592228, -0.0064671277068555355, -0.00015078838623594493, -0.01830822043120861, -0.00035494225448928773, -0.5916001200675964, -0.0003313469351269305, -0.004380037076771259, -0.0025699466932564974, -0.0004128557338844985, -0.001865434111095965, -5.602820692729438e-06, -0.005366325378417969, -0.010202636010944843, -0.0007444233051501215, -0.007570506073534489, -0.017937231808900833, -0.010167471133172512, -0.017005344852805138, -0.0008967668982222676, -0.004872353747487068, -0.006463930010795593, -0.0005277194431982934, -0.07823900133371353, -0.09370066225528717, -0.0006462631281465292, -0.06133323162794113, -0.007957542315125465, -0.3622322976589203, -0.12550987303256989, -0.0009314250783063471, -2.7206978797912598, -0.010890334844589233, -0.011944202706217766, -0.002774082822725177, -0.0026994238141924143, -0.00016532962035853416, -0.009794983081519604, -0.000366263062460348, -0.007268532644957304, -0.005270277615636587, -6.55629628454335e-05, -0.10185446590185165, -0.0005911033367738128, -0.0039770095609128475, -0.1474648118019104, -0.2111314982175827, -0.001790707348845899, -0.14016683399677277, -0.005096657667309046, -0.27480995655059814, -0.8606539368629456, -2.474585771560669, -2.4171671867370605, -0.28764644265174866, -0.7741209864616394, -0.044278841465711594, -0.0004295380203984678, -0.2434200793504715, -0.45795831084251404, -1.181492805480957, -0.18108084797859192, -0.0014293702552095056, -0.0010882653295993805, -0.0023296140134334564, -0.21385765075683594, -6.794906312279636e-06, -0.14087575674057007, -0.010278034023940563, -0.3672574460506439, -1.7966439723968506, -0.004870218224823475, -0.324277400970459, -0.01676892675459385, -0.6859434843063354, -0.04308497905731201, -0.5102435946464539, -0.44989994168281555, -3.2343032360076904, -0.009715533815324306, -0.0034538398031145334, -0.0028191369492560625, -0.012022296898066998, -0.023809002712368965, -0.0001674750237725675, -0.005238852929323912, -6.0794889577664435e-05, -0.0007886160165071487], "finish_reason": "length"}], "metrics": {"energy": 272.4466292800906, "energy_per_token": 1.0642446456253538, "time": 11.349616, "time_per_token": 0.0443344375}}
{"outputs": [{"text": "# Read audio data from file using soundfile\n    data, sr = sf.read(audio_file)\n\n    # Convert the audio data to the desired format\n    # data = sf.to_wav(data, sr=sr)\n    data = sf.to_float(data)\n    data = librosa.resample(data, sr, 16000)\n\n    # Calculate sound pressure level (SPL) using librosa\n    SPL = 20 * np.log10(np.sqrt(np.mean(data**2)))\n\n    # Calculate the SPL of the audio data\n    # SPL = sf.get_level_db(data, fs=sr)\n\n    # Initialize an empty matrix\n    matrix = np.zeros((M, N))\n\n    # Generate the matrix by dividing the data into rows, normalizing each row,\n    # and calculating its SPL.\n    for i in range(M):\n        row_data = data[i*N:(i+1)*N]\n        row_data = sf.normalize(", "tokens": ["#", " Read", " audio", " data", " from", " file", " using", " sound", "file", "\n", "    ", "data", ",", " s", "r", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "\n", "    ", "#", " Convert", " the", " audio", " data", " to", " the", " desired", " format", "\n", "    ", "#", " data", " =", " s", "f", ".", "to", "_", "w", "av", "(", "data", ",", " s", "r", "=", "sr", ")", "\n", "    ", "data", " =", " s", "f", ".", "to", "_", "float", "(", "data", ")", "\n", "    ", "data", " =", " lib", "ros", "a", ".", "res", "ample", "(", "data", ",", " s", "r", ",", " ", "1", "6", "0", "0", "0", ")", "\n", "\n", "    ", "#", " Calculate", " sound", " pressure", " level", " (", "SP", "L", ")", " using", " lib", "ros", "a", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", "**", "2", ")))", "\n", "\n", "    ", "#", " Calculate", " the", " S", "PL", " of", " the", " audio", " data", "\n", "    ", "#", " S", "PL", " =", " s", "f", ".", "get", "_", "level", "_", "db", "(", "data", ",", " fs", "=", "sr", ")", "\n", "\n", "    ", "#", " Initialize", " an", " empty", " matrix", "\n", "    ", "matrix", " =", " np", ".", "zeros", "((", "M", ",", " N", "))", "\n", "\n", "    ", "#", " Generate", " the", " matrix", " by", " dividing", " the", " data", " into", " rows", ",", " normal", "izing", " each", " row", ",", "\n", "    ", "#", " and", " calculating", " its", " S", "PL", ".", "\n", "    ", "for", " i", " in", " range", "(", "M", "):", "\n", "        ", "row", "_", "data", " =", " data", "[", "i", "*", "N", ":(", "i", "+", "1", ")*", "N", "]", "\n", "        ", "row", "_", "data", " =", " s", "f", ".", "normal", "ize", "("], "logprobs": [-1.113114356994629, -3.203944206237793, -0.6732885241508484, -0.5745067000389099, -0.4865395128726959, -0.8740723729133606, -2.8577847480773926, -1.1216785907745361, -0.0031389747746288776, -0.47670912742614746, -0.002579696709290147, -1.4021642208099365, -0.09609623998403549, -0.8572140336036682, -0.020959321409463882, -0.011282924562692642, -0.15015460550785065, -0.00022063204960431904, -0.00014184899919200689, -0.021000295877456665, -0.0012462714221328497, -0.01116881798952818, -8.40390202938579e-05, -0.00022825974156148732, -0.13227081298828125, -0.018065787851810455, -0.35187840461730957, -0.0004805363714694977, -0.026693303138017654, -2.4582605361938477, -2.58001971244812, -0.7854235768318176, -0.05610150843858719, -0.226924866437912, -3.4586946964263916, -0.8376184701919556, -1.4014259576797485, -0.7935657501220703, -0.002227446297183633, -2.784522533416748, -1.1309493780136108, -0.27296796441078186, -3.2412257194519043, -0.03607732802629471, -0.010629937052726746, -1.7090153694152832, -0.28765127062797546, -2.3853158950805664, -0.05394583195447922, -0.1849254071712494, -0.08525852113962173, -0.27449771761894226, -0.576329231262207, -0.014807438477873802, -1.201594352722168, -0.6528961658477783, -1.1444687843322754, -0.16542135179042816, -0.9762448072433472, -1.2236137390136719, -0.0870336964726448, -1.0894993543624878, -0.0020811345893889666, -0.0005536930402740836, -0.8755753636360168, -0.00042441420373506844, -0.9048041105270386, -0.0019402741454541683, -0.05094921961426735, -0.21064956486225128, -0.03159263730049133, -1.6163480281829834, -1.1623247861862183, -0.1168220117688179, -1.6726397275924683, -4.410734163684538e-06, -0.00013422065239865333, -3.7788631743751466e-05, -2.5183160305023193, -0.0788298174738884, -0.0005360596696846187, -0.008354831486940384, -0.001999285537749529, -0.2183949202299118, -0.001855796086601913, -0.4737189710140228, -0.3368821442127228, -1.028009295463562, -0.05108527094125748, -0.015305567532777786, -0.0009561972692608833, -0.0025247621815651655, -0.08089287579059601, -0.09666707366704941, -0.42190036177635193, -0.0008952185744419694, -0.06330287456512451, -0.6818860173225403, -2.3203866481781006, -0.04305095225572586, -0.05214233696460724, -0.1775212585926056, -0.005612567532807589, -6.341733387671411e-05, -0.005219523329287767, -1.029687523841858, -1.9564824104309082, -8.129743218887597e-05, -0.0010152667528018355, -0.27025383710861206, -0.002986615989357233, -0.8932929635047913, -0.0009954979177564383, -0.06923680752515793, -0.56206214427948, -0.023087384179234505, -0.00047946401173248887, -0.025657661259174347, -0.008909235708415508, -0.0010919567430391908, -0.0013269914779812098, -0.000406301929615438, -2.5152843591058627e-05, -0.00650479132309556, -0.02625667117536068, -0.00028320116689428687, -0.19112704694271088, -0.012075298465788364, -0.022645678371191025, -0.000243634101934731, -0.05820699781179428, -0.017849409952759743, -0.30327409505844116, -0.7230872511863708, -0.00022968991834204644, -0.033390771597623825, -0.021452412009239197, -0.20448189973831177, -0.0007538337376900017, -0.0409400537610054, -1.8036118745803833, -0.887935996055603, -2.308946371078491, -0.010679238475859165, -1.4844971895217896, -0.16921666264533997, -0.5271739363670349, -1.4096617698669434, -0.6629534959793091, -0.029649045318365097, -1.1342871189117432, -0.43766382336616516, -0.000648883986286819, -0.046783801168203354, -2.8909173011779785, -0.01897422783076763, -0.003984608221799135, -1.656495213508606, -0.01626671850681305, -1.2741990089416504, -0.07915620505809784, -1.455353856086731, -0.16341623663902283, -0.1793387085199356, -0.41184309124946594, -2.871541976928711, -0.012597745284438133, -0.4378128945827484, -0.5316535234451294, -0.04968741908669472, -0.1734425276517868, -0.0008504349971190095, -0.05078018084168434, -3.0481839179992676, -1.9400007724761963, -0.06682867556810379, -0.3814573585987091, -0.8490367531776428, -0.0011854295153170824, -0.5382746458053589, -0.007676979526877403, -0.06147022917866707, -0.0010457528987899423, -0.2206314653158188, -0.07144682854413986, -0.009668074548244476, -0.0012367465533316135, -0.039730969816446304, -0.15256765484809875, -0.005508719012141228, -0.04838915541768074, -0.0005297449533827603, -0.041970398277044296, -4.264552593231201, -0.5044289827346802, -0.2646770477294922, -1.6811621189117432, -2.7818384170532227, -0.16924826800823212, -0.9139661192893982, -0.1392585188150406, -1.87557053565979, -2.536006450653076, -1.7473894357681274, -0.003146223723888397, -0.7827414870262146, -0.030325932428240776, -0.35052141547203064, -1.7411315441131592, -0.0010387268848717213, -0.001946698990650475, -0.033318594098091125, -3.2780165672302246, -1.984089732170105, -0.34575414657592773, -7.807903602952138e-05, -2.7228798866271973, -0.4756098985671997, -0.01905224286019802, -0.219304621219635, -0.20480385422706604, -0.08486348390579224, -0.0021482266020029783, -0.0008715168805792928, -0.5186945796012878, -0.007669171784073114, -0.007828980684280396, -0.0063831498846411705, -0.7702434659004211, -0.8257384300231934, -0.15665601193904877, -0.0024026355240494013, -0.0771116241812706, -0.1226470097899437, -0.023659761995077133, -0.7452000975608826, -0.29317304491996765, -0.5216647982597351, -0.0008733034483157098, -0.007458223029971123, -0.00012063252506777644, -0.0033043804578483105, -0.0002464944263920188, -0.02075711265206337, -0.037227436900138855, -0.04501143470406532, -0.6592823266983032, -0.034756310284137726, -1.978959321975708, -0.3911451995372772, -1.8868505954742432, -0.002603476867079735, -0.00011205045302631333, -0.8760737776756287, -0.0008373330347239971, -0.3979872763156891], "finish_reason": "length"}], "metrics": {"energy": 261.91897848701484, "energy_per_token": 1.0231210097149017, "time": 11.360772, "time_per_token": 0.044378015625}}
{"outputs": [{"text": "data, samplerate = sf.read(audio_file)\n\n    # Calculate SPL using formula\n    SPL = 20 * np.log10(np.sqrt(np.mean(data**2)))\n\n    # Normalize matrix based on SPL\n    matrix = np.array(L).reshape(M, N)\n    matrix /= SPL\n\n    # Generate spectrogram\n    spectrogram = plt.specgram(matrix, Fs=samplerate)\n    fig = spectrogram[0]\n\n    return matrix, fig", "tokens": ["data", ",", " sampler", "ate", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "\n", "    ", "#", " Calculate", " S", "PL", " using", " formula", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", "**", "2", ")))", "\n", "\n", "    ", "#", " Normal", "ize", " matrix", " based", " on", " S", "PL", "\n", "    ", "matrix", " =", " np", ".", "array", "(", "L", ")", ".", "resh", "ape", "(", "M", ",", " N", ")", "\n", "    ", "matrix", " /", "=", " S", "PL", "\n", "\n", "    ", "#", " Generate", " spectro", "gram", "\n", "    ", "spect", "ro", "gram", " =", " plt", ".", "spec", "gram", "(", "matrix", ",", " F", "s", "=", "sam", "pler", "ate", ")", "\n", "    ", "fig", " =", " spectro", "gram", "[", "0", "]", "\n", "\n", "    ", "return", " matrix", ",", " fig", "\n", "\n", "if"], "logprobs": [-3.566220283508301, -0.615156352519989, -2.0875356197357178, -0.0005292683490552008, -0.022650456055998802, -0.2724246084690094, -0.00016783259343355894, -0.0003026265767402947, -0.018048226833343506, -0.001958239823579788, -0.026320766657590866, -0.0002097863471135497, -0.00017927470616996288, -0.13407890498638153, -0.06081567332148552, -1.8178722858428955, -0.0009140365873463452, -1.003743052482605, -1.4681024551391602, -0.816460907459259, -0.0002951186615973711, -1.6838732957839966, -2.628330707550049, -0.7950026988983154, -0.0029484631959348917, -0.35799548029899597, -0.0017794027226045728, -0.0653621181845665, -0.019048266112804413, -0.008185411803424358, -0.0004959068610332906, -0.03865140303969383, -0.029842058196663857, -0.00046969347749836743, -0.0012666305992752314, -0.0009812070056796074, -2.539125671319198e-05, -0.0066461944952607155, -0.0051905871368944645, -0.00018726025882642716, -0.05299152433872223, -0.011720015667378902, -0.01691076159477234, -0.0001560327800689265, -0.039749182760715485, -0.030299333855509758, -0.13036631047725677, -0.7681169509887695, -0.0003771070914808661, -0.04085823521018028, -0.021464429795742035, -0.14316126704216003, -0.0004433602443896234, -0.19809488952159882, -0.7236599922180176, -0.02677164599299431, -1.362868309020996, -0.8429020047187805, -0.00214037555269897, -0.11367114633321762, -0.00010525626566959545, -0.13309930264949799, -0.001379610737785697, -0.392835408449173, -0.016338611021637917, -0.22771073877811432, -0.0046170298010110855, -0.3812047243118286, -0.4019463062286377, -0.04627379775047302, -0.17030732333660126, -0.12414011359214783, -0.011451231315732002, -1.9073468138230965e-06, -0.35798272490501404, -0.04226047173142433, -0.0005856229108758271, -0.08108449727296829, -0.009490256197750568, -1.6401804685592651, -0.02711210958659649, -0.2731919586658478, -0.7570966482162476, -0.0002802217786666006, -0.899847686290741, -5.173549288883805e-05, -0.06935259699821472, -0.07864735275506973, -0.0004533693427219987, -0.056627705693244934, -0.35773977637290955, -0.06428652256727219, -0.002906505251303315, -0.33137086033821106, -0.0034135663881897926, -3.404287815093994, -0.0320509597659111, -0.017951399087905884, -0.08472351729869843, -1.3798400163650513, -0.00121412449516356, -0.37648695707321167, -0.011105865240097046, -0.0012053137179464102, -0.05873793363571167, -0.20080868899822235, -1.1493635177612305, -0.032388705760240555, -0.01904534362256527, -0.06307827681303024, -1.2040065485052764e-05, -1.0728830375228426e-06, -1.2050881385803223, -0.026522433385252953, -0.8354088664054871, -2.479417324066162, -0.45297762751579285, -1.067839503288269, -1.2397689715726301e-05, -0.016597408801317215, -0.13114400207996368, -0.014927355572581291, -0.08303672075271606, -0.7056041955947876, -0.0010664734290912747, -0.2961522042751312, -0.22894287109375, -0.004690477624535561, -0.0223209448158741, -0.5534505248069763, -0.013589606620371342, -0.6849676370620728], "finish_reason": "stop"}], "metrics": {"energy": 148.53868746757516, "energy_per_token": 1.1252930868755693, "time": 5.894062, "time_per_token": 0.04465198484848485}}
{"outputs": [{"text": "try:\n        with sf.SoundFile(audio_file) as file:\n            data = file.read(frames=file.frames)\n            # SPL = 20 * log10(sqrt(mean(data**2)))\n            spl = 20 * np.log10(np.sqrt(np.mean(data**2)))\n\n        # normalize the data based on the SPL\n        normalized_data = (data - np.mean(data)) / np.std(data)\n        normalized_matrix = np.reshape(normalized_data, (M, N))\n    except FileNotFoundError:\n        print(f\"Error: The audio file {audio_file} does not exist.\")\n        return\n\n    # create a figure object\n    figure = plt.figure()\n\n    # calculate the spectrogram\n    S = np.abs(librosa.feature.melspectrogram(normalized_matrix))\n\n    # create the spectrogram\n    plt.imshow(S, cmap='gray', vmin=0, vmax=200, aspect='auto')\n    plt", "tokens": ["try", ":", "\n", "        ", "with", " s", "f", ".", "Sound", "File", "(", "audio", "_", "file", ")", " as", " file", ":", "\n", "            ", "data", " =", " file", ".", "read", "(", "frames", "=", "file", ".", "frames", ")", "\n", "            ", "#", " S", "PL", " =", " ", "2", "0", " *", " log", "1", "0", "(", "sqrt", "(", "mean", "(", "data", "**", "2", ")))", "\n", "            ", "spl", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", "**", "2", ")))", "\n", "\n", "        ", "#", " normalize", " the", " data", " based", " on", " the", " S", "PL", "\n", "        ", "normalized", "_", "data", " =", " (", "data", " -", " np", ".", "mean", "(", "data", "))", " /", " np", ".", "std", "(", "data", ")", "\n", "        ", "normalized", "_", "matrix", " =", " np", ".", "resh", "ape", "(", "normalized", "_", "data", ",", " (", "M", ",", " N", "))", "\n", "    ", "except", " File", "NotFound", "Error", ":", "\n", "        ", "print", "(", "f", "\"", "Error", ":", " The", " audio", " file", " {", "audio", "_", "file", "}", " does", " not", " exist", ".", "\"", ")", "\n", "        ", "return", "\n", "\n", "    ", "#", " create", " a", " figure", " object", "\n", "    ", "figure", " =", " plt", ".", "figure", "()", "\n", "\n", "    ", "#", " calculate", " the", " spectro", "gram", "\n", "    ", "S", " =", " np", ".", "abs", "(", "lib", "ros", "a", ".", "feature", ".", "m", "els", "pect", "ro", "gram", "(", "normalized", "_", "matrix", "))", "\n", "\n", "    ", "#", " create", " the", " spectro", "gram", "\n", "    ", "plt", ".", "im", "show", "(", "S", ",", " c", "map", "='", "gray", "'", ",", " v", "min", "=", "0", ",", " v", "max", "=", "2", "0", "0", ",", " aspect", "='", "auto", "')", "\n", "    ", "plt"], "logprobs": [-2.4584550857543945, -0.0015735160559415817, -0.01354068424552679, -0.010551616549491882, -2.119779586791992, -0.0762147530913353, -0.00019178935326635838, -0.00018594920402392745, -0.008119788020849228, -0.004836289677768946, -0.0010271755745634437, -0.015451952815055847, -0.000428942235885188, -0.0002592465898487717, -0.16994450986385345, -0.0003013156820088625, -2.2584969997406006, -0.009413854219019413, -0.043728191405534744, -0.006487025413662195, -1.4208086729049683, -0.05682481825351715, -0.3321995139122009, -0.0025170331355184317, -0.18515951931476593, -0.576167643070221, -0.4118586480617523, -0.22852711379528046, -0.9078719019889832, -0.00011336160969221964, -0.4563017785549164, -1.0510820150375366, -0.13217106461524963, -1.1281280517578125, -2.6987545490264893, -2.461050510406494, -0.012779013253748417, -1.4297301769256592, -0.0329984650015831, -0.019823061302304268, -0.0011268462985754013, -0.045089494436979294, -0.2403569519519806, -0.006093140225857496, -0.0003163314249832183, -0.0074358596466481686, -0.03810315206646919, -0.006424843333661556, -0.051901742815971375, -0.012791606597602367, -0.029553335160017014, -1.4272396564483643, -0.00032693761750124395, -0.022211238741874695, -0.07706858217716217, -0.030878117308020592, -2.257172107696533, -0.12822489440441132, -0.08006002008914948, -0.02838103473186493, -0.0013379440642893314, -0.035919900983572006, -0.03395751491189003, -0.00036435641231946647, -0.003596625057980418, -0.00397938396781683, -0.00016890530241653323, -0.01584639400243759, -0.005624066106975079, -0.000176652567461133, -0.04311980679631233, -0.012331551872193813, -0.011767378076910973, -0.00012110930401831865, -0.014366642571985722, -0.008046118542551994, -0.14034566283226013, -0.7338535785675049, -0.0002686616498976946, -0.021380886435508728, -0.03079073131084442, -2.271667718887329, -0.5939278602600098, -1.262778639793396, -3.203641414642334, -0.818122148513794, -0.973217248916626, -0.513405442237854, -0.0011062461417168379, -0.19052453339099884, -0.20561030507087708, -3.302042750874534e-05, -0.2181376963853836, -0.0032269093208014965, -1.9862844944000244, -0.06372664868831635, -0.07122426480054855, -0.002735208487138152, -0.7309625148773193, -0.05441942811012268, -0.4297485947608948, -0.32998204231262207, -0.002005472080782056, -0.29457908868789673, -0.0006074252305552363, -0.0011726891389116645, -0.02907649800181389, -0.02503655105829239, -0.2575587332248688, -0.0024568631779402494, -0.019478820264339447, -6.97350042173639e-05, -0.00019870213873218745, -0.00413562823086977, -0.1446935087442398, -1.0449409484863281, -1.3404343128204346, -0.009465222246944904, -1.3848001956939697, -0.00600948603823781, -0.3941681385040283, -0.0015435221139341593, -0.43371906876564026, -2.7418097943154862e-06, -0.0006112375995144248, -0.0324302539229393, -1.7165990357170813e-05, -4.2676016164477915e-05, -0.002795837353914976, -0.059213198721408844, -0.04852941259741783, -0.0016884845681488514, -0.01313521433621645, -0.017275337129831314, -0.10222605615854263, -1.5859076976776123, -0.004244960844516754, -0.1066834107041359, -2.682172998902388e-05, -2.3841830625315197e-06, -0.2387121468782425, -0.00717195775359869, -0.0013456823071464896, -0.8825964331626892, -0.08338455110788345, -0.6171820759773254, -0.09320209175348282, -1.5286762714385986, -0.09093683212995529, -2.307211399078369, -1.1722447872161865, -0.0009039129945449531, -1.0009760856628418, -0.0024491334334015846, -7.080780778778717e-05, -0.00015245705435518175, -0.004271194338798523, -0.5458281636238098, -0.00012003655137959868, -0.0013862771447747946, -0.1437508910894394, -0.03525703027844429, -0.0006312523037195206, -0.004742564167827368, -0.27117785811424255, -0.41273921728134155, -0.9061321020126343, -0.2799075245857239, -0.0019701372366398573, -0.28730204701423645, -1.7952868938446045, -0.5387067794799805, -0.39822569489479065, -0.6659919619560242, -1.768174409866333, -0.0008839037618599832, -2.5716214179992676, -0.1905699521303177, -0.002022008877247572, -5.519237674889155e-05, -0.011293062008917332, -0.412125825881958, -0.001578276976943016, -0.24234479665756226, -0.000634111522231251, -0.0198519267141819, -3.393540382385254, -0.24854767322540283, -0.9503013491630554, -0.003979502711445093, -0.6673231720924377, -0.0010569468140602112, -2.7374749183654785, -0.34014731645584106, -0.6785754561424255, -0.0012424614978954196, -0.16020652651786804, -0.0008351890719495714, -0.10463696718215942, -7.903263758635148e-05, -2.3841855067985307e-07, -1.5020257706055418e-05, -0.776174008846283, -2.47952248173533e-05, -0.2408650815486908, -0.010723348706960678, -0.0005976559477858245, -0.0023713582195341587, -0.0004306104383431375, -0.0009078433504328132, -1.099562406539917, -3.135155202471651e-05, -0.02956930734217167, -1.386641502380371, -0.06629443913698196, -0.29130688309669495, -0.0006713996990583837, -0.0211446825414896, -1.5765639543533325, -1.4896879196166992, -0.36647480726242065, -0.00044490929576568305, -1.7499933242797852, -0.0004673104267567396, -0.8350203037261963, -0.00031454383861273527, -1.1382285356521606, -0.000311802898067981, -0.0012373419012874365, -0.11261115223169327, -0.08433090150356293, -0.3234257698059082, -0.0005034133209846914, -0.10368836671113968, -0.696968138217926, -0.6311073303222656, -0.0011862630490213633, -1.5151009559631348, -0.48359525203704834, -0.036787569522857666, -0.5884422659873962, -0.10759931057691574, -0.0033058063127100468, -0.0005922947311773896, -0.0031026105862110853, -1.113207221031189, -1.1679857969284058, -0.3233959376811981, -0.9107117056846619, -0.31248074769973755, -0.14515818655490875, -0.01927654631435871, -0.34551334381103516, -0.019217142835259438, -0.8496598601341248, -0.18058867752552032], "finish_reason": "length"}], "metrics": {"energy": 262.03122944927213, "energy_per_token": 1.0235594900362193, "time": 11.359661, "time_per_token": 0.04437367578125}}
{"outputs": [{"text": "try:\n        data, fs = sf.read(audio_file)\n    except FileNotFoundError:\n        raise FileNotFoundError(f\"File not found: {audio_file}\")\n\n    SPL = 20 * np.log10(np.sqrt(np.mean(data ** 2)))\n\n    matrix = np.array([L[i:i+M] for i in range(0, len(L)-M, M)])\n    matrix = (matrix-np.mean(matrix))/np.std(matrix)\n\n    fig = plt.figure()\n    ax = fig.add_subplot(111)\n\n    # The spectrogram is generated using matplotlib.pyplot.specgram()\n    # with the spectrogram_settings parameters.\n    specgram_settings = {\n        's_freq': fs,\n        'x_freq': np.linspace(0, fs, M),\n        'x_time': np.linspace(0, len(data), N),\n        'x_label': 'Time [s]',\n        'y_label':", "tokens": ["try", ":", "\n", "        ", "data", ",", " fs", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "    ", "except", " File", "NotFound", "Error", ":", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "File", " not", " found", ":", " {", "audio", "_", "file", "}\"", ")", "\n", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", " **", " ", "2", ")))", "\n", "\n", "    ", "matrix", " =", " np", ".", "array", "([", "L", "[", "i", ":", "i", "+", "M", "]", " for", " i", " in", " range", "(", "0", ",", " len", "(", "L", ")-", "M", ",", " M", ")]", ")", "\n", "    ", "matrix", " =", " (", "matrix", "-", "np", ".", "mean", "(", "matrix", "))/", "np", ".", "std", "(", "matrix", ")", "\n", "\n", "    ", "fig", " =", " plt", ".", "figure", "()", "\n", "    ", "ax", " =", " fig", ".", "add", "_", "sub", "plot", "(", "1", "1", "1", ")", "\n", "\n", "    ", "#", " The", " spectro", "gram", " is", " generated", " using", " matplotlib", ".", "py", "plot", ".", "spec", "gram", "()", "\n", "    ", "#", " with", " the", " spectro", "gram", "_", "settings", " parameters", ".", "\n", "    ", "spec", "gram", "_", "settings", " =", " {", "\n", "        ", "'", "s", "_", "freq", "':", " fs", ",", "\n", "        ", "'", "x", "_", "freq", "':", " np", ".", "l", "inspace", "(", "0", ",", " fs", ",", " M", ")", ",", "\n", "        ", "'", "x", "_", "time", "':", " np", ".", "l", "inspace", "(", "0", ",", " len", "(", "data", ")", ",", " N", ")", ",", "\n", "        ", "'", "x", "_", "label", "':", " '", "Time", " [", "s", "]", "'", ",", "\n", "        ", "'", "y", "_", "label", "':"], "logprobs": [-2.4584550857543945, -0.0015735160559415817, -0.01354068424552679, -0.010551616549491882, -2.339153289794922, -0.30218279361724854, -1.1864612102508545, -0.010565653443336487, -0.5242705345153809, -9.77468371274881e-05, -0.00022897482267580926, -0.024282891303300858, -0.001774761825799942, -0.025993740186095238, -0.00015758226800244302, -0.0002499506517779082, -0.13633735477924347, -0.08865999430418015, -0.3418883681297302, -0.0009282094542868435, -0.26703062653541565, -1.3351351299206726e-05, -1.9073468138230965e-06, -0.20058377087116241, -0.009474551305174828, -0.0010062160436064005, -0.5432931184768677, -0.048429928719997406, -0.00016199229867197573, -0.0002420847595203668, -0.1484581083059311, -0.3060607314109802, -0.1294376254081726, -1.5991660356521606, -0.6900787949562073, -0.003053647233173251, -0.04915483295917511, -0.03940703719854355, -0.007313148118555546, -0.0007104733376763761, -0.00023183519078884274, -0.030428854748606682, -0.0002579356369096786, -0.019376637414097786, -0.36261752247810364, -0.0007085673278197646, -2.076854944229126, -0.003711004974320531, -0.0974336639046669, -0.05924083665013313, -0.013908958062529564, -0.0006973695708438754, -0.03737214207649231, -0.03395244479179382, -0.00043585337698459625, -0.0013609204906970263, -0.000758955895435065, -3.194758028257638e-05, -0.007625045254826546, -0.013161450624465942, -0.0001805857609724626, -0.10246140509843826, -0.007436569780111313, -0.014101860113441944, -0.00020394629973452538, -0.05499965697526932, -0.02814752236008644, -0.17260779440402985, -0.7032448053359985, -0.0018191470298916101, -2.4437606043647975e-05, -0.03726017102599144, -0.1301857978105545, -0.46735846996307373, -0.0005159238935448229, -1.0870290994644165, -0.022097906097769737, -0.04130878299474716, -0.0013553252210840583, -0.39295893907546997, -1.7711365222930908, -1.085911512374878, -0.2770252525806427, -0.10888884216547012, -0.409388929605484, -0.07515165954828262, -1.376831293106079, -0.33119720220565796, -0.07097700983285904, -0.0231788232922554, -0.00047017011092975736, -0.000722266617231071, -0.004324014764279127, -0.0006526962388306856, -0.017902221530675888, -0.0003333727945573628, -0.11175228655338287, -0.00015341058315243572, -0.007854055613279343, -1.7863149642944336, -0.06373023241758347, -1.432129979133606, -0.1913832426071167, -0.06939652562141418, -0.09204787015914917, -0.31664374470710754, -0.23367322981357574, -0.20361053943634033, -0.47032448649406433, -1.8393992185592651, -0.055349141359329224, -2.4485225677490234, -0.2975047528743744, -0.0012005510507151484, -1.0340794324874878, -0.0005988473421894014, -0.0013012760318815708, -0.8429986834526062, -0.02019779197871685, -0.0023316359147429466, -0.02835473045706749, -0.0002932118659373373, -0.0009696549386717379, -0.03050759993493557, -0.059822652488946915, -0.6050567030906677, -0.00018571082910057157, -0.9067230224609375, -1.249297022819519, -0.011616799980401993, -0.00018952481332235038, -0.019555628299713135, -0.6235471367835999, -0.004359147977083921, -0.1891147643327713, -1.329811453819275, -0.06649534404277802, -0.22176988422870636, -4.339123915997334e-05, -0.016019096598029137, -7.152531907195225e-06, -0.009298116900026798, -8.940297266235575e-05, -0.03197568282485008, -0.017901401966810226, -0.27609995007514954, -1.9311717551317997e-05, -0.012858336791396141, -0.0038551785983145237, -1.6899988651275635, -0.0004536076739896089, -2.09395432472229, -4.293198585510254, -1.7506219148635864, -0.005738451145589352, -1.1926295757293701, -0.39963871240615845, -1.2767598628997803, -3.323157548904419, -1.091148018836975, -0.9595348834991455, -0.0015305483248084784, -0.5161705017089844, -0.7404538989067078, -0.06796424835920334, -1.571212887763977, -0.9313313961029053, -0.005922744050621986, -1.543234944343567, -1.9600833654403687, -0.38172489404678345, -3.5091047286987305, -0.010352719575166702, -1.9771636724472046, -4.1039042472839355, -3.9449949264526367, -1.3259912729263306, -0.13870112597942352, -0.05143658071756363, -2.304920196533203, -0.41672462224960327, -0.046982862055301666, -0.017882665619254112, -0.018388863652944565, -0.4063926041126251, -0.007220009341835976, -0.1056111603975296, -0.34508585929870605, -1.653314232826233, -2.1891379356384277, -2.1898398399353027, -0.10642740875482559, -0.3133386969566345, -0.09627435356378555, -0.40160441398620605, -0.002592181321233511, -0.0206612478941679, -1.5997246503829956, -0.03866826370358467, -1.810802698135376, -0.08277282863855362, -0.9557417035102844, -0.0006760457181371748, -1.7914646863937378, -4.4225667807040736e-05, -0.040321722626686096, -0.054751623421907425, -0.04904145002365112, -0.3854540288448334, -1.3747198581695557, -1.1724307537078857, -0.13272084295749664, -0.010769343003630638, -0.16310042142868042, -0.0020308124367147684, -0.0052535575814545155, -0.8647855520248413, -0.010126168839633465, -0.1430336833000183, -0.0034499194007366896, -0.018711483106017113, -0.000687958556227386, -0.09599672257900238, -5.07818695041351e-05, -0.02509886585175991, -0.01824723742902279, -0.0054838224314153194, -1.090008020401001, -0.0003311085747554898, -0.6245986223220825, -0.51320481300354, -0.8206307888031006, -0.13387006521224976, -0.036835022270679474, -0.01916966401040554, -0.011220686137676239, -0.04401388019323349, -0.01524275727570057, -1.9898217916488647, -0.29566583037376404, -2.663198709487915, -0.034887902438640594, -0.2288125902414322, -0.25273948907852173, -2.2352616786956787, -0.1380932629108429, -0.0025869496166706085, -0.0016127924900501966, -0.005254150368273258, -0.04275311157107353, -0.005420273635536432, -0.005164496600627899, -0.4731725752353668, -0.003951361868530512, -0.04417722299695015, -0.000608854868914932], "finish_reason": "length"}], "metrics": {"energy": 293.50538006973267, "energy_per_token": 1.1465053908973932, "time": 11.354808, "time_per_token": 0.04435471875}}
{"outputs": [{"text": "L = np.array(L).reshape(M, N)\n    L = L / np.sqrt(np.sum(L ** 2, axis=0))\n    s, fs = sf.read(audio_file)\n    sp = sf.max_amplitude(s)\n    SPL = 20 * np.log10(np.sqrt(np.mean(s ** 2)))\n    sp /= L.max()\n    matrix = np.sqrt(L * sp * sp * 10000)\n\n    freqs = librosa.fft.fftfreq(len(s), 1 / fs)\n    times = librosa.frames_to_time(range(len(s)), s.shape[-1], s.dtype)\n    x_freq, y_time = np.meshgrid(freqs, times)\n\n    fig, ax = plt.subplots()\n    plt.imshow(matrix, extent=[0, matrix.shape[1], 0, matrix.shape[0]])\n    ax.set_xlabel('", "tokens": ["L", " =", " np", ".", "array", "(", "L", ")", ".", "resh", "ape", "(", "M", ",", " N", ")", "\n", "    ", "L", " =", " L", " /", " np", ".", "sqrt", "(", "np", ".", "sum", "(", "L", " **", " ", "2", ",", " axis", "=", "0", "))", "\n", "    ", "s", ",", " fs", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "    ", "sp", " =", " s", "f", ".", "max", "_", "am", "plitude", "(", "s", ")", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "s", " **", " ", "2", ")))", "\n", "    ", "sp", " /", "=", " L", ".", "max", "()", "\n", "    ", "matrix", " =", " np", ".", "sqrt", "(", "L", " *", " sp", " *", " sp", " *", " ", "1", "0", "0", "0", "0", ")", "\n", "\n", "    ", "freq", "s", " =", " lib", "ros", "a", ".", "ff", "t", ".", "ff", "tf", "req", "(", "len", "(", "s", ")", ",", " ", "1", " /", " fs", ")", "\n", "    ", "times", " =", " lib", "ros", "a", ".", "frames", "_", "to", "_", "time", "(", "range", "(", "len", "(", "s", "))", ",", " s", ".", "shape", "[-", "1", "]", ",", " s", ".", "d", "type", ")", "\n", "    ", "x", "_", "freq", ",", " y", "_", "time", " =", " np", ".", "mesh", "grid", "(", "freq", "s", ",", " times", ")", "\n", "\n", "    ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "()", "\n", "    ", "plt", ".", "im", "show", "(", "matrix", ",", " extent", "=[", "0", ",", " matrix", ".", "shape", "[", "1", "]", ",", " ", "0", ",", " matrix", ".", "shape", "[", "0", "]]", ")", "\n", "    ", "ax", ".", "set", "_", "xlabel", "('"], "logprobs": [-3.77541446685791, -0.2391502559185028, -0.17830802500247955, -5.185469490243122e-05, -0.19011682271957397, -0.008841768838465214, -0.0034746292512863874, -0.10326087474822998, -0.7419998049736023, -0.07045475393533707, -3.576272320060525e-06, -0.18824008107185364, -0.035542044788599014, -0.003404180984944105, -0.07085685431957245, -0.003051032545045018, -0.11099382489919662, -0.18811297416687012, -1.1760516166687012, -0.7597187161445618, -0.18437357246875763, -0.2659175992012024, -0.4413829743862152, -0.001746439840644598, -0.860767126083374, -0.030757209286093712, -0.09362620115280151, -0.00022373080719262362, -1.419640302658081, -0.08069605380296707, -0.08830144256353378, -0.6997221112251282, -0.0016242180718109012, -0.0001370812824461609, -0.22073711454868317, -0.013226979412138462, -0.1356750726699829, -0.37663936614990234, -0.21106673777103424, -0.19542135298252106, -0.2473062425851822, -3.583853244781494, -0.6814049482345581, -0.7583618760108948, -0.009244258515536785, -0.2802179753780365, -0.000348268891684711, -0.0003399271226953715, -0.04801348224282265, -0.004869743715971708, -0.020317647606134415, -0.00024244230007752776, -0.00021741411183029413, -0.17662177979946136, -0.0380004458129406, -0.04431089013814926, -2.885150671005249, -0.8008004426956177, -2.006027936935425, -0.14215950667858124, -0.0021365690045058727, -3.418747663497925, -0.00436318339779973, -1.391224980354309, -5.543078441405669e-05, -1.2172878980636597, -0.7683424949645996, -0.881057620048523, -0.1884745955467224, -0.041716139763593674, -1.3712821006774902, -0.0034768865443766117, -0.0491887666285038, -0.0609884113073349, -0.015049605630338192, -0.0009148702956736088, -0.01499758381396532, -0.027938762679696083, -0.0011653067776933312, -0.0018661479698494077, -0.0011972171487286687, -2.4676019165781327e-05, -0.015373539179563522, -0.2592335641384125, -0.0004876854654867202, -0.22926804423332214, -0.007978001609444618, -0.0529361255466938, -0.0007021345663815737, -1.3027992248535156, -0.025753743946552277, -1.106676697731018, -0.19838117063045502, -0.0018091516103595495, -2.062299427052494e-05, -0.23727895319461823, -0.1077965795993805, -0.08003438264131546, -2.778475284576416, -2.7799131870269775, -0.00040987672400660813, -3.8067407608032227, -0.27631238102912903, -0.37632888555526733, -0.014394843950867653, -0.17114730179309845, -0.08305218815803528, -3.904697895050049, -0.10249292850494385, -1.4901764392852783, -0.0030352259054780006, -2.1012675762176514, -0.09079793840646744, -0.25338804721832275, -1.0229732990264893, -0.093416228890419, -2.25699782371521, -2.3811535835266113, -2.2500593662261963, -1.2515050172805786, -0.7918880581855774, -0.14974036812782288, -0.9518421292304993, -0.7959232926368713, -1.3544766902923584, -0.7257137298583984, -0.17965759336948395, -1.8259391784667969, -0.0008806879632174969, -3.558216094970703, -0.8250389099121094, -0.6751852631568909, -0.8492019772529602, -7.510157047363464e-06, -1.9073468138230965e-06, -2.455681169521995e-05, -0.013499638997018337, -0.0003475538978818804, -0.1106145977973938, -0.11000126600265503, -0.07368142902851105, -0.003174862591549754, -0.00027176024741493165, -0.7029756903648376, -0.0002366024418734014, -0.488475501537323, -0.017679717391729355, -0.00330901425331831, -0.04087734594941139, -0.0012942517641931772, -0.3618793189525604, -0.027374977245926857, -0.0040491982363164425, -0.07630499452352524, -0.015498083084821701, -2.3888463973999023, -0.0729704350233078, -0.7392338514328003, -3.576278118089249e-07, -0.0005878866068087518, -3.814689989667386e-06, -1.7902439832687378, -0.0018356868531554937, -0.0004609952447935939, -4.768360213347478e-06, -0.020846080034971237, -0.0016921738861128688, -1.7493706941604614, -0.00012933371181134135, -0.07423663884401321, -1.3232143828645349e-05, -0.009571376256644726, -0.22275246679782867, -0.0016315970569849014, -0.6263730525970459, -1.000516653060913, -0.32412266731262207, -1.9749326705932617, -0.0020130861084908247, -0.02782619372010231, -0.1659301221370697, -0.9228315949440002, -0.11050402373075485, -1.1630111932754517, -0.0002739054325502366, -0.7850083708763123, -0.010203815996646881, -0.5515955090522766, -3.7184884548187256, -1.7099733352661133, -2.820651054382324, -0.5734044313430786, -0.46780890226364136, -0.024497531354427338, -0.019335011020302773, -0.02736140601336956, -0.00471883499994874, -0.00030071981018409133, -0.008633549325168133, -2.8967437174287625e-05, -0.001328062848187983, -0.01384018175303936, -4.6491513785440475e-06, -0.0048804203979671, -0.00862598605453968, -0.05501849949359894, -0.010342337191104889, -0.7166894674301147, -0.000454799213912338, -1.0986461639404297, -0.5663039684295654, -0.03474260866641998, -0.04348442330956459, -0.000568228424526751, -3.981510963058099e-05, -0.000543446687515825, -0.0001245659514097497, -0.6378174424171448, -0.0016544476384297013, -0.047523997724056244, -2.640956163406372, -3.909988299710676e-05, -1.5524482727050781, -4.875540980719961e-05, -0.010953890159726143, -0.08879504352807999, -0.08163099735975266, -0.8068070411682129, -0.288330078125, -2.1812148094177246, -0.009888590313494205, -2.8112287521362305, -0.0013737775152549148, -0.008938301354646683, -0.0775747075676918, -0.3094307482242584, -0.02596667781472206, -0.1393374502658844, -0.40206655859947205, -0.03210360184311867, -0.002413457492366433, -0.0337703637778759, -4.5536911784438416e-05, -0.0015750633319839835, -0.0003143055073451251, -0.008809865452349186, -0.008773470297455788, -1.9320001602172852, -0.01222003810107708, -0.030280597507953644, -0.7975396513938904, -0.004173735622316599, -0.1825934499502182, -0.13648639619350433, -1.0553290843963623, -0.1812364012002945], "finish_reason": "length"}], "metrics": {"energy": 274.1301285715104, "energy_per_token": 1.0708208147324625, "time": 11.359106, "time_per_token": 0.0443715078125}}
{"outputs": [{"text": "if os.path.exists(audio_file):\n        # read the audio data from the audio file\n        audio_data, fs = sf.read(audio_file)\n        audio_data = librosa.to_mono(audio_data)\n        # calculate the sound pressure level (SPL)\n        SPL = 20 * np.log10(np.sqrt(np.mean(audio_data**2)))\n        # normalize the matrix based on the SPL\n        normalized_matrix = np.divide(L, SPL)\n    else:\n        raise FileNotFoundError(f\"Audio file {audio_file} not found\")\n\n    # generate spectrogram from the normalized matrix\n    fig, ax = plt.subplots()\n    im = plt.imshow(normalized_matrix, cmap=\"gray_r\", extent=[0, N, 0, M], aspect=\"auto\")\n    ax.set_yticklabels(ax.get_yticks().astype(int))\n    ax.set_xticklabels(ax.get_xticks().astype(", "tokens": ["if", " os", ".", "path", ".", "exists", "(", "audio", "_", "file", "):", "\n", "        ", "#", " read", " the", " audio", " data", " from", " the", " audio", " file", "\n", "        ", "audio", "_", "data", ",", " fs", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "        ", "audio", "_", "data", " =", " lib", "ros", "a", ".", "to", "_", "mon", "o", "(", "audio", "_", "data", ")", "\n", "        ", "#", " calculate", " the", " sound", " pressure", " level", " (", "SP", "L", ")", "\n", "        ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "audio", "_", "data", "**", "2", ")))", "\n", "        ", "#", " normalize", " the", " matrix", " based", " on", " the", " S", "PL", "\n", "        ", "normalized", "_", "matrix", " =", " np", ".", "div", "ide", "(", "L", ",", " S", "PL", ")", "\n", "    ", "else", ":", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "Audio", " file", " {", "audio", "_", "file", "}", " not", " found", "\"", ")", "\n", "\n", "    ", "#", " generate", " spectro", "gram", " from", " the", " normalized", " matrix", "\n", "    ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "()", "\n", "    ", "im", " =", " plt", ".", "im", "show", "(", "normalized", "_", "matrix", ",", " c", "map", "=", "\"", "gray", "_", "r", "\"", ",", " extent", "=[", "0", ",", " N", ",", " ", "0", ",", " M", "]", ",", " aspect", "=", "\"", "auto", "\"", ")", "\n", "    ", "ax", ".", "set", "_", "yt", "ick", "labels", "(", "ax", ".", "get", "_", "yt", "icks", "()", ".", "ast", "ype", "(", "int", "))", "\n", "    ", "ax", ".", "set", "_", "xt", "ick", "labels", "(", "ax", ".", "get", "_", "xt", "icks", "()", ".", "ast", "ype", "("], "logprobs": [-1.5121221542358398, -2.2549028396606445, -7.819823804311454e-05, -0.003132795449346304, -0.015351704321801662, -0.42693424224853516, -0.00426727719604969, -0.005222606472671032, -0.00020680672605521977, -5.090107151772827e-05, -0.5239991545677185, -0.08644093573093414, -0.03610067069530487, -2.1208577156066895, -2.248948812484741, -1.528486728668213, -0.3263324797153473, -1.109187364578247, -1.0955923795700073, -0.12344072759151459, -3.130140542984009, -0.013666396960616112, -0.13270872831344604, -0.0021785590797662735, -1.6983754634857178, -0.2479906976222992, -0.037856750190258026, -0.49593597650527954, -2.174367666244507, -0.011189447715878487, -0.41016629338264465, -0.00010656742961145937, -0.0002244459028588608, -0.01735629513859749, -0.00035720644518733025, -0.006553230341523886, -2.7418097943154862e-06, -5.1377883210079744e-05, -0.17052045464515686, -0.012908234260976315, -0.7604450583457947, -2.2958803176879883, -0.024445418268442154, -0.5739959478378296, -0.2227131575345993, -2.369981050491333, -1.0132738680113107e-05, -0.0015768486773595214, -1.8954096958623268e-05, -3.3895652294158936, -0.0023191480431705713, -0.4104205071926117, -0.00459246663376689, -0.00022587609419133514, -0.005608418490737677, -0.00011205045302631333, -0.00010442188795423135, -0.093602754175663, -0.07698392868041992, -0.711780846118927, -1.0191508531570435, -0.7364964485168457, -0.16156400740146637, -0.9655705094337463, -0.028776895254850388, -0.01288528647273779, -0.2011120319366455, -0.005834572017192841, -7.617183291586116e-05, -0.0031312506180256605, -1.4020339250564575, -0.0023456697817891836, -0.646611213684082, -0.0006523388437926769, -0.03820321336388588, -0.02713809721171856, -0.007688690908253193, -0.0004472924047149718, -0.02409159392118454, -0.014942153356969357, -0.0001691436773398891, -0.0013388964580371976, -0.0004042761866003275, -3.9219088648678735e-05, -0.008475169539451599, -0.008836333639919758, -0.00027509720530360937, -0.09818821400403976, -0.010683838278055191, -0.0087893046438694, -0.0003781795676331967, -0.05665631592273712, -0.036081813275814056, -0.1628178507089615, -2.8132995794294402e-05, -1.9788545614574105e-05, -0.8170185685157776, -0.0004923323867842555, -0.04133109003305435, -0.016874073073267937, -0.47693905234336853, -0.45996254682540894, -1.1783987283706665, -0.03481122851371765, -0.834398627281189, -0.6839624047279358, -0.000758955895435065, -0.11284332722425461, -0.12469243258237839, -1.1920858014491387e-05, -0.07984575629234314, -0.003984489478170872, -1.813637614250183, -0.05515839532017708, -0.060243863612413406, -0.003222750499844551, -0.5965638160705566, -0.002953930525109172, -2.8558781147003174, -2.098061486321967e-05, -0.016896462067961693, -0.16900496184825897, -0.0018680518260225654, -0.10009323060512543, -1.0847986231965479e-05, -0.08822842687368393, -0.08295388519763947, -1.9885532855987549, -0.03059050254523754, -0.0002134810492862016, -0.01192994974553585, -0.0010203876299783587, -0.19346317648887634, -0.004138121381402016, -8.487341256113723e-05, -0.00012814177898690104, -0.22634771466255188, -0.49753591418266296, -0.1408548355102539, -0.9454176425933838, -0.010156968608498573, -0.869672417640686, -0.001213171985000372, -6.496695277746767e-05, -0.00036113892565481365, -0.004949104506522417, -0.07576794177293777, -0.00027021096320822835, -1.105031967163086, -0.003344539552927017, -0.010515284724533558, -0.838951051235199, -0.0022172171156853437, -0.27277669310569763, -1.1130009889602661, -2.774479627609253, -0.006214698310941458, -0.9677348136901855, -0.1363304853439331, -0.1722526252269745, -0.005104129668325186, -0.03235500678420067, -0.0039285640232264996, -1.7231183052062988, -0.4487227201461792, -0.08282473683357239, -0.034199927002191544, -0.0014709139941260219, -1.2755313036905136e-05, -0.000495549407787621, -8.082063141046092e-05, -0.37834909558296204, -0.004140495788305998, -0.038343645632267, -3.3807833194732666, -0.012488380074501038, -2.262486457824707, -0.00036638224264606833, -0.06104572117328644, -0.00018523407925385982, -0.003441841108724475, -0.11982297897338867, -3.6954811548639555e-06, -3.313963316031732e-05, -0.03947018086910248, -0.7953946590423584, -0.0003970073303207755, -2.076772689819336, -0.40676426887512207, -1.1349011659622192, -2.36859393119812, -0.006004035472869873, -0.00032669928623363376, -0.23049399256706238, -1.941922903060913, -0.3122928738594055, -0.041178148239851, -0.013385550118982792, -0.8171876668930054, -0.08330492675304413, -0.09431441873311996, -0.023872558027505875, -0.0010795724811032414, -0.02263856865465641, -0.7779521346092224, -0.0005491655902005732, -0.7177411317825317, -0.48020079731941223, -0.044314995408058167, -0.062254972755908966, -9.619726915843785e-05, -0.1690399944782257, -0.009482227265834808, -0.12252583354711533, -0.48648273944854736, -0.004698189906775951, -0.246626079082489, -0.10550732165575027, -1.4640870094299316, -2.912767171859741, -0.0005852655158378184, -1.0056604146957397, -2.0960583686828613, -0.0006015875260345638, -0.011979775503277779, -0.0001995364436879754, -0.258965402841568, -0.7181802988052368, -0.11217861622571945, -1.3349653482437134, -0.016446031630039215, -9.65590606938349e-06, -0.06033600866794586, -0.41633138060569763, -0.16465571522712708, -0.050990231335163116, -0.019110722467303276, -0.10049706697463989, -0.000442407006630674, -0.041871972382068634, -0.0020386644173413515, -0.1466752290725708, -0.013934704475104809, -3.707340147229843e-05, -0.02830803021788597, -0.006474352441728115, -3.2782016205601394e-05, -0.00025733973598107696, -3.2186455882765586e-06, -0.005409602541476488, -4.172238186583854e-05, -0.004603146575391293, -0.00019500737835187465, -0.000302745756926015, -0.00014578233822248876, -0.0003692421887535602], "finish_reason": "length"}], "metrics": {"energy": 295.33158928298934, "energy_per_token": 1.1536390206366771, "time": 11.354119, "time_per_token": 0.04435202734375}}
{"outputs": [{"text": "if not os.path.exists(audio_file):\n        raise FileNotFoundError(f\"File not found: {audio_file}\")\n    data, _ = librosa.load(audio_file, sr=16000)\n    SPL = 20 * np.log10(np.sqrt(np.mean(data ** 2)))\n    matrix = np.array(L).reshape(M, N)\n    matrix /= np.max(matrix)\n    matrix = np.abs(np.fft.fftshift(np.fft.fft2(matrix)))\n    fig = plt.figure(figsize=(12, 12))\n    plt.imshow(matrix, cmap='hot', interpolation='nearest')\n    plt.xlabel('Time (s)')\n    plt.ylabel('Frequency (Hz)')\n    plt.title(f'Audio file SPL: {SPL}')\n    return matrix, fig", "tokens": ["if", " not", " os", ".", "path", ".", "exists", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "File", " not", " found", ":", " {", "audio", "_", "file", "}\"", ")", "\n", "    ", "data", ",", " _", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ",", " s", "r", "=", "1", "6", "0", "0", "0", ")", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", " **", " ", "2", ")))", "\n", "    ", "matrix", " =", " np", ".", "array", "(", "L", ")", ".", "resh", "ape", "(", "M", ",", " N", ")", "\n", "    ", "matrix", " /", "=", " np", ".", "max", "(", "matrix", ")", "\n", "    ", "matrix", " =", " np", ".", "abs", "(", "np", ".", "ff", "t", ".", "ff", "ts", "hift", "(", "np", ".", "ff", "t", ".", "ff", "t", "2", "(", "matrix", ")))", "\n", "    ", "fig", " =", " plt", ".", "figure", "(", "fig", "size", "=(", "1", "2", ",", " ", "1", "2", "))", "\n", "    ", "plt", ".", "im", "show", "(", "matrix", ",", " c", "map", "='", "hot", "'", ",", " interpolation", "='", "ne", "arest", "')", "\n", "    ", "plt", ".", "xlabel", "('", "Time", " (", "s", ")", "')", "\n", "    ", "plt", ".", "ylabel", "('", "F", "requency", " (", "Hz", ")", "')", "\n", "    ", "plt", ".", "title", "(", "f", "'", "Audio", " file", " S", "PL", ":", " {", "SP", "L", "}", "')", "\n", "    ", "return", " matrix", ",", " fig", "\n", "\n", "if"], "logprobs": [-1.5121221542358398, -0.21733945608139038, -0.14644840359687805, -9.894321920000948e-06, -0.0003530356043484062, -0.011976830661296844, -0.45572900772094727, -0.0032283354084938765, -0.004851118661463261, -0.00013398226292338222, -6.01988795096986e-05, -0.004337427206337452, -0.04090949892997742, -0.0037176560144871473, -0.039848849177360535, -0.003311034059152007, -6.592056161025539e-05, -0.00012957210128661245, -0.21847425401210785, -0.5739663243293762, -0.15606743097305298, -1.667030930519104, -1.1686451435089111, -0.004003843292593956, -0.04163209721446037, -0.02756483480334282, -0.0032174033112823963, -0.0002643712505232543, -8.523101132595912e-05, -0.035150233656167984, -0.00029380773776210845, -0.007750321179628372, -1.2423503398895264, -2.1475534439086914, -0.1369645744562149, -3.0052337646484375, -0.02105293981730938, -2.4950690269470215, -3.814689989667386e-06, -7.152555099310121e-07, -1.7046782886609435e-05, -0.08682933449745178, -0.000387831823900342, -0.006276656873524189, -6.6756979322235566e-06, -4.0649541915627196e-05, -1.204409122467041, -0.601950466632843, -0.20753943920135498, -0.011907449923455715, -0.9638403654098511, -0.2701619565486908, -0.018761908635497093, -0.0012410327326506376, -0.005274309776723385, -0.268672913312912, -0.0917619913816452, -0.07357433438301086, -1.162207007408142, -0.0034490879625082016, -0.0651743933558464, -0.044331759214401245, -0.00827183946967125, -0.0005683475756086409, -0.036090780049562454, -0.015574843622744083, -0.00037102968781255186, -0.0018534163245931268, -0.0008185135084204376, -2.658331868587993e-05, -0.006361117586493492, -0.009376654401421547, -0.00013743886665906757, -0.0885886400938034, -0.00902549084275961, -0.017047887668013573, -0.0001294529065489769, -0.07202447205781937, -0.03533666208386421, -0.19388876855373383, -0.6274687051773071, -0.002404776168987155, -3.325883881188929e-05, -0.0253328587859869, -0.08049996197223663, -0.22283108532428741, -1.298052191734314, -0.031256817281246185, -0.045914292335510254, -0.0033573710825294256, -0.36862713098526, -0.314318984746933, -0.03840387240052223, -0.06228991970419884, -0.03670655936002731, -0.0072778817266225815, -2.861018856492592e-06, -0.4503442645072937, -0.027560312300920486, -0.0005304598016664386, -0.020018097013235092, -0.0040666512213647366, -0.5585311055183411, -0.04496766999363899, -0.32688671350479126, -0.7407481074333191, -0.0002369599969824776, -0.7005335688591003, -0.0017704778583720326, -0.5234121084213257, -0.00500817596912384, -0.1866799145936966, -0.030341893434524536, -0.20594489574432373, -0.1250552088022232, -2.00134539604187, -0.6186512112617493, -0.43716564774513245, -0.004968557972460985, -1.3933521509170532, -0.008622557856142521, -1.6309587955474854, -0.000548331590835005, -0.0312751866877079, -0.0013986576814204454, -3.671578815556131e-05, -0.03918537124991417, -0.8902020454406738, -0.04251481965184212, -0.004007761366665363, -0.17413896322250366, -0.00047017011092975736, -0.013972558081150055, -0.00024303820100612938, -2.109982233378105e-05, -0.006063873879611492, -0.04811164364218712, -0.2554813027381897, -0.0014949585311114788, -0.05438872054219246, -0.10315345972776413, -0.11818381398916245, -0.07054763287305832, -1.3131920099258423, -0.990225613117218, -0.004979114979505539, -4.6132929128361866e-05, -0.03254842013120651, -0.8626585602760315, -0.10720518976449966, -0.00042655906872823834, -0.016175583004951477, -0.39875805377960205, -1.9202449321746826, -0.012691796757280827, -0.04188694804906845, -1.482126235961914, -0.23737429082393646, -0.0868309736251831, -0.009483289904892445, -0.013227920979261398, -0.6114789843559265, -0.0004103533865418285, -0.8865846395492554, -0.00011228884250158444, -0.009188272058963776, -0.20445644855499268, -0.06699870526790619, -0.7011675238609314, -0.0008716359734535217, -0.18932963907718658, -2.2915635108947754, -0.3896692097187042, -0.00011145447206217796, -0.8608049154281616, -0.0225544236600399, -0.1988605558872223, -0.0003554189461283386, -0.6967291831970215, -0.012409262359142303, -0.005805653985589743, -0.1113843247294426, -0.0002656822034623474, -3.0563693046569824, -0.2496384233236313, -0.4629817008972168, -0.6776753664016724, -0.5522236227989197, -0.05028615519404411, -0.0029214818496257067, -0.005818216595798731, -0.00040880427695810795, -0.0016546857077628374, -0.00026603974401950836, -0.010310716927051544, -0.009629230946302414, -0.014965876005589962, -0.010596321895718575, -0.025673577561974525, -0.0554550476372242, -0.018049513921141624, -0.0027443624567240477, -0.0027000184636563063, -0.005172086413949728, -0.08440715819597244, -0.0008441222598776221, -1.182054042816162, -0.333252489566803, -0.074485644698143, -0.47333231568336487, -1.6653755903244019, -1.5767347812652588, -1.6618003845214844, -0.000568228424526751, -0.13323943316936493, -0.012997431680560112, -0.027455586940050125, -1.4305104514278355e-06, -0.9146460294723511, -0.3599680960178375, -0.006369409151375294, -0.022595565766096115, -0.8080266118049622, -0.076167032122612, -0.006742938421666622, -0.008737074211239815, -0.6140859127044678, -0.02642352133989334, -0.6541280150413513], "finish_reason": "stop"}], "metrics": {"energy": 235.63614866352063, "energy_per_token": 1.0289788151245443, "time": 10.081183, "time_per_token": 0.04402263318777292}}
{"outputs": [{"text": "if not os.path.exists(audio_file):\n        raise FileNotFoundError(f\"File not found: {audio_file}\")\n    y, sr = librosa.load(audio_file)\n    P = len(y)\n    y = np.array([10**(i*20/200) for i in np.linspace(0, P-1, P)])\n    y = (y * P)**2\n    y = np.array([np.random.normal(mu, sigma, n) for mu, sigma, n in zip(y, [0.1, 1.0, 10], [i*4 for i in range(50)])])\n    matrix = np.array(L).reshape((M, N))\n\n    matrix = matrix / (np.max(matrix) + 1e-6)\n\n    def calc_SPL(y, sr=sr):\n        return 20 * np.log10(np.sqrt(np.mean(y * y)))\n\n    SPL = calc_SPL(y,", "tokens": ["if", " not", " os", ".", "path", ".", "exists", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "File", " not", " found", ":", " {", "audio", "_", "file", "}\"", ")", "\n", "    ", "y", ",", " s", "r", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ")", "\n", "    ", "P", " =", " len", "(", "y", ")", "\n", "    ", "y", " =", " np", ".", "array", "([", "1", "0", "**(", "i", "*", "2", "0", "/", "2", "0", "0", ")", " for", " i", " in", " np", ".", "l", "inspace", "(", "0", ",", " P", "-", "1", ",", " P", ")]", ")", "\n", "    ", "y", " =", " (", "y", " *", " P", ")**", "2", "\n", "    ", "y", " =", " np", ".", "array", "([", "np", ".", "random", ".", "normal", "(", "mu", ",", " sigma", ",", " n", ")", " for", " mu", ",", " sigma", ",", " n", " in", " zip", "(", "y", ",", " [", "0", ".", "1", ",", " ", "1", ".", "0", ",", " ", "1", "0", "]", ",", " [", "i", "*", "4", " for", " i", " in", " range", "(", "5", "0", ")]", ")]", ")", "\n", "    ", "matrix", " =", " np", ".", "array", "(", "L", ")", ".", "resh", "ape", "((", "M", ",", " N", "))", "\n", "\n", "    ", "matrix", " =", " matrix", " /", " (", "np", ".", "max", "(", "matrix", ")", " +", " ", "1", "e", "-", "6", ")", "\n", "\n", "    ", "def", " calc", "_", "SP", "L", "(", "y", ",", " s", "r", "=", "sr", "):", "\n", "        ", "return", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "y", " *", " y", ")))", "\n", "\n", "    ", "SP", "L", " =", " calc", "_", "SP", "L", "(", "y", ","], "logprobs": [-1.5121221542358398, -0.21733945608139038, -0.14644840359687805, -9.894321920000948e-06, -0.0003530356043484062, -0.011976830661296844, -0.45572900772094727, -0.0032283354084938765, -0.004851118661463261, -0.00013398226292338222, -6.01988795096986e-05, -0.004337427206337452, -0.04090949892997742, -0.0037176560144871473, -0.039848849177360535, -0.003311034059152007, -6.592056161025539e-05, -0.00012957210128661245, -0.21847425401210785, -0.5739663243293762, -0.15606743097305298, -1.667030930519104, -1.1686451435089111, -0.004003843292593956, -0.04163209721446037, -0.02756483480334282, -0.0032174033112823963, -0.0002643712505232543, -8.523101132595912e-05, -0.035150233656167984, -0.00029380773776210845, -0.007750321179628372, -1.2423503398895264, -3.64382266998291, -0.02507910132408142, -0.026636427268385887, -0.0026377192698419094, -0.002428798470646143, -0.037579286843538284, -1.7881377516459906e-06, -4.768370445162873e-07, -7.390948667307384e-06, -0.07895375043153763, -0.000493762141559273, -0.007156926207244396, -2.861018856492592e-06, -2.992108420585282e-05, -0.2515358030796051, -0.04972893372178078, -0.12564833462238312, -4.311817169189453, -0.33377668261528015, -3.3336081504821777, -0.000806602300144732, -0.07505202293395996, -0.07806459069252014, -0.3907046914100647, -0.10027344524860382, -3.0421221256256104, -0.6904162764549255, -0.37557339668273926, -0.0015051951631903648, -0.5312207937240601, -1.866963267326355, -3.5269317626953125, -0.305600643157959, -0.5469747185707092, -1.1240321397781372, -2.4396493434906006, -2.0788424015045166, -0.5827963352203369, -0.2620140612125397, -0.787067711353302, -0.1037384420633316, -0.3791518807411194, -0.6871377229690552, -0.147300124168396, -0.0005388000281527638, -0.0026913394685834646, -3.152061939239502, -0.003725375747308135, -1.3654351234436035, -0.0019289711490273476, -0.14518283307552338, -0.12146147340536118, -0.01578596420586109, -1.087589144706726, -0.876432478427887, -0.008078874088823795, -0.0030866859015077353, -0.11352015286684036, -0.24977558851242065, -0.07512810826301575, -0.1556062549352646, -0.08038777112960815, -1.5498223304748535, -0.45596379041671753, -3.063950300216675, -0.21653272211551666, -2.515338182449341, -2.5467944145202637, -2.8799049854278564, -0.6726794242858887, -0.14991237223148346, -0.07211930304765701, -1.3602840900421143, -0.2358454018831253, -0.432756245136261, -0.002917678328230977, -0.9250848889350891, -0.4350702464580536, -2.2026925086975098, -0.001657304004766047, -2.81021785736084, -0.00031919151660986245, -0.6874426603317261, -0.0503513365983963, -2.8837814331054688, -0.6351160407066345, -0.32427600026130676, -0.76119065284729, -3.4461185932159424, -0.050028108060359955, -0.125375896692276, -0.31486424803733826, -0.03276418149471283, -0.007666096091270447, -0.016055697575211525, -0.0059097083285450935, -0.011233417317271233, -0.32628506422042847, -0.26483577489852905, -1.1057428121566772, -0.039717335253953934, -1.7595984935760498, -1.1751290559768677, -0.22530604898929596, -1.3173214197158813, -0.3099033236503601, -0.07540816813707352, -2.445525646209717, -1.9496610164642334, -0.3902739882469177, -0.06812550872564316, -0.14220841228961945, -0.7752487063407898, -0.08786710351705551, -0.8174938559532166, -0.023962529376149178, -0.20742474496364594, -3.111192226409912, -2.656080961227417, -3.347292423248291, -0.631072461605072, -0.0006709231529384851, -0.0014100857079029083, -0.03994552791118622, -0.0015148365637287498, -3.1912403106689453, -2.4357986450195312, -0.9613502621650696, -0.007017726078629494, -0.028437810018658638, -0.08456294238567352, -0.11703348159790039, -2.4630966186523438, -0.05316934734582901, -0.1319136619567871, -0.0015813715290278196, -0.7278902530670166, -0.5410895943641663, -0.3242722153663635, -0.11563326418399811, -0.1508602797985077, -0.01607857272028923, -4.6491513785440475e-06, -1.1860523223876953, -0.044919006526470184, -0.0024731545709073544, -0.09651879221200943, -0.014660724438726902, -0.24509093165397644, -2.803459882736206, -0.0033756676129996777, -1.6290595531463623, -0.3723684549331665, -1.110022783279419, -0.5735728740692139, -2.788630485534668, -0.631940484046936, -0.0001419681793777272, -1.4505311250686646, -0.00514421658590436, -0.06612540781497955, -0.4730440080165863, -1.2324312925338745, -0.3249339759349823, -0.24382296204566956, -0.9058007001876831, -0.002557461615651846, -1.5898412466049194, -0.012280683033168316, -0.13166570663452148, -1.260539174079895, -0.0011142243165522814, -4.600292205810547, -3.8551785945892334, -0.08463304489850998, -0.6440541744232178, -0.0017742858035489917, -0.06257539242506027, -1.4132410287857056, -0.9169921278953552, -0.7796762585639954, -0.010810618288815022, -2.2486109733581543, -0.945733368396759, -0.2867344617843628, -0.025720633566379547, -0.008221710100769997, -1.406897783279419, -0.026052510365843773, -0.014253710396587849, -0.0006242233794182539, -0.09139105677604675, -0.031199045479297638, -0.0010000233305618167, -0.003501120489090681, -0.0016414752462878823, -0.00025281094713136554, -0.011362013407051563, -0.016332747414708138, -0.00027569307712838054, -0.10537376254796982, -0.023231936618685722, -0.03035334125161171, -0.00034457468427717686, -0.3338202238082886, -0.07589568942785263, -0.1265985071659088, -2.5499870777130127, -0.10232194513082504, -0.06748666614294052, -0.034405309706926346, -0.13898509740829468, -0.0004963834653608501, -0.40832552313804626, -0.0036696731112897396, -0.09445890039205551, -0.1332646906375885, -2.276871418871451e-05, -1.9192511899746023e-05, -1.6689286894688848e-06, -0.001657304004766047, -0.2531374394893646, -1.963760495185852], "finish_reason": "length"}], "metrics": {"energy": 292.78924858379344, "energy_per_token": 1.1437080022804431, "time": 11.362938, "time_per_token": 0.0443864765625}}
{"outputs": [{"text": "# read audio data from the specified audio file\n    sr = 44100 # sample rate\n    n_fft = sr*0.025 # number of samples for FFT\n    hop_length = sr//48\n    y, sr = librosa.load(audio_file, sr=sr)\n\n    # generate the matrix\n    A = np.empty((M, N), dtype=np.complex)\n    for i in range(M):\n        for j in range(N):\n            start_idx = i*N + j\n            end_idx = start_idx + N\n            if end_idx <= len(y):\n                A[i, j] = np.fft.fft(y[start_idx:end_idx], n=n_fft, hop_length=hop_length)\n\n    # normalize the matrix based on the SPL of the audio file\n    A /= 20*np.log10(np.mean(np.power(np.abs(A), 2)))\n    # A /= 10\n", "tokens": ["#", " read", " audio", " data", " from", " the", " specified", " audio", " file", "\n", "    ", "sr", " =", " ", "4", "4", "1", "0", "0", " #", " sample", " rate", "\n", "    ", "n", "_", "ff", "t", " =", " s", "r", "*", "0", ".", "0", "2", "5", " #", " number", " of", " samples", " for", " F", "FT", "\n", "    ", "hop", "_", "length", " =", " s", "r", "//", "4", "8", "\n", "    ", "y", ",", " s", "r", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ",", " s", "r", "=", "sr", ")", "\n", "\n", "    ", "#", " generate", " the", " matrix", "\n", "    ", "A", " =", " np", ".", "empty", "((", "M", ",", " N", ")", ",", " dtype", "=", "np", ".", "complex", ")", "\n", "    ", "for", " i", " in", " range", "(", "M", "):", "\n", "        ", "for", " j", " in", " range", "(", "N", "):", "\n", "            ", "start", "_", "idx", " =", " i", "*", "N", " +", " j", "\n", "            ", "end", "_", "idx", " =", " start", "_", "idx", " +", " N", "\n", "            ", "if", " end", "_", "idx", " <=", " len", "(", "y", "):", "\n", "                ", "A", "[", "i", ",", " j", "]", " =", " np", ".", "ff", "t", ".", "ff", "t", "(", "y", "[", "start", "_", "idx", ":", "end", "_", "idx", "]", ",", " n", "=", "n", "_", "ff", "t", ",", " hop", "_", "length", "=", "hop", "_", "length", ")", "\n", "\n", "    ", "#", " normalize", " the", " matrix", " based", " on", " the", " S", "PL", " of", " the", " audio", " file", "\n", "    ", "A", " /", "=", " ", "2", "0", "*", "np", ".", "log", "1", "0", "(", "np", ".", "mean", "(", "np", ".", "power", "(", "np", ".", "abs", "(", "A", ")", ",", " ", "2", ")))", "\n", "    ", "#", " A", " /", "=", " ", "1", "0", "\n"], "logprobs": [-1.113114356994629, -4.490826606750488, -0.520261287689209, -1.0912330150604248, -1.1177232265472412, -1.355507254600525, -0.9511565566062927, -1.6271154880523682, -0.004008236341178417, -0.12354261428117752, -0.003984608221799135, -4.166253089904785, -1.489504098892212, -0.027219654992222786, -0.6725917458534241, -0.12122062593698502, -0.001492816023528576, -0.00015352977789007127, -0.0008824745309539139, -2.340904712677002, -1.093565821647644, -0.01002160832285881, -0.3851250410079956, -0.03553778678178787, -3.1788783073425293, -0.03990360349416733, -0.16292358934879303, -0.006359459366649389, -0.020463883876800537, -1.5655791759490967, -0.00041261743172071874, -1.7223626375198364, -1.0358102321624756, -0.00035291642416268587, -0.403269499540329, -1.202818751335144, -0.630121111869812, -0.1669185608625412, -1.009997844696045, -0.002290603704750538, -1.0187842845916748, -1.2181389331817627, -1.4524803161621094, -0.0007285801111720502, -0.15397457778453827, -0.05942496657371521, -0.09366962313652039, -0.17187775671482086, -0.07937292754650116, -0.01880507729947567, -0.9059113264083862, -0.0003363520372658968, -2.5957722663879395, -0.868156909942627, -3.4270989894866943, -3.0513200759887695, -0.16032393276691437, -0.9488239288330078, -0.17666983604431152, -0.022939199581742287, -0.004251608159393072, -0.0141422925516963, -0.06413783878087997, -5.722029527532868e-06, -0.00010299152199877426, -9.179073458653875e-06, -0.026166673749685287, -0.0034042997285723686, -0.021373067051172256, -0.0004220310365781188, -0.00017820201173890382, -0.6425606608390808, -0.14696374535560608, -0.022108983248472214, -0.09498991072177887, -0.169001042842865, -0.36653339862823486, -0.20424363017082214, -0.7434305548667908, -0.0011014830088242888, -0.1306619793176651, -3.1612486839294434, -1.464820146560669, -1.2502418756484985, -1.2325340509414673, -0.0025069257244467735, -3.541175365447998, -0.036320146173238754, -0.0673283115029335, -7.521823135903105e-05, -2.8969626426696777, -0.28629907965660095, -0.04737472906708717, -0.007251372095197439, -0.2602916955947876, -1.2307155132293701, -0.000543446687515825, -0.08422132581472397, -0.08438985049724579, -0.4882749319076538, -0.0003095386200584471, -2.672024965286255, -1.5116101503372192, -0.050456978380680084, -0.12117912620306015, -0.3429047167301178, -0.18295857310295105, -0.030707847326993942, -0.003493398893624544, -0.002073521027341485, -0.07765766233205795, -0.0027368729934096336, -0.015576018020510674, -0.011094193905591965, -0.15476353466510773, -0.0017074067145586014, -0.0004528927383944392, -0.00028701478731818497, -0.0005075835506431758, -0.0015827997121959925, -0.00098204065579921, -0.0008946230518631637, -0.006886557210236788, -1.5702004432678223, -1.5238701105117798, -1.6938788890838623, -0.010046746581792831, -0.46317538619041443, -0.3094802498817444, -1.0933027267456055, -0.31471458077430725, -0.0036050586495548487, -0.12196788936853409, -0.008703512139618397, -0.7410513758659363, -0.00022218143567442894, -0.0007053509471006691, -0.020897215232253075, -0.29135861992836, -6.639736966462806e-05, -5.245195097813848e-06, -0.10941993445158005, -1.227103352546692, -0.06277670711278915, -0.023663952946662903, -3.4172050952911377, -0.4188133776187897, -7.962863310240209e-05, -8.22540732769994e-06, -2.6317267417907715, -0.05362839624285698, -0.00011562632425921038, -0.04638408124446869, -0.06204906851053238, -0.08563753217458725, -0.0021054022945463657, -0.5205679535865784, -0.003827153006568551, -0.0012440093560144305, -0.08867865055799484, -0.13198992609977722, -0.001022650278173387, -0.0024365282151848078, -0.23681876063346863, -0.00024256148026324809, -1.049955129623413, -0.0015462597366422415, -0.0010399178136140108, -0.06698700040578842, -0.09440488368272781, -0.0026386703830212355, -0.047498419880867004, -0.007602212484925985, -0.0034411284141242504, -4.970903682988137e-05, -7.390948667307384e-06, -0.03612745925784111, -0.021909574046730995, -0.00010013079008786008, -9.65590606938349e-06, -0.1092936247587204, -0.01029337290674448, -0.06333588808774948, -1.200260043144226, -0.012254541739821434, -2.753696753643453e-05, -2.3841830625315197e-06, -3.576272320060525e-06, -0.5472477078437805, -1.7896651029586792, -0.0037074419669806957, -0.0012646066024899483, -0.0017640519654378295, -0.00077622797107324, -0.00011145447206217796, -8.106198947643861e-06, -0.39193102717399597, -0.3189646005630493, -0.9638084173202515, -0.006000243593007326, -0.07411355525255203, -1.090947151184082, -0.14116129279136658, -0.03854416310787201, -0.9230833649635315, -0.000481132126878947, -0.29232439398765564, -0.7904194593429565, -9.285972191719338e-05, -0.35697123408317566, -0.026599861681461334, -0.18597029149532318, -0.06441976875066757, -0.020000336691737175, -0.00278501957654953, -3.098442316055298, -1.2761974334716797, -0.0002294515579706058, -2.9562883377075195, -0.5574467182159424, -0.5153514742851257, -1.380933165550232, -0.02540375478565693, -0.002727956511080265, -0.007498688995838165, -0.009211068972945213, -0.00018892886873800308, -0.0052835592068731785, -0.04366736859083176, -0.00020621081057470292, -1.532511830329895, -0.057538826018571854, -0.3724173307418823, -0.00047755756531842053, -3.315708875656128, -0.009074280969798565, -0.14141134917736053, -0.0007159530650824308, -0.09384502470493317, -0.0006051616510376334, -0.020153746008872986, -0.032233238220214844, -0.001951339072547853, -0.06903422623872757, -0.0005869334563612938, -0.20993509888648987, -0.07441924512386322, -1.7075700759887695, -1.3319095373153687, -4.410520553588867, -0.4941801428794861, -0.0008192281820811331, -0.8905354738235474, -1.7943804264068604, -0.530934751033783, -2.3071060180664062], "finish_reason": "length"}], "metrics": {"energy": 292.15617631053925, "energy_per_token": 1.141235063713044, "time": 11.562778, "time_per_token": 0.0451671015625}}
{"outputs": [{"text": "if not os.path.isfile(audio_file):\n        raise FileNotFoundError(f\"File {audio_file} not found.\")\n\n    with sf.SoundFile(audio_file) as sound_file:\n        audio_data = sound_file.read(dtype=np.float32)\n        # Get the SPL for the specified audio file\n        spl = 20 * np.log10(np.sqrt(np.mean(audio_data ** 2)))\n        # Normalize the matrix based on the SPL\n        normalized_matrix = np.array(L) / spl\n\n        # Generate a spectrogram for the normalized matrix\n        fig = plt.figure(figsize=(16, 8))\n        plt.specgram(normalized_matrix)\n        plt.xlabel('Time')\n        plt.ylabel('Frequency')\n        plt.title('Spectrogram')\n        return fig, normalized_matrix", "tokens": ["if", " not", " os", ".", "path", ".", "is", "file", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "File", " {", "audio", "_", "file", "}", " not", " found", ".", "\"", ")", "\n", "\n", "    ", "with", " s", "f", ".", "Sound", "File", "(", "audio", "_", "file", ")", " as", " sound", "_", "file", ":", "\n", "        ", "audio", "_", "data", " =", " sound", "_", "file", ".", "read", "(", "d", "type", "=", "np", ".", "float", "3", "2", ")", "\n", "        ", "#", " Get", " the", " S", "PL", " for", " the", " specified", " audio", " file", "\n", "        ", "spl", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "audio", "_", "data", " **", " ", "2", ")))", "\n", "        ", "#", " Normal", "ize", " the", " matrix", " based", " on", " the", " S", "PL", "\n", "        ", "normalized", "_", "matrix", " =", " np", ".", "array", "(", "L", ")", " /", " spl", "\n", "\n", "        ", "#", " Generate", " a", " spectro", "gram", " for", " the", " normalized", " matrix", "\n", "        ", "fig", " =", " plt", ".", "figure", "(", "fig", "size", "=(", "1", "6", ",", " ", "8", "))", "\n", "        ", "plt", ".", "spec", "gram", "(", "normalized", "_", "matrix", ")", "\n", "        ", "plt", ".", "xlabel", "('", "Time", "')", "\n", "        ", "plt", ".", "ylabel", "('", "F", "requency", "')", "\n", "        ", "plt", ".", "title", "('", "Spect", "ro", "gram", "')", "\n", "        ", "return", " fig", ",", " normalized", "_", "matrix", "\n", "\n", "if"], "logprobs": [-1.5121221542358398, -0.21733945608139038, -0.14644840359687805, -9.894321920000948e-06, -0.0003530356043484062, -0.011976830661296844, -1.006147861480713, -0.0002131234941771254, -0.0018465149914845824, -0.0041357469744980335, -0.0001134808044298552, -6.317892984952778e-05, -0.006406247150152922, -0.043698750436306, -0.0031963707879185677, -0.03548428788781166, -0.003691408084705472, -6.401333666872233e-05, -0.00014184899919200689, -0.23538577556610107, -0.5869516730308533, -0.16189095377922058, -1.7640793323516846, -0.8355808854103088, -0.002893192460760474, -0.00011562632425921038, -0.00012838016846217215, -0.010934080928564072, -0.30010610818862915, -0.0013560395454987884, -0.6063034534454346, -0.0368429496884346, -0.0005248599336482584, -0.008459803648293018, -0.3261048495769501, -0.0010789770167320967, -2.603954315185547, -0.043380554765462875, -0.00011848701251437888, -0.00012492353562265635, -0.006584258750081062, -0.005167698487639427, -0.0005172345554456115, -0.004583566915243864, -8.916457591112703e-05, -5.054346183896996e-05, -0.13819749653339386, -0.00031275625224225223, -3.0179154872894287, -0.8404766321182251, -0.04957965388894081, -0.004326626192778349, -0.028613334521651268, -0.006629496812820435, -1.0767053365707397, -0.2133222222328186, -0.11996964365243912, -0.0785633847117424, -0.022938383743166924, -0.0057354881428182125, -7.510157047363464e-06, -0.006352589000016451, -0.09510590136051178, -0.8563004732131958, -0.7284267544746399, -0.0029601112473756075, -0.9911130666732788, -0.08133827894926071, -0.0006326819420792162, -0.08387718349695206, -0.19323621690273285, -0.00012468514614738524, -0.1374145746231079, -0.11042823642492294, -0.7372809052467346, -2.8487472534179688, -3.9609591960906982, -0.5134971737861633, -0.9267158508300781, -0.00041869457345455885, -2.69470477104187, -0.08526738733053207, -2.328378200531006, -0.036645423620939255, -0.03712866082787514, -0.15443670749664307, -0.015093288384377956, -0.6575964689254761, -0.18090598285198212, -0.1394638568162918, -0.014056959189474583, -0.000417741306591779, -0.05608313903212547, -0.0224145520478487, -0.00018904806347563863, -0.0008345934911631048, -0.0004727914638351649, -4.31528314948082e-05, -0.005574633367359638, -0.011551165021955967, -0.00017998983094003052, -0.11702468246221542, -0.010137497447431087, -0.00885653868317604, -0.000248043768806383, -0.09762246161699295, -0.020283536985516548, -0.1254798024892807, -0.000566203030757606, -0.00280831940472126, -0.641463041305542, -0.00208208616822958, -2.682172998902388e-05, -0.02273692563176155, -0.016087606549263, -1.6785199642181396, -0.7727193832397461, -0.743423342704773, -0.017509760335087776, -0.11974800378084183, -0.8887935280799866, -0.508404552936554, -0.0008281615446321666, -0.0877736359834671, -0.12630468606948853, -3.373566141817719e-05, -0.1383720189332962, -0.011195695959031582, -1.4294013977050781, -0.033497415482997894, -0.04996313154697418, -0.005362412426620722, -0.47605380415916443, -0.0039749909192323685, -0.602628767490387, -0.3998454809188843, -0.1420861780643463, -0.11133548617362976, -0.22784961760044098, -0.07711879909038544, -0.047427140176296234, -0.9420566558837891, -2.2943551540374756, -0.31279635429382324, -0.7556681632995605, -1.1405612230300903, -0.072555772960186, -0.00024232311989180744, -2.806698799133301, -0.005588621832430363, -0.07660935074090958, -0.0075277951546013355, -0.054010212421417236, -0.01214054599404335, -2.2439584732055664, -1.013662338256836, -0.02879091165959835, -4.2199197196168825e-05, -0.034583475440740585, -0.7215222716331482, -0.04432731121778488, -0.00021062063751742244, -0.010049106553196907, -0.35778534412384033, -1.7427198886871338, -0.003827153006568551, -0.007441302761435509, -0.8676940202713013, -0.06429971754550934, -0.0055423881858587265, -0.022374918684363365, -1.554932713508606, -0.00014625910262111574, -1.3245043754577637, -0.04453575611114502, -0.0015749443555250764, -0.15024980902671814, -2.861018856492592e-06, -5.602679812000133e-05, -1.4938092231750488, -0.011811322532594204, -0.1330428421497345, -0.5229282379150391, -0.00018988236843142658, -0.48354998230934143, -0.43937838077545166, -0.1828753650188446, -1.5313016176223755, -0.011013079434633255, -0.0009940688032656908, -0.001988816075026989, -6.16293036728166e-05, -0.002921244129538536, -0.0017363247461616993, -0.01218588650226593, -0.0045951958745718, -0.005670058540999889, -0.0014060382964089513, -0.061934225261211395, -0.14238812029361725, -0.0002786724944598973, -0.5717083811759949, -1.305747628211975, -0.6980538368225098, -0.007009321358054876, -0.0006280356901697814, -0.7777858376502991, -0.0030103863682597876, -0.24102087318897247, -0.7010454535484314, -2.1456875801086426, -1.1016347408294678, -0.37641504406929016, -1.4305012882687151e-05, -5.113947918289341e-05, -0.4425813555717468, -0.04630350321531296, -0.7358494400978088], "finish_reason": "stop"}], "metrics": {"energy": 239.39363869953152, "energy_per_token": 1.0981359573373006, "time": 10.308754, "time_per_token": 0.0472878623853211}}
{"outputs": [{"text": "# Read audio data\n    try:\n        y, sr = librosa.load(audio_file)\n    except FileNotFoundError:\n        raise FileNotFoundError(f\"Audio file '{audio_file}' not found.\")\n\n    # Calculate the SPL of the audio data\n    sp = 20 * np.log10(np.sqrt(np.mean(y**2)))\n\n    # Convert the SPL to a 0-255 range\n    sp = np.clip((sp - sp.min()) * 255 / (sp.max() - sp.min()), 0, 255)\n\n    # Convert the list L to a 2D numpy array\n    L = np.array(L)\n    L = L.reshape((M, N))\n\n    # Normalize the matrix based on the SPL of the audio data\n    L = L / np.sqrt(sp.reshape((M, 1)))\n\n    # Calculate the spectrogram\n    f, t, spec = plt.specgram(L, sr=sr, cmap='gray')", "tokens": ["#", " Read", " audio", " data", "\n", "    ", "try", ":", "\n", "        ", "y", ",", " s", "r", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ")", "\n", "    ", "except", " File", "NotFound", "Error", ":", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "Audio", " file", " '", "{", "audio", "_", "file", "}'", " not", " found", ".", "\"", ")", "\n", "\n", "    ", "#", " Calculate", " the", " S", "PL", " of", " the", " audio", " data", "\n", "    ", "sp", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "y", "**", "2", ")))", "\n", "\n", "    ", "#", " Convert", " the", " S", "PL", " to", " a", " ", "0", "-", "2", "5", "5", " range", "\n", "    ", "sp", " =", " np", ".", "clip", "((", "sp", " -", " sp", ".", "min", "())", " *", " ", "2", "5", "5", " /", " (", "sp", ".", "max", "()", " -", " sp", ".", "min", "())", ",", " ", "0", ",", " ", "2", "5", "5", ")", "\n", "\n", "    ", "#", " Convert", " the", " list", " L", " to", " a", " ", "2", "D", " numpy", " array", "\n", "    ", "L", " =", " np", ".", "array", "(", "L", ")", "\n", "    ", "L", " =", " L", ".", "resh", "ape", "((", "M", ",", " N", "))", "\n", "\n", "    ", "#", " Normal", "ize", " the", " matrix", " based", " on", " the", " S", "PL", " of", " the", " audio", " data", "\n", "    ", "L", " =", " L", " /", " np", ".", "sqrt", "(", "sp", ".", "resh", "ape", "((", "M", ",", " ", "1", ")))", "\n", "\n", "    ", "#", " Calculate", " the", " spectro", "gram", "\n", "    ", "f", ",", " t", ",", " spec", " =", " plt", ".", "spec", "gram", "(", "L", ",", " s", "r", "=", "sr", ",", " c", "map", "='", "gray", "')"], "logprobs": [-1.113114356994629, -3.203944206237793, -0.6732885241508484, -0.5745067000389099, -1.468204140663147, -0.0030985698103904724, -1.9603543281555176, -0.0008093419019132853, -0.0034937553573399782, -0.007352081127464771, -1.8740272521972656, -0.036328308284282684, -0.042609184980392456, -0.002201516181230545, -0.0024984830524772406, -0.06352664530277252, -2.9802276912960224e-06, -4.768370445162873e-07, -8.34461570775602e-06, -0.06647102534770966, -0.0012009082129225135, -0.0156501904129982, -0.00018737945356406271, -0.000129691296024248, -0.17319613695144653, -0.024041203781962395, -0.12953126430511475, -0.0006324436399154365, -0.23265428841114044, -1.1324817933200393e-05, -2.50339189733495e-06, -0.2094530612230301, -0.009644225239753723, -0.0008114859228953719, -0.624985933303833, -0.04387606307864189, -0.00016342257731594145, -0.00017534149810671806, -0.11236390471458435, -0.27475786209106445, -0.09704449027776718, -0.811568021774292, -0.010925473645329475, -1.264362096786499, -0.0018136734142899513, -0.002414646791294217, -0.00020203932945150882, -0.0002232540718978271, -0.001639332971535623, -0.09299399703741074, -0.0002641328901518136, -0.3101066052913666, -0.06564225256443024, -0.0003589939442463219, -0.02330111712217331, -0.18007834255695343, -0.000687958556227386, -0.06099054217338562, -0.4976668953895569, -2.1151187419891357, -0.8107665181159973, -0.00016497205069754273, -1.8908724784851074, -0.03252972662448883, -0.08615410327911377, -0.6662606000900269, -0.1555812507867813, -0.0013160386588424444, -2.5614285469055176, -0.9016491174697876, -0.8554790019989014, -0.020874449983239174, -0.00041261743172071874, -0.046647392213344574, -0.01116929017007351, -0.00045563330058939755, -0.000545472139492631, -0.000432278640801087, -1.3470558769768104e-05, -0.004060239996761084, -0.009156852029263973, -0.00012110930401831865, -0.07902656495571136, -0.013009904883801937, -0.018465401604771614, -0.00023183519078884274, -0.09112033247947693, -0.05592386797070503, -0.5747218728065491, -0.8374473452568054, -0.0003091811086051166, -0.0409691147506237, -0.03697047755122185, -0.11725403368473053, -0.0003641180810518563, -0.04031531140208244, -2.878119468688965, -0.4423918128013611, -1.3023953437805176, -0.00027378625236451626, -0.21273736655712128, -0.5137457251548767, -4.07366943359375, -0.5700341463088989, -0.1763758808374405, -1.6616616249084473, -0.025018995627760887, -0.0436849407851696, -0.3320081830024719, -0.41676226258277893, -0.0006986799417063594, -0.21940943598747253, -0.8608675003051758, -1.3493754863739014, -0.0010387268848717213, -0.35733655095100403, -1.5621578693389893, -0.24317464232444763, -0.491506963968277, -1.8221549987792969, -0.017032653093338013, -0.022313250228762627, -0.10735703259706497, -2.6332383155822754, -0.5720754861831665, -0.06196369230747223, -0.013976671732962132, -0.13121886551380157, -0.1265161633491516, -0.016528934240341187, -0.0012848464539274573, -0.00018142008048016578, -0.0020059479866176844, -0.0003545847721397877, -0.0051655638962984085, -0.0001494772732257843, -8.177422569133341e-05, -4.9232225137529895e-05, -0.003938775509595871, -0.021227430552244186, -0.027449673041701317, -0.0029851896688342094, -0.008614284917712212, -0.0004085659747943282, -0.0035961500834673643, -0.0002047805901383981, -0.0005317704635672271, -0.0003393312799744308, -0.6066300868988037, -0.2983386516571045, -0.00047231485950760543, -0.03625277802348137, -2.0635013580322266, -0.23752659559249878, -2.280045747756958, -1.0058943033218384, -0.3144145905971527, -0.1450979858636856, -1.656282901763916, -0.1622229516506195, -0.20406265556812286, -1.3530545234680176, -0.2510254681110382, -0.27144113183021545, -0.00100419158115983, -1.4789725542068481, -0.25358909368515015, -0.006434200797230005, -0.000985494232736528, -0.15330864489078522, -0.018366975709795952, -0.002292744582518935, -0.12838134169578552, -1.6392183303833008, -0.5298190116882324, -0.4612896740436554, -0.16923397779464722, -0.2573868930339813, -0.006509765516966581, -0.007874280214309692, -1.7881377516459906e-06, -1.349144458770752, -0.10059010237455368, -0.0017062166007235646, -0.039341941475868225, -0.015283497050404549, -0.052899379283189774, -0.05370330438017845, -0.00029130507027730346, -0.01755579560995102, -0.10768301784992218, -0.003290478838607669, -0.1085008904337883, -0.7004896998405457, -0.4499857723712921, -0.0005820487276650965, -0.08732476085424423, -0.19309166073799133, -0.00012337400403339416, -0.9417963624000549, -0.03771980479359627, -0.054685261100530624, -0.5136451125144958, -0.019395343959331512, -0.0008378094644285738, -0.2303914725780487, -0.4089241325855255, -0.5610399842262268, -0.08838656544685364, -1.599886178970337, -0.0011182728921994567, -0.6971417665481567, -0.0435224324464798, -1.216931700706482, -1.6880249977111816, -0.36837315559387207, -8.344646857949556e-07, -0.6104128956794739, -0.2821134626865387, -0.000834117061458528, -0.634827733039856, -0.0005901502445340157, -0.16144756972789764, -0.03342224657535553, -0.062113601714372635, -0.0004102342063561082, -0.016854263842105865, -2.243467092514038, -0.08390338718891144, -0.42668163776397705, -0.00454618688672781, -0.8977273106575012, -0.0010757618583738804, -1.9518579244613647, -0.02576478198170662, -0.13139188289642334, -0.02074356935918331, -1.708817481994629, -0.09067916125059128, -1.1726657152175903, -0.0002889215829782188, -0.04439140111207962, -0.013146979734301567, -0.0013546108966693282, -0.18905112147331238, -0.15010423958301544, -0.6665214896202087, -0.25605377554893494, -0.0035181075800210238, -0.015315311960875988, -0.46324440836906433, -1.2649856805801392, -0.11972177773714066, -0.27043014764785767, -0.7526413202285767, -0.7813192009925842], "finish_reason": "length"}], "metrics": {"energy": 271.5702288494111, "energy_per_token": 1.060821206443012, "time": 11.354074, "time_per_token": 0.0443518515625}}
{"outputs": [{"text": "# Check if the specified audio file exists\n    if not os.path.exists(audio_file):\n        raise FileNotFoundError(f\"Audio file {audio_file} does not exist\")\n\n    # Load audio data using librosa.\n    y, sr = librosa.load(audio_file)\n\n    # Calculate SPL of the audio data using soundfile.\n    spl_data = sf.io.opls(audio_file)\n\n    # Calculate the SPL based on the data, converting it to a log10 scale and adjusting the amplitude using the SPL.\n    spl = 20 * np.log10(np.sqrt(np.mean(spl_data ** 2)))\n\n    # Normalize the data using the SPL, converting it to a log10 scale, and adjusting the amplitude using the SPL.\n    norm_data = np.divide(spl_data, spl)\n    norm_data = np.divide(np.divide(norm_data, np.max(norm_data)), 0.01)\n\n    # Convert to log scale for", "tokens": ["#", " Check", " if", " the", " specified", " audio", " file", " exists", "\n", "    ", "if", " not", " os", ".", "path", ".", "exists", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "Audio", " file", " {", "audio", "_", "file", "}", " does", " not", " exist", "\"", ")", "\n", "\n", "    ", "#", " Load", " audio", " data", " using", " lib", "ros", "a", ".", "\n", "    ", "y", ",", " s", "r", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ")", "\n", "\n", "    ", "#", " Calculate", " S", "PL", " of", " the", " audio", " data", " using", " sound", "file", ".", "\n", "    ", "spl", "_", "data", " =", " s", "f", ".", "io", ".", "opl", "s", "(", "audio", "_", "file", ")", "\n", "\n", "    ", "#", " Calculate", " the", " S", "PL", " based", " on", " the", " data", ",", " converting", " it", " to", " a", " log", "1", "0", " scale", " and", " adjusting", " the", " amplitude", " using", " the", " S", "PL", ".", "\n", "    ", "spl", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "spl", "_", "data", " **", " ", "2", ")))", "\n", "\n", "    ", "#", " Normal", "ize", " the", " data", " using", " the", " S", "PL", ",", " converting", " it", " to", " a", " log", "1", "0", " scale", ",", " and", " adjusting", " the", " amplitude", " using", " the", " S", "PL", ".", "\n", "    ", "norm", "_", "data", " =", " np", ".", "div", "ide", "(", "spl", "_", "data", ",", " spl", ")", "\n", "    ", "norm", "_", "data", " =", " np", ".", "div", "ide", "(", "np", ".", "div", "ide", "(", "norm", "_", "data", ",", " np", ".", "max", "(", "norm", "_", "data", "))", ",", " ", "0", ".", "0", "1", ")", "\n", "\n", "    ", "#", " Convert", " to", " log", " scale", " for"], "logprobs": [-1.113114356994629, -1.5498199462890625, -0.3515811264514923, -0.3371222913265228, -0.8291867971420288, -0.027488408610224724, -0.002959041390568018, -0.014272160828113556, -0.1048559695482254, -0.0019961923826485872, -0.03332885727286339, -0.05411377549171448, -0.009997768327593803, -1.9073468138230965e-06, -8.618460560683161e-05, -0.006148945074528456, -0.32333993911743164, -0.00051771110156551, -0.002693955088034272, -8.83301836438477e-05, -4.3987260141875595e-05, -0.0011860248632729053, -0.002253137994557619, -0.0008939084364101291, -0.043166160583496094, -0.0016473069554194808, -1.9788545614574105e-05, -2.396077979938127e-05, -0.11955064535140991, -0.2778418958187103, -0.06888279318809509, -0.8840985298156738, -0.006055816542357206, -0.7897567749023438, -0.000979896984063089, -0.00015364897262770683, -0.00013016807497479022, -0.010545246303081512, -2.0838327407836914, -0.0002494739310350269, -0.003010267624631524, -1.2426953315734863, -0.0004109491710551083, -0.0019071977585554123, -0.08935719728469849, -0.0013167529832571745, -0.14017337560653687, -1.7598392963409424, -1.0378408432006836, -0.27751120924949646, -3.16805100440979, -0.3525228202342987, -0.0005324853118509054, -7.235741941258311e-05, -2.8391170501708984, -0.6431880593299866, -0.001829261309467256, -1.0413657426834106, -0.03169184923171997, -0.01680643856525421, -0.0032602986320853233, -0.003397527849301696, -0.009494743309915066, -2.264974000354414e-06, -3.218599158572033e-05, -2.264974000354414e-06, -0.09014052152633667, -0.0003670972364488989, -0.003996837884187698, -1.9073468138230965e-06, -2.6464111215318553e-05, -0.15069665014743805, -0.028035903349518776, -0.26550787687301636, -0.0007906410028226674, -0.03180098161101341, -0.7792516350746155, -1.3669310808181763, -0.0002320735511602834, -3.134277105331421, -0.37156054377555847, -0.17028017342090607, -0.9278618693351746, -0.9894319772720337, -1.8835563659667969, -0.03651049733161926, -0.44788244366645813, -0.05611931532621384, -0.0017101438716053963, -1.5042510032653809, -1.8490278720855713, -0.8768336772918701, -0.3607600927352905, -0.1074850857257843, -0.0038233529776334763, -0.00019262365822214633, -2.8863306045532227, -0.0018849477637559175, -5.041938304901123, -1.2979341745376587, -0.22233383357524872, -2.5790488719940186, -0.015532826073467731, -0.003326242323964834, -0.3511751890182495, -0.05805762857198715, -0.18636780977249146, -0.0007101159426383674, -0.04880374297499657, -1.4074259996414185, -0.6136330366134644, -1.8734387159347534, -0.0009322587866336107, -2.724184036254883, -0.0023357984609901905, -0.13128764927387238, -2.291900157928467, -3.777287006378174, -4.511355400085449, -1.0536783933639526, -0.09319254010915756, -0.7650901079177856, -3.1926450729370117, -1.7322614192962646, -0.00040189296123571694, -0.6614817380905151, -3.1544439792633057, -2.9695448875427246, -0.3180800676345825, -0.7254023551940918, -3.4426732063293457, -0.7811635136604309, -0.5387411117553711, -0.0016355245606973767, -0.5061817169189453, -0.0032370095141232014, -0.002936696168035269, -0.8186465501785278, -0.5181203484535217, -0.4300089478492737, -0.04930701106786728, -0.0015430459752678871, -0.04293767362833023, -0.0218814667314291, -0.0005000770906917751, -0.0023478104267269373, -0.0005062728887423873, -8.034383063204587e-05, -0.023393120616674423, -0.10630179196596146, -0.0003554189461283386, -0.25340238213539124, -0.03440726920962334, -0.4111444652080536, -0.0015707785496488214, -0.2467106580734253, -0.07153517007827759, -0.10960295796394348, -0.0007373951375484467, -2.1815061700181104e-05, -0.7251311540603638, -0.002745907986536622, -3.8265450712060556e-05, -0.05676456168293953, -0.09063920378684998, -0.2492801398038864, -0.0007968349382281303, -0.0583556704223156, -1.6077169179916382, -0.012573259882628918, -0.10863938927650452, -0.5234622359275818, -1.4875328540802002, -0.209939643740654, -0.40517857670783997, -6.913899414939806e-05, -2.1062417030334473, -1.8640882968902588, -0.1817558854818344, -0.04372807592153549, -0.17756368219852448, -0.2580649256706238, -0.05460512638092041, -0.00033623288618400693, -0.0021513192914426327, -1.4677588939666748, -0.05561382696032524, -0.2020934820175171, -0.015806617215275764, -0.032852549105882645, -0.7262234687805176, -0.024020256474614143, -0.032279983162879944, -4.3748852476710454e-05, -0.039677694439888, -0.004383954219520092, -0.0031404008623212576, -1.8777635097503662, -0.1456325650215149, -0.14926671981811523, -0.015150707215070724, -1.1191014051437378, -0.0011591151123866439, -3.359830379486084, -1.2993727978027891e-05, -0.055013082921504974, -0.27781879901885986, -0.30270397663116455, -0.0003137096355203539, -0.04021065682172775, -0.09686380624771118, -0.1555877923965454, -0.09535755962133408, -0.8560883402824402, -0.2831040024757385, -0.0892689973115921, -0.05472702160477638, -0.10900290310382843, -0.08469241112470627, -0.0022053224965929985, -1.1097019910812378, -3.3378546504536644e-06, -0.00514338631182909, -1.9420716762542725, -0.023266643285751343, -2.511892795562744, -1.2516897186287679e-05, -0.008160463534295559, -0.4807320833206177, -0.0007834940915927291, -3.349725011503324e-05, -0.029428446665406227, -0.48987877368927, -0.003870259737595916, -0.4276825785636902, -0.0013859200989827514, -0.08554943650960922, -0.001068616984412074, -1.07287787614041e-05, -0.030918341130018234, -0.011532074771821499, -0.41157975792884827, -0.4361577033996582, -0.0010509926360100508, -1.066760778427124, -0.7149074673652649, -0.02785181626677513, -0.06007728725671768, -0.331292986869812, -0.0006642519147135317, -0.02793690748512745, -1.9458688497543335, -2.940544366836548, -2.261042356491089, -1.6690399646759033, -1.16835355758667], "finish_reason": "length"}], "metrics": {"energy": 290.4333082408904, "energy_per_token": 1.1345051103159782, "time": 11.350228, "time_per_token": 0.044336828125}}
{"outputs": [{"text": "assert isinstance(M, int) and isinstance(N, int) and isinstance(L, list) and isinstance(audio_file, str)\n    assert len(L) == M * N\n    if not os.path.exists(audio_file):\n        raise FileNotFoundError(\"Audio file not found\")\n    # read audio file\n    y, sr = librosa.load(audio_file, mono=True)\n    # calculate sound pressure level\n    SPL = 20 * np.log10(np.sqrt(np.mean(y ** 2)))\n    # reshape into MxN matrix\n    matrix = np.reshape(L, (M, N))\n    # normalize matrix\n    matrix /= np.max(matrix)\n    # generate spectrogram\n    specgram = librosa.stft(y, n_fft=M)\n    specgram = np.abs(specgram)\n    return matrix, specgram", "tokens": ["assert", " isinstance", "(", "M", ",", " int", ")", " and", " isinstance", "(", "N", ",", " int", ")", " and", " isinstance", "(", "L", ",", " list", ")", " and", " isinstance", "(", "audio", "_", "file", ",", " str", ")", "\n", "    ", "assert", " len", "(", "L", ")", " ==", " M", " *", " N", "\n", "    ", "if", " not", " os", ".", "path", ".", "exists", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "\"", "Audio", " file", " not", " found", "\"", ")", "\n", "    ", "#", " read", " audio", " file", "\n", "    ", "y", ",", " s", "r", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ",", " mono", "=", "True", ")", "\n", "    ", "#", " calculate", " sound", " pressure", " level", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "y", " **", " ", "2", ")))", "\n", "    ", "#", " resh", "ape", " into", " M", "x", "N", " matrix", "\n", "    ", "matrix", " =", " np", ".", "resh", "ape", "(", "L", ",", " (", "M", ",", " N", "))", "\n", "    ", "#", " normalize", " matrix", "\n", "    ", "matrix", " /", "=", " np", ".", "max", "(", "matrix", ")", "\n", "    ", "#", " generate", " spectro", "gram", "\n", "    ", "spec", "gram", " =", " lib", "ros", "a", ".", "st", "ft", "(", "y", ",", " n", "_", "ff", "t", "=", "M", ")", "\n", "    ", "spec", "gram", " =", " np", ".", "abs", "(", "spec", "gram", ")", "\n", "    ", "return", " matrix", ",", " spec", "gram", "\n", "\n", "if"], "logprobs": [-3.9502439498901367, -0.8949083089828491, -0.0009501233580522239, -2.0015909671783447, -0.0007607426377944648, -0.02823849953711033, -0.00028534632292576134, -0.5053226351737976, -0.5513238310813904, -0.0003813969960901886, -0.011152314022183418, -8.05822346592322e-05, -0.0014400837244465947, -0.0006943913758732378, -1.5578405857086182, -0.6412808895111084, -0.0003570872650016099, -0.23684510588645935, -0.0030485368333756924, -0.030162625014781952, -0.004563868511468172, -3.1387884616851807, -1.5054972171783447, -0.000542493537068367, -0.07055273652076721, -0.0005018643569201231, -0.0005439232336357236, -0.0005737089086323977, -0.018528712913393974, -0.0024624522775411606, -0.6519222259521484, -0.170881450176239, -0.4036935269832611, -2.052659511566162, -0.0009517907164990902, -0.056795645505189896, -0.012266317382454872, -0.08230677247047424, -0.08164440095424652, -0.2686375677585602, -0.0009247555863112211, -0.261120468378067, -0.3824990391731262, -2.378803014755249, -0.2560441792011261, -0.054869554936885834, -6.9141146923357155e-06, -0.000834236154332757, -0.014446545392274857, -0.35866209864616394, -0.0014490114990621805, -0.00598412798717618, -0.0001431601122021675, -3.8742269680369645e-05, -0.006225124001502991, -0.045817963778972626, -0.003969291225075722, -0.03249707072973251, -0.005887191742658615, -0.00011777184408856556, -0.0001995364436879754, -0.612934947013855, -0.9284423589706421, -1.3114320039749146, -0.026581870391964912, -0.3821144700050354, -0.0018498466815799475, -1.0374479293823242, -0.003321608528494835, -0.005326010286808014, -0.6695989370346069, -2.4116106033325195, -2.6037206649780273, -0.5614289045333862, -0.7407410740852356, -0.5018925666809082, -0.0036786997225135565, -1.4578232765197754, -0.034234028309583664, -0.04225407540798187, -0.0034459992311894894, -0.003596862778067589, -0.11319467425346375, -1.4305104514278355e-06, -4.768370445162873e-07, -5.125986263010418e-06, -0.07921281456947327, -0.0005389191792346537, -0.005280001554638147, -5.006777428206988e-06, -5.94836674281396e-05, -1.666355013847351, -0.551648736000061, -0.01384464930742979, -0.07217942178249359, -0.11660487204790115, -0.026235071942210197, -0.23667210340499878, -0.5007736086845398, -1.1470969915390015, -1.7342567443847656, -0.07072902470827103, -0.04328546300530434, -1.3284801244735718, -0.0013780631124973297, -0.6481389999389648, -0.0013812773395329714, -0.062196388840675354, -0.026275482028722763, -0.010266589000821114, -0.0002982171718031168, -0.032014016062021255, -0.014651443809270859, -0.00020037073409184813, -0.0014362744987010956, -0.0005538121913559735, -5.4834770708112046e-05, -0.0051215640269219875, -0.008252686820924282, -0.00016091958968900144, -0.1113647073507309, -0.010636896826326847, -0.012626349925994873, -0.00021526881027966738, -0.13073991239070892, -0.07691483199596405, -0.5954807996749878, -0.7096717953681946, -0.0016887226374819875, -2.4318398573086597e-05, -0.08633563667535782, -0.0307795200496912, -0.17877759039402008, -0.17864887416362762, -3.093991756439209, -0.0030027797911316156, -3.2151598930358887, -1.730117678642273, -0.13954949378967285, -0.0021054022945463657, -0.08666855096817017, -0.06955400109291077, -0.0012224590172991157, -0.5480735898017883, -0.010740685276687145, -0.014770674519240856, -0.0017520328983664513, -0.3413024842739105, -1.5497195136049413e-06, -0.011254634708166122, -0.15978027880191803, -0.0015484021278098226, -0.07326118648052216, -0.011517579667270184, -0.0006576997111551464, -0.0033649748656898737, -0.003884153440594673, -0.04439995065331459, -0.040106672793626785, -0.0683421939611435, -0.10845533013343811, -0.644971489906311, -0.8753492832183838, -0.00046826363541185856, -0.29205161333084106, -1.007965087890625, -0.00029976642690598965, -0.7232274413108826, -0.00218878872692585, -0.4470236897468567, -0.004097163211554289, -0.3875011205673218, -0.01758367381989956, -0.07840798795223236, -0.04494316875934601, -0.0956697165966034, -0.5542893409729004, -0.03887353464961052, -0.0030692159198224545, -0.11495659500360489, -0.0027421037666499615, -3.3100624084472656, -2.595756769180298, -0.1637975126504898, -1.1656049489974976, -0.00011944057769142091, -0.00018165845540352166, -2.586808113846928e-05, -1.9653804302215576, -0.018575169146060944, -0.008802893571555614, -0.9801681041717529, -0.5832462906837463, -0.7759013772010803, -9.536738616588991e-07, -0.008660968393087387, -0.001446987851522863, -0.005485126748681068, -3.5142602920532227, -1.896888256072998, -0.061870355159044266, -0.03338431566953659, -2.6687049865722656, -0.12270721793174744, -0.2348448783159256, -0.24554219841957092, -0.0008253029081970453, -0.09071138501167297, -0.0016454027500003576, -0.12569501996040344, -0.00010871296399272978, -0.07027453184127808, -0.3389156758785248, -0.03125450760126114, -2.961392879486084, -0.18125738203525543, -0.015428476966917515, -0.7307037115097046, -0.0008031480247154832, -0.6054373383522034, -0.027374977245926857, -0.920566976070404], "finish_reason": "stop"}], "metrics": {"energy": 263.0799339380264, "energy_per_token": 1.1850447474685872, "time": 9.887864, "time_per_token": 0.04453992792792793}}
{"outputs": [{"text": "if os.path.isfile(audio_file):\n        fs, data = sf.read(audio_file)\n        SPL = 20 * np.log10(np.sqrt(np.mean(data ** 2)))\n\n        if np.isclose(SPL, -np.inf):\n            raise ValueError(\"Invalid input\")\n        SPL = 20 * np.log10(np.sqrt(np.mean(data ** 2)))\n    else:\n        raise FileNotFoundError(\"File not found: \" + audio_file)\n\n    # Normalize matrix based on the sound pressure level (SPL)\n    normalized = (L - np.mean(L)) / np.std(L)\n\n    # Convert normalized array to a matrix with M rows and N columns\n    matrix = np.array(normalized).reshape(M, N)\n\n    # Generate spectrogram\n    fig, ax = plt.subplots()\n    y_axis_type, x_axis_type = plt.get_cmap(\"seismic_r\"), plt.get_cm", "tokens": ["if", " os", ".", "path", ".", "is", "file", "(", "audio", "_", "file", "):", "\n", "        ", "fs", ",", " data", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "        ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", " **", " ", "2", ")))", "\n", "\n", "        ", "if", " np", ".", "is", "close", "(", "SP", "L", ",", " -", "np", ".", "inf", "):", "\n", "            ", "raise", " Value", "Error", "(", "\"", "Invalid", " input", "\"", ")", "\n", "        ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", " **", " ", "2", ")))", "\n", "    ", "else", ":", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "\"", "File", " not", " found", ":", " \"", " +", " audio", "_", "file", ")", "\n", "\n", "    ", "#", " Normal", "ize", " matrix", " based", " on", " the", " sound", " pressure", " level", " (", "SP", "L", ")", "\n", "    ", "normalized", " =", " (", "L", " -", " np", ".", "mean", "(", "L", "))", " /", " np", ".", "std", "(", "L", ")", "\n", "\n", "    ", "#", " Convert", " normalized", " array", " to", " a", " matrix", " with", " M", " rows", " and", " N", " columns", "\n", "    ", "matrix", " =", " np", ".", "array", "(", "normalized", ")", ".", "resh", "ape", "(", "M", ",", " N", ")", "\n", "\n", "    ", "#", " Generate", " spectro", "gram", "\n", "    ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "()", "\n", "    ", "y", "_", "axis", "_", "type", ",", " x", "_", "axis", "_", "type", " =", " plt", ".", "get", "_", "cm", "ap", "(", "\"", "se", "ismic", "_", "r", "\"", ")", ",", " plt", ".", "get", "_", "cm"], "logprobs": [-1.5121221542358398, -2.2549028396606445, -7.819823804311454e-05, -0.003132795449346304, -0.015351704321801662, -1.0618276596069336, -0.0007692000363022089, -0.00501991854980588, -0.004340631887316704, -0.0001677133986959234, -6.568216485902667e-05, -0.2871243953704834, -0.08105053007602692, -0.030088825151324272, -4.433391571044922, -0.02133234217762947, -0.44999778270721436, -0.019544756039977074, -0.08317549526691437, -5.340433563105762e-05, -0.0001102625101339072, -0.06361759454011917, -0.0006820021662861109, -0.008243228308856487, -3.099436753473128e-06, -6.341733387671411e-05, -0.16050578653812408, -0.04985607787966728, -0.23977822065353394, -1.5704227685928345, -0.002542241709306836, -0.07396023720502853, -0.05102761462330818, -0.013610891997814178, -0.000676998752169311, -0.041522663086652756, -0.024179451167583466, -0.00039414744242094457, -0.0026121563278138638, -0.0012157914461567998, -2.9682672902708873e-05, -0.009289258159697056, -0.007375511806458235, -8.618460560683161e-05, -0.06253261864185333, -0.011085941456258297, -0.02452707849442959, -0.00025006983196362853, -0.05076714977622032, -0.02224411815404892, -0.15492741763591766, -0.6337551474571228, -0.0037067292723804712, -2.407998726994265e-05, -0.02754628099501133, -0.08127486705780029, -2.1886582374572754, -0.16308563947677612, -3.7494583129882812, -3.1026880741119385, -0.0010763572063297033, -1.6371365785598755, -2.240349531173706, -0.011768320575356483, -0.3867293894290924, -3.4570634852570947e-06, -0.012674140743911266, -1.5076876878738403, -1.7643054723739624, -0.0006020640721544623, -0.03660094738006592, -0.20404350757598877, -0.13985583186149597, -0.0024628089740872383, -3.129615068435669, -0.9948045611381531, -0.00011252723925281316, -0.35170692205429077, -0.23198354244232178, -2.341508388519287, -3.1752898693084717, -2.6125946044921875, -0.0033050933852791786, -0.014867574907839298, -1.9458156824111938, -2.6909632682800293, -0.004325913731008768, -0.6320807337760925, -1.7835084199905396, -1.0356172323226929, -0.06805112212896347, -0.17568439245224, -0.02824348211288452, -0.004161983262747526, -0.008634494617581367, -0.0010555178159847856, -2.8609820219571702e-05, -0.02058802917599678, -0.261532723903656, -0.0016079128254204988, -0.12365385890007019, -0.010211131535470486, -0.3769635558128357, -0.0019002966582775116, -0.05840008705854416, -0.006461561191827059, -0.01964411698281765, -0.01149224303662777, -0.0012225781101733446, -0.0001102625101339072, -0.051777806133031845, -0.08124662190675735, -1.8249131441116333, -0.07631106674671173, -0.0005432083853520453, -0.00804469920694828, -0.002117892960086465, -0.10612791776657104, -0.011091718450188637, -0.00012313561455812305, -0.00019012074335478246, -0.11872598528862, -0.24923722445964813, -1.155401587486267, -0.14205360412597656, -0.005255692172795534, -2.8893704414367676, -0.45288121700286865, -0.16024349629878998, -0.05919679254293442, -0.00022933237778488547, -0.00017498392844572663, -0.007274923380464315, -0.0032845379319041967, -0.3501444458961487, -0.004701986908912659, -2.0952858924865723, -1.5759919881820679, -0.16314934194087982, -2.1078524589538574, -1.0712711811065674, -0.0031059379689395428, -2.014782190322876, -1.5214589834213257, -0.05602734535932541, -0.015208239667117596, -0.8504374623298645, -0.003430911572650075, -9.870042413240299e-05, -0.005234227981418371, -0.4559411406517029, -0.00481671467423439, -2.9794721603393555, -2.3471574783325195, -2.9534099102020264, -0.9414785504341125, -0.388157457113266, -0.20340357720851898, -0.00018142008048016578, -1.309719443321228, -0.0006871246150694788, -0.005309646483510733, -0.0433836355805397, -0.020779531449079514, -0.5948392748832703, -0.007065312005579472, -0.06512502580881119, -0.00021491125517059118, -0.0013572300085797906, -0.016169248148798943, -0.10985463112592697, -0.5348649024963379, -0.0006624649395234883, -0.13252560794353485, -1.9049291610717773, -1.191025972366333, -3.2051920890808105, -0.15493568778038025, -1.6082812547683716, -0.4397781491279602, -2.3429689407348633, -1.7295762300491333, -0.06986819952726364, -0.012172814458608627, -0.0019556223414838314, -0.008927904069423676, -0.02131378836929798, -0.0007770617958158255, -0.21407891809940338, -0.011118951253592968, -0.19766844809055328, -0.00017021637177094817, -1.7227855920791626, -0.05691007152199745, -0.0383240282535553, -0.04100092500448227, -0.010191190056502819, -0.003895434318110347, -1.4305104514278355e-06, -0.5703950524330139, -0.1049182265996933, -0.0004374024283606559, -0.009320911020040512, -0.0034815194085240364, -0.029473936185240746, -0.14705193042755127, -0.0006258912617340684, -0.08959995210170746, -0.8275241851806641, -0.510125458240509, -0.004198902752250433, -1.197975754737854, -0.0035107426811009645, -1.8550083637237549, -0.33272331953048706, -0.05471178516745567, -0.029429949820041656, -0.006318473257124424, -1.3470558769768104e-05, -0.0005457103834487498, -7.056941103655845e-05, -0.43040311336517334, -0.005766778718680143, -0.08058442920446396, -4.12034797668457, -1.2331597805023193, -0.5490604043006897, -2.3341970443725586, -3.4968814849853516, -1.7928366661071777, -0.40211495757102966, -0.00030560590676032007, -0.0018355678766965866, -0.0010109796421602368, -0.0030213205609470606, -0.06012970954179764, -2.5274486541748047, -0.0006361367995850742, -0.5560734272003174, -1.0735185146331787, -1.6647919416427612, -0.0003499372396618128, -1.178887128829956, -0.20435936748981476, -2.586479663848877, -0.006494487170130014, -2.000498056411743, -0.014205290004611015, -0.0013847296359017491, -0.0887899175286293, -0.4568547010421753, -0.286106139421463, -0.00015043080202303827, -0.08127200603485107, -0.0010606384603306651, -0.008912308141589165], "finish_reason": "length"}], "metrics": {"energy": 262.9992738494873, "energy_per_token": 1.0273409134745597, "time": 11.357915, "time_per_token": 0.04436685546875}}
{"outputs": [{"text": "# Convert the list into a NumPy array\n    matrix = np.array(L).reshape(M, N)\n\n    # Normalize the matrix based on the SPL of the audio file\n    if audio_file is not None:\n        data, fs = sf.read(audio_file)\n        matrix /= sf.librosa.power(data, 2)\n\n    # Generate a spectrogram from the normalized matrix\n    spec = librosa.feature.melspectrogram(matrix, sr=fs)\n    spec = librosa.power_to_db(spec, ref_power=np.max)\n    fig = plt.figure()\n    librosa.display.specshow(librosa.log_amplitude(spec, axis=-1),\n                             y_axis='log',\n                             x_axis='time',\n                             figsize=(10, 10),\n                             cmap='gray',\n                             colorbar=True)\n    plt.title(f'M= {M}, N={N}, SPL={sf", "tokens": ["#", " Convert", " the", " list", " into", " a", " Num", "Py", " array", "\n", "    ", "matrix", " =", " np", ".", "array", "(", "L", ")", ".", "resh", "ape", "(", "M", ",", " N", ")", "\n", "\n", "    ", "#", " Normal", "ize", " the", " matrix", " based", " on", " the", " S", "PL", " of", " the", " audio", " file", "\n", "    ", "if", " audio", "_", "file", " is", " not", " None", ":", "\n", "        ", "data", ",", " fs", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "        ", "matrix", " /", "=", " s", "f", ".", "lib", "ros", "a", ".", "power", "(", "data", ",", " ", "2", ")", "\n", "\n", "    ", "#", " Generate", " a", " spectro", "gram", " from", " the", " normalized", " matrix", "\n", "    ", "spec", " =", " lib", "ros", "a", ".", "feature", ".", "m", "els", "pect", "ro", "gram", "(", "matrix", ",", " s", "r", "=", "fs", ")", "\n", "    ", "spec", " =", " lib", "ros", "a", ".", "power", "_", "to", "_", "db", "(", "spec", ",", " ref", "_", "power", "=", "np", ".", "max", ")", "\n", "    ", "fig", " =", " plt", ".", "figure", "()", "\n", "    ", "lib", "ros", "a", ".", "display", ".", "spec", "show", "(", "lib", "ros", "a", ".", "log", "_", "am", "plitude", "(", "spec", ",", " axis", "=-", "1", ")", ",", "\n", "                ", "             ", "y", "_", "axis", "='", "log", "'", ",", "\n", "                ", "             ", "x", "_", "axis", "='", "time", "'", ",", "\n", "                ", "             ", "fig", "size", "=(", "1", "0", ",", " ", "1", "0", ")", ",", "\n", "                ", "             ", "cm", "ap", "='", "gray", "'", ",", "\n", "                ", "             ", "color", "bar", "=", "True", ")", "\n", "    ", "plt", ".", "title", "(", "f", "'", "M", "=", " {", "M", "}", ",", " N", "={", "N", "}", ",", " S", "PL", "={", "sf"], "logprobs": [-1.113114356994629, -4.094114303588867, -1.1182703971862793, -0.3529513478279114, -2.318880081176758, -0.1261095553636551, -2.173107862472534, -7.760223525110632e-05, -0.07949371635913849, -0.2727852165699005, -0.002419760450720787, -1.2663764953613281, -0.02292463555932045, -0.0067337024956941605, -0.002220190828666091, -0.0805424153804779, -0.00548666762188077, -0.0020731640979647636, -0.05348636582493782, -0.34451672434806824, -0.03342340141534805, -2.7418097943154862e-06, -0.16826827824115753, -0.009269416332244873, -0.0005740663618780673, -0.02610059268772602, -0.0020998113323003054, -0.042904213070869446, -0.30604782700538635, -0.0008650851668789983, -0.027858423069119453, -0.9139572978019714, -0.011150309816002846, -0.04944101721048355, -0.047446124255657196, -0.28376665711402893, -0.0004109491710551083, -0.2683771848678589, -0.8728830814361572, -0.0003129946126136929, -0.16250690817832947, -0.05971866846084595, -0.304281085729599, -0.025498120114207268, -0.040139198303222656, -0.00215429300442338, -3.1697964668273926, -1.5745558738708496, -0.0005853846669197083, -0.0009939497103914618, -0.7552407383918762, -0.08072508871555328, -0.001701099332422018, -0.1663253903388977, -0.010010396130383015, -0.005150739569216967, -1.6719446182250977, -0.04253709688782692, -1.4176745414733887, -0.017681708559393883, -0.49705496430397034, -0.00012516192509792745, -0.0001646144810365513, -0.03702389821410179, -0.000324673397699371, -0.01714269444346428, -2.9802276912960224e-06, -8.761498611420393e-05, -0.14982730150222778, -0.054069165140390396, -0.023580940440297127, -2.531397819519043, -1.1245989799499512, -0.0005073452484793961, -2.0958967208862305, -0.0039747534319758415, -0.0030051569920033216, -3.057124614715576, -0.06382127106189728, -0.00037889453233219683, -6.663577369181439e-05, -1.1807013750076294, -2.1408755779266357, -0.25981971621513367, -0.09662659466266632, -0.09553732722997665, -0.12615548074245453, -0.14410290122032166, -1.5211645364761353, -0.4646912217140198, -0.08223595470190048, -0.05055932328104973, -0.4866419732570648, -0.8404400944709778, -0.05852680653333664, -0.00017105070583056659, -0.4281080961227417, -0.000854841957334429, -0.2982703745365143, -0.006135912146419287, -0.06212278828024864, -0.0021207479294389486, -2.726957321166992, -0.43575847148895264, -1.1838445663452148, -3.3378546504536644e-06, -0.0013491347199305892, -2.825220326485578e-05, -0.46685507893562317, -0.00010168035078095272, -0.07470426708459854, -0.02444809302687645, -0.00020108585886191577, -0.0028753625229001045, -0.0007238152320496738, -0.0013491347199305892, -0.386801153421402, -0.33002182841300964, -0.1259414106607437, -0.09889543056488037, -0.0034091707784682512, -0.13852927088737488, -1.6698431968688965, -0.04351546987891197, -0.48347043991088867, -0.7883486747741699, -0.5084189176559448, -0.6323122382164001, -3.4570634852570947e-06, -0.0011697123991325498, -5.364403477869928e-06, -0.8519428372383118, -0.021821049973368645, -0.0014175852993503213, -4.2914423829643056e-05, -0.008584856055676937, -0.0005691815749742091, -0.1359768658876419, -0.37210842967033386, -0.08330295234918594, -0.8635636568069458, -0.028737282380461693, -0.06619279831647873, -0.008144618943333626, -0.00040737437666393816, -0.04908367246389389, -0.1401359587907791, -0.07689142972230911, -0.5160443186759949, -1.3943970203399658, -0.488636314868927, -0.06144074723124504, -3.6954195820726454e-05, -0.10952112078666687, -0.588146448135376, -0.006194202695041895, -0.050741881132125854, -0.8979856967926025, -6.770858453819528e-05, -1.1920922133867862e-06, -1.5735502529423684e-05, -0.015171372331678867, -8.463501580990851e-05, -0.00682901730760932, -0.03440404310822487, -0.0002498314715921879, -2.5877065658569336, -5.2927523938706145e-05, -6.0794889577664435e-05, -2.4199192921514623e-05, -0.9500067830085754, -1.0261363983154297, -1.933596134185791, -0.002969857305288315, -0.032885078340768814, -0.033271435648202896, -0.025544021278619766, -3.2539258003234863, -0.9496592283248901, -0.08067615330219269, -0.025325652211904526, -0.007412194274365902, -1.9058244228363037, -0.05631100758910179, -0.5562461614608765, -0.39194929599761963, -0.004100250080227852, -0.02275533601641655, -0.08712220937013626, -0.41810694336891174, -0.0041357469744980335, -0.0008642514003440738, -1.2499356269836426, -0.0003734129713848233, -0.0019271865021437407, -0.6583724021911621, -5.769562994828448e-05, -0.052436716854572296, -0.004849339369684458, -0.004381461534649134, -0.052053846418857574, -0.005066057667136192, -0.033632975071668625, -0.0005304598016664386, -0.0012816318776458502, -1.9957484006881714, -0.02361191064119339, -0.017117615789175034, -0.26257941126823425, -1.2242445945739746, -0.01578584685921669, -0.02236897498369217, -2.5547237396240234, -0.05074562132358551, -0.16194143891334534, -0.012846332974731922, -0.010942806489765644, -0.0006563892820850015, -0.0009104635682888329, -0.8514531850814819, -0.00012778419477399439, -0.16790421307086945, -1.4613147974014282, -0.46816128492355347, -0.006169086322188377, -0.009709040634334087, -0.00041976699139922857, -0.0009744186536408961, -4.252296447753906, -0.48078539967536926, -0.09467374533414841, -0.12693056464195251, -1.3455636501312256, -0.010560581460595131, -0.20084311068058014, -1.4572725296020508, -9.929640509653836e-05, -1.3949289321899414, -1.0053057670593262, -1.176011562347412, -0.6312461495399475, -4.360733985900879, -3.9557881355285645, -0.3137165606021881, -0.05487000569701195, -0.04072605073451996, -0.14968125522136688, -0.016214758157730103, -1.3824515342712402, -0.002591586671769619, -0.07556425034999847, -1.1593780517578125, -0.6390178203582764, -0.10476643592119217, -0.4586919844150543, -0.6629533171653748], "finish_reason": "length"}], "metrics": {"energy": 260.50130114936826, "energy_per_token": 1.0175832076147198, "time": 11.349673, "time_per_token": 0.04433466015625}}
{"outputs": [{"text": "# Check that the audio file exists before proceeding\n    if not os.path.exists(audio_file):\n        raise FileNotFoundError(f\"{audio_file} was not found.\")\n\n    # Create a spectrogram using a list\n    data, sr = librosa.load(audio_file)\n    spectrogram = librosa.feature.melspectrogram(data=data, sr=sr)\n    spectrogram = np.float32(librosa.power_to_db(spectrogram, ref=np.max))\n\n    # Calculate the SPL\n    SPL = 20 * np.log10(np.sqrt(np.mean(data ** 2)))\n\n    # Normalize the matrix based on the SPL\n    if (L is not None):\n        assert len(L) == (M * N), f\"L length {len(L)} not the same as M * N {M * N}\"\n        matrix = np.array([L[i * N + j] for i in range(M) for j in range(N)]).resh", "tokens": ["#", " Check", " that", " the", " audio", " file", " exists", " before", " proceeding", "\n", "    ", "if", " not", " os", ".", "path", ".", "exists", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "{", "audio", "_", "file", "}", " was", " not", " found", ".", "\"", ")", "\n", "\n", "    ", "#", " Create", " a", " spectro", "gram", " using", " a", " list", "\n", "    ", "data", ",", " s", "r", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ")", "\n", "    ", "spect", "ro", "gram", " =", " lib", "ros", "a", ".", "feature", ".", "m", "els", "pect", "ro", "gram", "(", "data", "=", "data", ",", " s", "r", "=", "sr", ")", "\n", "    ", "spect", "ro", "gram", " =", " np", ".", "float", "3", "2", "(", "lib", "ros", "a", ".", "power", "_", "to", "_", "db", "(", "spect", "ro", "gram", ",", " ref", "=", "np", ".", "max", "))", "\n", "\n", "    ", "#", " Calculate", " the", " S", "PL", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", " **", " ", "2", ")))", "\n", "\n", "    ", "#", " Normal", "ize", " the", " matrix", " based", " on", " the", " S", "PL", "\n", "    ", "if", " (", "L", " is", " not", " None", "):", "\n", "        ", "assert", " len", "(", "L", ")", " ==", " (", "M", " *", " N", ")", ",", " f", "\"", "L", " length", " {", "len", "(", "L", ")}", " not", " the", " same", " as", " M", " *", " N", " {", "M", " *", " N", "}\"", "\n", "        ", "matrix", " =", " np", ".", "array", "([", "L", "[", "i", " *", " N", " +", " j", "]", " for", " i", " in", " range", "(", "M", ")", " for", " j", " in", " range", "(", "N", ")]", ")", ".", "resh"], "logprobs": [-1.113114356994629, -1.5498199462890625, -2.614663600921631, -0.6248382925987244, -0.81065434217453, -0.016692141070961952, -0.022344959899783134, -2.76191782951355, -1.831818699836731, -0.18430356681346893, -0.003134578000754118, -0.06901942938566208, -0.07884964346885681, -0.010818637907505035, -2.264974000354414e-06, -8.463501580990851e-05, -0.008831962011754513, -0.2873726189136505, -0.0006160030607134104, -0.003612541826441884, -7.819823804311454e-05, -4.970903682988137e-05, -0.0014097285456955433, -0.003514187643304467, -0.0012899658177047968, -0.045520372688770294, -0.0022599175572395325, -2.8132995794294402e-05, -4.386805812828243e-05, -0.15308138728141785, -0.3864192068576813, -0.11532547324895859, -1.3561882972717285, -0.007955295033752918, -0.0001932195882545784, -0.00018487652414478362, -0.024932026863098145, -3.499230146408081, -0.009778456762433052, -0.004538829438388348, -0.7698405385017395, -0.29681849479675293, -0.0007817073492333293, -0.003397527849301696, -0.11056016385555267, -0.0014523444697260857, -0.17038403451442719, -3.374514102935791, -1.158461570739746, -2.5912153720855713, -0.0012062662281095982, -1.9639331102371216, -2.837489128112793, -2.2392163276672363, -2.302016496658325, -0.015879951417446136, -2.5304017066955566, -0.4774850308895111, -0.5212271213531494, -0.02770259603857994, -0.0062917014583945274, -0.09971307963132858, -3.099436753473128e-06, -1.0728830375228426e-06, -1.0013530300057027e-05, -0.09466615319252014, -0.0008902162662707269, -0.00461987778544426, -0.00017450717859901488, -3.242440288886428e-05, -0.22643688321113586, -0.08555173873901367, -0.11143092811107635, -2.182709217071533, -0.08544164150953293, -0.01633368618786335, -0.042366400361061096, -0.9286460280418396, -4.768360213347478e-06, -0.0024531767703592777, -1.2993727978027891e-05, -0.1986960917711258, -0.00011395759065635502, -0.12333209067583084, -0.01591045781970024, -0.0001003691868390888, -0.0006064721383154392, -0.00012516192509792745, -0.0021752286702394485, -1.122713327407837, -0.9718061685562134, -0.019959088414907455, -0.024201909080147743, -0.04288708418607712, -0.0027045360766351223, -0.001885304693132639, -0.0017829725984483957, -1.8359767198562622, -0.04409760609269142, -0.684499979019165, -0.6976224184036255, -0.01785561628639698, -0.004114140290766954, -0.18075983226299286, -0.4197346866130829, -0.00044145373976789415, -3.258427619934082, -0.8678745031356812, -6.437280717364047e-06, -0.017373401671648026, -1.6005196571350098, -0.0005575056420639157, -0.00016497205069754273, -9.298280929215252e-06, -0.6008442640304565, -0.030217332765460014, -0.0010325344046577811, -0.002353043295443058, -0.008184938691556454, -0.002115394687280059, -0.08183104544878006, -0.0005945583689026535, -0.00015138434537220746, -0.2398751974105835, -0.22784127295017242, -0.04094256833195686, -0.004388107918202877, -0.0005441615357995033, -0.10292182117700577, -0.4840722382068634, -0.15520203113555908, -0.4661152958869934, -0.0007516896002925932, -0.11596091836690903, -1.686069130897522, -0.32124677300453186, -0.9123044013977051, -0.00028308198670856655, -2.09226655960083, -0.0009847796754911542, -1.0090856552124023, -0.0022967883851379156, -0.13671204447746277, -0.11820637434720993, -0.012299759313464165, -0.000641974329482764, -0.049579426646232605, -0.019937820732593536, -0.0010176486102864146, -0.00419071177020669, -0.001212100381962955, -1.5258672647178173e-05, -0.010394248180091381, -0.027798136696219444, -0.000382707774406299, -0.8960762619972229, -0.014770204201340675, -0.020751040428876877, -0.00045158201828598976, -0.17768394947052002, -0.0415777824819088, -2.0447635650634766, -0.553148090839386, -0.0025659038219600916, -4.100715523236431e-05, -0.044085972011089325, -0.030835120007395744, -0.13414373993873596, -0.0004876854654867202, -0.06705310940742493, -0.6176792979240417, -0.01427968218922615, -0.09310348331928253, -2.0025410652160645, -0.8532130122184753, -0.0013333010720089078, -0.15142661333084106, -0.10670237988233566, -6.389413465512916e-05, -0.1789582222700119, -0.0008248264202848077, -3.7382333278656006, -3.0201830863952637, -1.9482319355010986, -0.6151483058929443, -0.6066015958786011, -0.005563964135944843, -0.7702586054801941, -0.0297169741243124, -0.0079811941832304, -4.09220552444458, -0.6292256116867065, -0.0004412154376041144, -0.01180755253881216, -0.0020377126056700945, -0.04319949820637703, -2.5821359157562256, -0.03915935009717941, -0.06236306205391884, -0.0027616003062576056, -0.0019785843323916197, -0.5824548602104187, -0.8795116543769836, -0.058430787175893784, -2.448202133178711, -3.813685894012451, -2.0331387519836426, -0.02802303619682789, -0.0002971446083392948, -0.0008929556352086365, -0.009564291685819626, -2.9429116249084473, -3.232254981994629, -0.08467444777488708, -0.041497159749269485, -0.6625575423240662, -1.293434739112854, -0.0036994845140725374, -0.3522343635559082, -0.006333043798804283, -0.28630706667900085, -0.0025420039892196655, -0.16446560621261597, -0.010665085166692734, -0.15350250899791718, -1.2298378944396973, -0.032272253185510635, -0.10355444997549057, -0.001016695867292583, -0.8543046116828918, -1.3591071367263794, -0.8045686483383179, -0.07038331776857376, -0.20549674332141876, -0.9735426902770996, -0.37406113743782043, -2.7272088527679443, -0.06395860016345978, -0.04572219401597977, -0.452157586812973, -0.061776671558618546, -0.01653057523071766, -0.002138948068022728, -0.0009193961159326136, -0.0472511351108551, -0.03362352401018143, -0.01041418593376875, -0.0001045410826918669, -0.00032586511224508286, -0.0006306566647253931, -0.0003660247311927378, -0.0007736074039712548, -0.0066349441185593605, -0.04864898696541786, -0.22886446118354797, -0.007737427484244108], "finish_reason": "length"}], "metrics": {"energy": 270.2548316841126, "energy_per_token": 1.055682936266065, "time": 11.35024, "time_per_token": 0.044336875}}
{"outputs": [{"text": "if not os.path.exists(audio_file):\n        raise FileNotFoundError(f\"Audio file '{audio_file}' not found.\")\n    audio, sample_rate = sf.read(audio_file)\n    sp_db = 20 * np.log10(np.sqrt(np.mean(audio ** 2)))\n    matrix = np.asarray(L).reshape(M, N)\n    matrix = np.asarray(matrix) / np.sqrt(np.mean(matrix ** 2))\n\n    # The following code calculates the SPL using librosa\n    # audio, sample_rate = sf.read(audio_file)\n    # sp_db = 20 * np.log10(np.sqrt(np.mean(audio ** 2)))\n\n    # The spectrogram is generated using matplotlib's imshow function\n    x = np.linspace(0, matrix.shape[1], matrix.shape[1])\n    y = np.linspace(0, matrix.shape[0], matrix.shape[0])\n\n    # The", "tokens": ["if", " not", " os", ".", "path", ".", "exists", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "Audio", " file", " '", "{", "audio", "_", "file", "}'", " not", " found", ".", "\"", ")", "\n", "    ", "audio", ",", " sample", "_", "rate", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "    ", "sp", "_", "db", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "audio", " **", " ", "2", ")))", "\n", "    ", "matrix", " =", " np", ".", "as", "array", "(", "L", ")", ".", "resh", "ape", "(", "M", ",", " N", ")", "\n", "    ", "matrix", " =", " np", ".", "as", "array", "(", "matrix", ")", " /", " np", ".", "sqrt", "(", "np", ".", "mean", "(", "matrix", " **", " ", "2", "))", "\n", "\n", "    ", "#", " The", " following", " code", " calculates", " the", " S", "PL", " using", " lib", "ros", "a", "\n", "    ", "#", " audio", ",", " sample", "_", "rate", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "    ", "#", " sp", "_", "db", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "audio", " **", " ", "2", ")))", "\n", "\n", "    ", "#", " The", " spectro", "gram", " is", " generated", " using", " matplotlib", "'", "s", " im", "show", " function", "\n", "    ", "x", " =", " np", ".", "l", "inspace", "(", "0", ",", " matrix", ".", "shape", "[", "1", "]", ",", " matrix", ".", "shape", "[", "1", "])", "\n", "    ", "y", " =", " np", ".", "l", "inspace", "(", "0", ",", " matrix", ".", "shape", "[", "0", "]", ",", " matrix", ".", "shape", "[", "0", "])", "\n", "\n", "    ", "#", " The"], "logprobs": [-1.5121221542358398, -0.21733945608139038, -0.14644840359687805, -9.894321920000948e-06, -0.0003530356043484062, -0.011976830661296844, -0.45572900772094727, -0.0032283354084938765, -0.004851118661463261, -0.00013398226292338222, -6.01988795096986e-05, -0.004337427206337452, -0.04090949892997742, -0.0037176560144871473, -0.039848849177360535, -0.003311034059152007, -6.592056161025539e-05, -0.00012957210128661245, -0.21847425401210785, -0.5739663243293762, -0.15606743097305298, -1.3743177652359009, -0.015841582790017128, -1.4144268035888672, -0.0009779914980754256, -0.0018772137118503451, -9.393251093570143e-05, -0.00014673586701974273, -0.00177107285708189, -0.2284347265958786, -0.00043215948971919715, -0.38289138674736023, -0.026995036751031876, -0.0004481264913920313, -0.00555744394659996, -1.3641424179077148, -1.633421540260315, -1.7518596649169922, -2.926222085952759, -0.0018917298875749111, -0.01697206124663353, -0.007484608795493841, -0.3495972454547882, -9.285972191719338e-05, -0.0002300474588992074, -0.02043713815510273, -0.0004576589271891862, -0.016700346022844315, -7.045020902296528e-05, -3.6000557884108275e-05, -0.18445217609405518, -0.02755880542099476, -0.2101552039384842, -2.950091600418091, -1.0580856800079346, -3.80961275100708, -0.16681666672229767, -0.06572586297988892, -0.03678722307085991, -0.0009981179609894753, -0.06590679287910461, -0.015263537876307964, -0.0029697385616600513, -0.002141327131539583, -0.001320562674663961, -3.540453326422721e-05, -0.007096561137586832, -0.013223920948803425, -0.0004761277523357421, -0.160337433218956, -0.026245756074786186, -0.029099656268954277, -0.00042215018766000867, -0.03919683396816254, -0.024413425475358963, -0.08528577536344528, -0.7884571552276611, -0.00268729729577899, -2.753696753643453e-05, -0.06928519159555435, -0.2136727273464203, -0.20955969393253326, -1.9080286026000977, -0.03493613749742508, -0.04279091954231262, -0.0037686056457459927, -2.7637453079223633, -0.14779135584831238, -0.15973709523677826, -0.04680848866701126, -0.10521088540554047, -0.0621977336704731, -0.014477330259978771, -4.172316494077677e-06, -0.5513232350349426, -0.02265395224094391, -0.0006687788409180939, -0.03188793361186981, -0.003725138260051608, -0.39579400420188904, -0.038240961730480194, -0.23736217617988586, -0.8615680932998657, -1.3263014554977417, -0.006385281682014465, -1.701331615447998, -0.17625215649604797, -0.10779572278261185, -0.3134676516056061, -0.2715650796890259, -0.32047417759895325, -0.8581750988960266, -0.006937108933925629, -1.8026752471923828, -0.02298603393137455, -0.8997188210487366, -0.003227503504604101, -1.0035133361816406, -0.01595468819141388, -0.038439664989709854, -0.16212168335914612, -0.005325535777956247, -7.581423415103927e-05, -0.02031203918159008, -0.10401555150747299, -1.9325501918792725, -0.0007290565990842879, -1.5325806140899658, -4.681963920593262, -1.8768526315689087, -1.3163455724716187, -2.6616170406341553, -0.1730949878692627, -1.4037004709243774, -0.001208290341310203, -1.5155733823776245, -1.4965022802352905, -0.00012754580529872328, -9.893881360767409e-05, -1.4426227807998657, -0.01738078147172928, -0.733900785446167, -1.7443690299987793, -1.094078779220581, -0.4673560857772827, -0.0008473381749354303, -0.002540695946663618, -0.017747409641742706, -0.7963244318962097, -0.00300860358402133, -0.0004676678800024092, -0.008211778476834297, -0.014085639268159866, -0.028427382931113243, -0.004793461877852678, -0.002279899315908551, -0.023459263145923615, -0.018102314323186874, -0.008610385470092297, -0.016294866800308228, -0.48100242018699646, -0.11915411800146103, -0.13036201894283295, -0.08598281443119049, -0.08928436785936356, -0.01828165166079998, -0.0005099665140733123, -0.020050346851348877, -0.01266519445925951, -0.0008442413527518511, -0.0005810956354252994, -0.0002942844294011593, -2.4199192921514623e-05, -0.0037542355712503195, -0.044759999960660934, -0.0008288762182928622, -0.017151013016700745, -0.004615012556314468, -0.028738440945744514, -0.000714404450263828, -0.04896550998091698, -0.006678048521280289, -0.05247381702065468, -0.045209139585494995, -0.004249590449035168, -2.2172682292875834e-05, -0.012240528129041195, -0.010767691768705845, -0.8649673461914062, -0.0011175584513694048, -0.4764624238014221, -1.2646336555480957, -1.7262202501296997, -0.003174862591549754, -0.46582603454589844, -0.4462231695652008, -0.6682690382003784, -0.6642486453056335, -2.868703842163086, -0.0006254147156141698, -0.7211748361587524, -0.003167851595208049, -0.33378565311431885, -0.4346766769886017, -0.011673711240291595, -3.758441925048828, -1.6440083980560303, -0.1727820187807083, -0.00014172980445437133, -0.6790989637374878, -0.00010299152199877426, -0.10368922352790833, -0.036675646901130676, -0.037218593060970306, -1.9832741022109985, -0.0048683201894164085, -0.023503977805376053, -0.02922007068991661, -0.22910736501216888, -0.0883115902543068, -0.6656219363212585, -0.024414705112576485, -0.00018475732940714806, -0.0007621721015311778, -0.0003194298769813031, -0.006367632653564215, -0.061508677899837494, -0.13882459700107574, -0.01040462963283062, -0.09858600795269012, -0.002098502591252327, -0.025963425636291504, -0.00023588736075907946, -0.08657683432102203, -9.822363062994555e-05, -0.014833161607384682, -0.01425335742533207, -0.0016091029392555356, -0.058370739221572876, -0.0003190723655279726, -0.0008298290777020156, -3.0278701160568744e-05, -0.007231726311147213, -0.0016215997748076916, -0.012424568645656109, -0.0006543640629388392, -1.3470558769768104e-05, -0.00013505500101018697, -1.9550132492440753e-05, -0.0041638826951384544, -0.0012857988476753235, -0.004777564201503992, -1.9932061433792114, -0.0009136793087236583, -1.4022917747497559, -1.024695634841919], "finish_reason": "length"}], "metrics": {"energy": 292.4271850128174, "energy_per_token": 1.142293691456318, "time": 11.360505, "time_per_token": 0.04437697265625}}
{"outputs": [{"text": "audio_data, sampling_rate = librosa.load(audio_file)\n\n    # Normalize the data based on the SPL\n    SPL = 20 * np.log10(np.sqrt(np.mean(np.square(audio_data))))\n    norm_matrix = np.array(L, dtype=np.float64) / SPL\n    # Create a matrix from the list\n    matrix = np.reshape(norm_matrix, (M, N))\n\n    fig, ax = plt.subplots(figsize=(16, 6))\n    img = librosa.display.specshow(librosa.amplitude_to_db(matrix, ref=np.max, top_dB=100), sfreq=sampling_rate,\n                                   y_axis='log', x_axis='time', ax=ax, cmap='gray_r', y_ticks_position='right')\n    ax.set_title('Spectrogram')\n\n    return matrix, fig", "tokens": ["audio", "_", "data", ",", " sampling", "_", "rate", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ")", "\n", "\n", "    ", "#", " Normal", "ize", " the", " data", " based", " on", " the", " S", "PL", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "np", ".", "square", "(", "audio", "_", "data", "))", "))", "\n", "    ", "norm", "_", "matrix", " =", " np", ".", "array", "(", "L", ",", " dtype", "=", "np", ".", "float", "6", "4", ")", " /", " S", "PL", "\n", "    ", "#", " Create", " a", " matrix", " from", " the", " list", "\n", "    ", "matrix", " =", " np", ".", "resh", "ape", "(", "norm", "_", "matrix", ",", " (", "M", ",", " N", "))", "\n", "\n", "    ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "(", "fig", "size", "=(", "1", "6", ",", " ", "6", "))", "\n", "    ", "img", " =", " lib", "ros", "a", ".", "display", ".", "spec", "show", "(", "lib", "ros", "a", ".", "am", "plitude", "_", "to", "_", "db", "(", "matrix", ",", " ref", "=", "np", ".", "max", ",", " top", "_", "dB", "=", "1", "0", "0", ")", ",", " s", "freq", "=", "sampling", "_", "rate", ",", "\n", "                ", "                ", "   ", "y", "_", "axis", "='", "log", "'", ",", " x", "_", "axis", "='", "time", "'", ",", " ax", "=", "ax", ",", " c", "map", "='", "gray", "_", "r", "'", ",", " y", "_", "t", "icks", "_", "position", "='", "right", "')", "\n", "    ", "ax", ".", "set", "_", "title", "('", "Spect", "ro", "gram", "')", "\n", "\n", "    ", "return", " matrix", ",", " fig", "\n", "\n", "if"], "logprobs": [-3.67789363861084, -0.2052225023508072, -0.8141220211982727, -0.3015848994255066, -1.731549859046936, -0.00027771908207796514, -0.04458728805184364, -0.012648832984268665, -1.1193782091140747, -6.9141146923357155e-06, -2.3841855067985307e-07, -3.397406908334233e-05, -0.20950622856616974, -0.0008953376673161983, -0.033252641558647156, -0.00027736154152080417, -0.0001294529065489769, -0.23147325217723846, -0.03098236955702305, -1.827939510345459, -0.0010037152096629143, -0.7373089790344238, -1.9310904741287231, -0.10011491179466248, -0.46554991602897644, -1.2175198793411255, -0.3089766800403595, -0.0008970050839707255, -0.3172755241394043, -0.5946291089057922, -0.00011753345461329445, -1.2314857244491577, -0.0015424508601427078, -0.7200452089309692, -0.0021334760822355747, -0.08320806920528412, -0.06686725467443466, -0.009354333393275738, -0.0006461439770646393, -0.03901318460702896, -0.010065510869026184, -0.00041976699139922857, -0.0008379285573028028, -0.0003364712174516171, -2.3603161025675945e-05, -0.006022046320140362, -0.00931642297655344, -0.00024279984063468874, -0.14391441643238068, -0.012191304005682468, -0.010858378373086452, -0.0001705739414319396, -0.08538297563791275, -0.033883534371852875, -1.791561484336853, -0.0009189196862280369, -0.21622498333454132, -0.0007830176036804914, -0.008096374571323395, -5.209310256759636e-05, -5.2689116273541003e-05, -0.01635807938873768, -0.009820008650422096, -0.025339366868138313, -0.9221925139427185, -2.541640520095825, -0.1506122499704361, -1.1824941635131836, -0.005140421446412802, -0.5721515417098999, -0.00258076679892838, -0.6474186182022095, -0.5113012194633484, -0.07328622043132782, -2.4499707221984863, -0.04675524681806564, -0.10841672122478485, -0.47959378361701965, -0.0017497718799859285, -0.04017378017306328, -0.693909227848053, -2.777537883957848e-05, -0.03035126067698002, -0.31665486097335815, -0.5039920806884766, -2.0861407392658293e-05, -0.06555227190256119, -1.7999765872955322, -2.317473888397217, -1.9871735572814941, -1.0069940090179443, -1.9781348705291748, -0.9847565293312073, -0.20828862488269806, -0.8333119750022888, -0.7953118085861206, -0.009780817665159702, -0.24662794172763824, -0.014301893301308155, -0.1520235687494278, -0.0007985025877133012, -0.38570550084114075, -3.933898824470816e-06, -0.0018603176577016711, -0.05320902168750763, -7.271740287251305e-06, -8.106198947643861e-06, -0.0016193384071812034, -0.06967953592538834, -0.023528428748250008, -0.0011519708205014467, -0.01632911153137684, -0.027713263407349586, -0.02652394399046898, -0.4783552587032318, -0.0009463122696615756, -2.7231812477111816, -0.29797831177711487, -0.05337618291378021, -0.028594566509127617, -0.001450677984394133, -2.407998726994265e-05, -0.0008524598088115454, -7.331102824537084e-05, -1.0321029424667358, -0.18785366415977478, -0.00037377048283815384, -0.013997361063957214, -0.44933420419692993, -2.144043207168579, -0.007730921730399132, -0.04605706036090851, -2.3217287063598633, -0.06588781625032425, -0.027009310200810432, -0.23426219820976257, -3.676474094390869, -0.07361797243356705, -3.002056121826172, -0.0014574630185961723, -8.964136941358447e-05, -7.199982064776123e-05, -0.17855115234851837, -8.511180931236595e-05, -0.03493993729352951, -0.11215399950742722, -0.0003594706067815423, -1.337786078453064, -2.6702524337451905e-05, -0.00018344627460464835, -8.797258487902582e-05, -0.265535831451416, -0.0012044801842421293, -0.0009525052737444639, -0.0014453213661909103, -1.2516897186287679e-05, -0.01447838731110096, -0.0012323412811383605, -0.24699388444423676, -0.03268861398100853, -0.34397369623184204, -0.019419897347688675, -0.010083567351102829, -0.0003871168300975114, -0.010777008719742298, -0.6682111024856567, -0.12393476814031601, -0.00035422726068645716, -1.9060940742492676, -0.0310331042855978, -1.6884410381317139, -0.7098654508590698, -0.2936857044696808, -0.09517039358615875, -0.0076074181124567986, -1.4790608882904053, -1.134916067123413, -0.0050423359498381615, -0.022610949352383614, -1.9073304429184645e-05, -8.010543388081715e-05, -0.014910795725882053, -1.5598770380020142, -0.02889815904200077, -0.07380201667547226, -0.2728908360004425, -0.5162984728813171, -0.028681334108114243, -0.1960512101650238, -0.09147395938634872, -0.0750349909067154, -0.03081870637834072, -0.00024816294899210334, -0.30835455656051636, -4.410646579344757e-05, -0.02202141098678112, -0.004115208517760038, -0.0025021694600582123, -0.04480217769742012, -0.0009685831028036773, -0.28731974959373474, -0.0006050424999557436, -0.0009203489171341062, -0.538325309753418, -0.9865044355392456, -0.0054922401905059814, -0.12443404644727707, -1.7200652360916138, -1.8055641651153564, -0.011555642820894718, -1.0249425172805786, -0.0023424585815519094, -2.1730833053588867, -0.32950398325920105, -1.4119778871536255, -0.0011304186191409826, -0.2788378596305847, -0.24620968103408813, -0.11625885963439941, -1.8870922327041626, -0.3261518180370331, -0.01673973724246025, -0.17828428745269775, -1.2321951389312744, -0.007685851771384478, -0.636204183101654, -0.28152215480804443, -0.6896907091140747, -0.46643105149269104, -1.0424683094024658, -0.015533060766756535, -0.0029635580722242594, -0.59914630651474, -0.017039449885487556, -2.4928712844848633, -0.004685019608587027, -0.48188626766204834, -0.20353537797927856, -0.014288730919361115, -0.08208408951759338, -0.4315119683742523, -0.01234450377523899, -0.9424501657485962], "finish_reason": "stop"}], "metrics": {"energy": 248.3384478979111, "energy_per_token": 1.0219689213905807, "time": 10.725073, "time_per_token": 0.04413610288065844}}
{"outputs": [{"text": "matrix = np.array(L).reshape(M, N)\n    # normalize the matrix based on the SPL of the specified audio file\n    audio_data = sf.read(audio_file)[0]\n    SPL = 20 * np.log10(np.sqrt(np.mean(np.square(audio_data))))\n    matrix /= 10**(SPL / 10)\n    # generate a spectrogram from the normalized matrix\n    f, t, Sxx = librosa.spectrum.multispectrogram(matrix)\n    Sxx = librosa.util.normalize(Sxx, axis=0, norm=np.inf)\n    f, t, Sxx = librosa.note_to_freq(f, t=t, Sxx=Sxx, fmax=max(f))\n\n    fig = plt.figure(figsize=(8, 6))\n    plt.pcolormesh(f, t, Sxx, vmin=0, vmax=max(max(t), max(f)), cmap=\"gist_", "tokens": ["matrix", " =", " np", ".", "array", "(", "L", ")", ".", "resh", "ape", "(", "M", ",", " N", ")", "\n", "    ", "#", " normalize", " the", " matrix", " based", " on", " the", " S", "PL", " of", " the", " specified", " audio", " file", "\n", "    ", "audio", "_", "data", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")[", "0", "]", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "np", ".", "square", "(", "audio", "_", "data", "))", "))", "\n", "    ", "matrix", " /", "=", " ", "1", "0", "**(", "SP", "L", " /", " ", "1", "0", ")", "\n", "    ", "#", " generate", " a", " spectro", "gram", " from", " the", " normalized", " matrix", "\n", "    ", "f", ",", " t", ",", " S", "xx", " =", " lib", "ros", "a", ".", "spectrum", ".", "mult", "is", "pect", "ro", "gram", "(", "matrix", ")", "\n", "    ", "S", "xx", " =", " lib", "ros", "a", ".", "util", ".", "normal", "ize", "(", "S", "xx", ",", " axis", "=", "0", ",", " norm", "=", "np", ".", "inf", ")", "\n", "    ", "f", ",", " t", ",", " S", "xx", " =", " lib", "ros", "a", ".", "note", "_", "to", "_", "freq", "(", "f", ",", " t", "=", "t", ",", " S", "xx", "=", "S", "xx", ",", " f", "max", "=", "max", "(", "f", "))", "\n", "\n", "    ", "fig", " =", " plt", ".", "figure", "(", "fig", "size", "=(", "8", ",", " ", "6", "))", "\n", "    ", "plt", ".", "p", "col", "orm", "esh", "(", "f", ",", " t", ",", " S", "xx", ",", " v", "min", "=", "0", ",", " v", "max", "=", "max", "(", "max", "(", "t", ")", ",", " max", "(", "f", "))", ",", " c", "map", "=", "\"", "g", "ist", "_"], "logprobs": [-3.2684240341186523, -0.059457652270793915, -0.0574478842318058, -0.0007736074039712548, -0.4633004367351532, -0.03827561065554619, -0.006932373624294996, -0.0549626462161541, -0.10917232930660248, -0.006468548905104399, -5.006777428206988e-06, -0.22165270149707794, -0.01205091830343008, -0.001022888463921845, -0.05543734133243561, -0.0042932722717523575, -0.32831087708473206, -0.17321598529815674, -2.8161113262176514, -3.474827527999878, -1.1064362525939941, -0.05274401232600212, -0.42920422554016113, -0.0011023165425285697, -0.2641372084617615, -0.8512272238731384, -0.00027104519540444016, -0.16689203679561615, -0.09344369918107986, -1.80923593044281, -0.005025967489928007, -0.010931958444416523, -0.03287792578339577, -0.009543864987790585, -1.57668137550354, -0.15711955726146698, -0.1803448498249054, -2.1624343395233154, -0.3037053048610687, -0.0004129749140702188, -0.0003780603874474764, -0.045822177082300186, -0.002577318577095866, -0.019761469215154648, -0.00013124081306159496, -0.00013469743134919554, -0.9721102714538574, -0.04821775108575821, -0.010222694836556911, -0.10485617816448212, -0.013643701560795307, -0.8166124820709229, -0.0016462358180433512, -0.09473913162946701, -0.017694473266601562, -0.006538663525134325, -0.0006678258068859577, -0.036486707627773285, -0.03553123027086258, -0.000709282117895782, -0.0017995130037888885, -0.0008064831490628421, -4.160317621426657e-05, -0.005277985706925392, -0.00866770464926958, -0.00010513706365600228, -0.08407612144947052, -0.007239655591547489, -0.02049693651497364, -0.00018273114983458072, -0.06617773324251175, -0.04169681668281555, -1.3377277851104736, -0.0007728926721028984, -0.29294681549072266, -0.0007699147681705654, -0.009686491452157497, -5.495397272170521e-05, -5.543078441405669e-05, -0.07451429963111877, -0.0024905160535126925, -0.03534874692559242, -0.11960786581039429, -0.4176585376262665, -0.7759971618652344, -0.0013012760318815708, -0.9128320813179016, -0.41598471999168396, -0.07180891931056976, -1.0823270082473755, -0.02167489565908909, -2.50339189733495e-06, -0.81602543592453, -0.00303914793767035, -1.349348545074463, -0.060445427894592285, -0.10296957939863205, -0.05381084978580475, -0.354371041059494, -0.37252092361450195, -0.3411390781402588, -0.9751452207565308, -0.018152887001633644, -0.00022373080719262362, -0.29964470863342285, -0.001742631895467639, -0.4170588552951813, -0.00665602320805192, -0.05431680008769035, -0.004747784696519375, -1.9498530626296997, -0.03916783258318901, -0.2437421679496765, -0.046149156987667084, -0.6885898113250732, -0.21819894015789032, -0.08519316464662552, -0.39484739303588867, -1.1801649634435307e-05, -2.5629668016335927e-05, -2.253030106658116e-05, -3.4821081161499023, -0.007031931076198816, -1.267145037651062, -0.9977235198020935, -0.3709449768066406, -0.6827466487884521, -0.0001734344696160406, -0.0018873275257647038, -0.11485191434621811, -0.90777587890625, -0.013765051029622555, -0.020010268315672874, -2.122857093811035, -0.01397655438631773, -0.5281543731689453, -0.9115259051322937, -2.7418097943154862e-06, -0.000897957943379879, -6.437280717364047e-06, -1.7170469760894775, -2.109982233378105e-05, -0.218134343624115, -0.00017069313616957515, -0.001606365549378097, -0.002955119125545025, -5.245071224635467e-05, -0.1592254638671875, -0.38351646065711975, -0.0747414380311966, -0.21402011811733246, -1.2232059240341187, -0.47744184732437134, -1.3603262901306152, -0.03059917315840721, -0.0004232226056046784, -0.13972501456737518, -0.0791308730840683, -0.09288319200277328, -0.04564304277300835, -2.494539260864258, -0.832373857498169, -0.029526714235544205, -0.16280649602413177, -0.08395370095968246, -0.004495514091104269, -0.049305424094200134, -0.11944348365068436, -4.410734163684538e-06, -0.001057661371305585, -2.074220174108632e-05, -3.7887749671936035, -0.2041497379541397, -0.4562256634235382, -2.8729025871143676e-05, -1.5525970458984375, -0.11695405840873718, -0.5104784369468689, -1.0193904638290405, -2.8619742393493652, -0.9766066670417786, -0.021381935104727745, -0.0731205865740776, -0.26185598969459534, -0.01982785202562809, -0.0033211333211511374, -0.0014634147519245744, -2.7417760065873154e-05, -1.0456254482269287, -2.277951955795288, -0.5925057530403137, -0.015601955354213715, -1.7352781295776367, -0.010994686745107174, -0.262224018573761, -0.4496285319328308, -0.032847702503204346, -2.7180330753326416, -0.0012323412811383605, -0.7555627822875977, -0.3533093333244324, -0.005824735388159752, -5.900685573578812e-05, -0.02283305674791336, -0.5824277400970459, -0.07575291395187378, -0.0003147821989841759, -0.020138442516326904, -1.996404767036438, -0.012821970507502556, -0.054307881742715836, -0.9698288440704346, -0.12194562703371048, -0.009994816966354847, -0.038632482290267944, -0.99998539686203, -5.066266385256313e-05, -0.7369166612625122, -0.023877447471022606, -0.0006330393371172249, -0.0049437666311860085, -0.001210790709592402, -0.8846186995506287, -0.018621856346726418, -0.04919705167412758, -0.009097316302359104, -0.14735443890094757, -2.407998726994265e-05, -0.3605479598045349, -1.2661306858062744, -0.1029215008020401, -0.11877076327800751, -1.187746286392212, -0.17215648293495178, -0.036965422332286835, -0.0006718761869706213, -0.0036599335726350546, -1.8023382425308228, -0.0020857739727944136, -2.5102195739746094, -0.0015995815629139543, -2.745968818664551, -0.04180120676755905, -0.031133295968174934, -0.17942698299884796, -0.0006325627909973264, -0.60093092918396, -0.4533314108848572, -0.03615275397896767, -0.2714564800262451, -0.0005837167263962328, -1.8848074674606323, -0.773302435874939, -3.178870916366577, -0.024942373856902122, -0.0008138681878335774], "finish_reason": "length"}], "metrics": {"energy": 297.40407587337523, "energy_per_token": 1.161734671380372, "time": 11.352246, "time_per_token": 0.0443447109375}}
{"outputs": [{"text": "try:\n        soundfile_path = audio_file\n        sound_data, samplerate = sf.read(soundfile_path)\n    except FileNotFoundError:\n        print(\"Sound file not found!\")\n    else:\n        if sound_data.ndim == 1:\n            sound_data = sound_data[np.newaxis, :]\n        else:\n            pass\n        if len(sound_data) > 5:\n            sound_data = sound_data[:5, :]\n        if len(sound_data) % 5 == 0:\n            print(\"Total number of samples: {}\".format(len(sound_data)))\n        else:\n            print(\"Number of samples: {}, skipping rest\".format(len(sound_data) % 5))\n            sound_data = sound_data[:len(sound_data) % 5, :]\n\n        # sound_data = sf.read(soundfile_path)[0]\n        # samplerate = sf.read(soundfile_path)[1]\n        print(\"Shape of sound_data", "tokens": ["try", ":", "\n", "        ", "sound", "file", "_", "path", " =", " audio", "_", "file", "\n", "        ", "sound", "_", "data", ",", " sampler", "ate", " =", " s", "f", ".", "read", "(", "sound", "file", "_", "path", ")", "\n", "    ", "except", " File", "NotFound", "Error", ":", "\n", "        ", "print", "(", "\"", "Sound", " file", " not", " found", "!", "\"", ")", "\n", "    ", "else", ":", "\n", "        ", "if", " sound", "_", "data", ".", "nd", "im", " ==", " ", "1", ":", "\n", "            ", "sound", "_", "data", " =", " sound", "_", "data", "[", "np", ".", "new", "axis", ",", " :", "]", "\n", "        ", "else", ":", "\n", "            ", "pass", "\n", "        ", "if", " len", "(", "sound", "_", "data", ")", " >", " ", "5", ":", "\n", "            ", "sound", "_", "data", " =", " sound", "_", "data", "[:", "5", ",", " :", "]", "\n", "        ", "if", " len", "(", "sound", "_", "data", ")", " %", " ", "5", " ==", " ", "0", ":", "\n", "            ", "print", "(", "\"", "Total", " number", " of", " samples", ":", " {", "}\"", ".", "format", "(", "len", "(", "sound", "_", "data", ")))", "\n", "        ", "else", ":", "\n", "            ", "print", "(", "\"", "Number", " of", " samples", ":", " {}", ",", " skipping", " rest", "\"", ".", "format", "(", "len", "(", "sound", "_", "data", ")", " %", " ", "5", "))", "\n", "            ", "sound", "_", "data", " =", " sound", "_", "data", "[:", "len", "(", "sound", "_", "data", ")", " %", " ", "5", ",", " :", "]", "\n", "\n", "        ", "#", " sound", "_", "data", " =", " s", "f", ".", "read", "(", "sound", "file", "_", "path", ")[", "0", "]", "\n", "        ", "#", " sampler", "ate", " =", " s", "f", ".", "read", "(", "sound", "file", "_", "path", ")[", "1", "]", "\n", "        ", "print", "(", "\"", "Shape", " of", " sound", "_", "data"], "logprobs": [-2.4584550857543945, -0.0015735160559415817, -0.01354068424552679, -0.010551616549491882, -3.516195297241211, -2.414003849029541, -1.3144950866699219, -2.0896382331848145, -0.03055269457399845, -0.8465577363967896, -0.002601455431431532, -0.0009395237429998815, -0.1009129211306572, -0.08098039031028748, -3.3048641681671143, -1.433056116104126, -0.40562236309051514, -0.1370013803243637, -2.172382354736328, -0.000918681500479579, -0.035666514188051224, -0.1451687067747116, -0.00018535325943958014, -0.00031573555315844715, -0.020367641001939774, -0.00035494225448928773, -0.04745135456323624, -0.0024901593569666147, -0.0004683827864937484, -9.65590606938349e-06, -0.15944980084896088, -0.059229038655757904, -0.7778173685073853, -0.0023514972999691963, -0.2780555188655853, -2.9801878554280847e-05, -2.264974000354414e-06, -0.21832850575447083, -0.01466882973909378, -0.0014287750236690044, -0.8829954862594604, -0.12251539528369904, -0.9909902215003967, -3.691112518310547, -0.4865771234035492, -0.16764304041862488, -0.002380396705120802, -1.9221726655960083, -0.10977526754140854, -0.006557257380336523, -0.008799939416348934, -2.0176494121551514, -0.5986937880516052, -0.000730247818864882, -0.004916838835924864, -0.041393768042325974, -2.8717715740203857, -1.6791660785675049, -0.11395998299121857, -8.642300235806033e-05, -0.18267260491847992, -0.7725609540939331, -0.00024732868769206107, -0.6013094186782837, -0.001423656358383596, -0.4329012632369995, -0.017591286450624466, -0.49991515278816223, -0.007663375232368708, -1.2773911952972412, -0.04202926531434059, -0.012914353981614113, -0.08390195667743683, -0.3211921453475952, -0.00504589406773448, -7.867782187531702e-06, -1.7155641317367554, -0.33723631501197815, -0.00029404606902971864, -0.001384134404361248, -0.0001941730733960867, -0.07633139193058014, -0.15162454545497894, -0.0033912311773747206, -0.3331199884414673, -0.4347137212753296, -2.953731060028076, -0.00014399446081370115, -0.013952338136732578, -0.0010201494442299008, -2.930563449859619, -0.018564168363809586, -0.4967634081840515, -2.5643882751464844, -1.5997718572616577, -0.0006403064471669495, -0.057771313935518265, -0.025359008461236954, -2.13382354559144e-05, -0.2207731455564499, -1.6041253805160522, -0.8110056519508362, -2.8097543716430664, -1.2149183750152588, -0.05049630627036095, -0.006198941729962826, -0.36107075214385986, -0.010040845721960068, -0.005357787944376469, -0.03874177485704422, -0.1727917492389679, -0.001042775809764862, -2.145764938177308e-06, -0.45153841376304626, -0.1528680920600891, -2.4218263626098633, -0.08655442297458649, -0.0030920335557311773, -0.03932131081819534, -0.396844744682312, -2.215200424194336, -0.635156512260437, -0.00043585337698459625, -0.02103998325765133, -0.0024563875049352646, -7.795983401592821e-05, -0.7138599157333374, -2.8646888732910156, -0.0842876210808754, -1.8818413019180298, -1.3372583389282227, -0.002890815259888768, -0.2621499001979828, -0.0336795449256897, -0.0082395626232028, -0.004328050650656223, -4.398137092590332, -0.11248940229415894, -0.6161054372787476, -4.709406852722168, -1.219560980796814, -0.013032026588916779, -0.715397834777832, -1.0333831310272217, -1.282164454460144, -0.16847126185894012, -0.008892931044101715, -0.0022048468235880136, -0.0028708456084132195, -0.10526099801063538, -0.00020096666412428021, -0.002065431559458375, -2.658331868587993e-05, -3.814689989667386e-06, -0.12369188666343689, -0.006704928819090128, -0.5018591284751892, -0.6297507882118225, -0.00023862851958256215, -0.01085991133004427, -0.001167807262390852, -0.33328408002853394, -0.011996973305940628, -0.030847949907183647, -2.3711724281311035, -0.007133609149605036, -0.20203037559986115, -1.232256531715393, -2.2522332668304443, -0.7726745009422302, -3.6859893798828125, -2.6697752475738525, -1.1282458305358887, -0.010676408186554909, -0.0027742015663534403, -0.005583880003541708, -0.12038519233465195, -0.00022146634000819176, -0.0020369987469166517, -7.986990567587782e-06, -4.768370445162873e-07, -1.2817506790161133, -0.49529528617858887, -0.006108305882662535, -0.004414575174450874, -0.034862689673900604, -0.0011323237558826804, -1.294626235961914, -0.21992018818855286, -0.0007046362152323127, -0.00026770823751576245, -0.0059104193933308125, -0.009719902649521828, -3.7788631743751466e-05, -7.152555099310121e-07, -0.03853739798069, -1.4506977796554565, -0.000277123210253194, -0.002257776679471135, -2.9802276912960224e-06, -5.960462772236497e-07, -0.051953013986349106, -0.36117279529571533, -0.004799630958586931, -0.0020271246321499348, -0.06155766546726227, -0.008424104191362858, -0.004352738615125418, -0.004370898474007845, -1.413669466972351, -0.032130733132362366, -1.6804689168930054, -4.1503801345825195, -0.20540599524974823, -0.030143307521939278, -0.37136131525039673, -2.578765392303467, -0.0653967335820198, -0.0025868306402117014, -0.11766869574785233, -0.04409315809607506, -0.4804636836051941, -0.20041677355766296, -0.02216891571879387, -0.0005072260973975062, -0.4607897400856018, -0.05296529456973076, -0.17415788769721985, -0.19333496689796448, -0.16788747906684875, -1.0232099294662476, -2.4779672622680664, -9.405170567333698e-05, -0.017476141452789307, -0.034005794674158096, -5.745722592109814e-05, -0.0021256250329315662, -0.044333696365356445, -0.0005869334563612938, -0.0033027171157300472, -0.0019220703979954123, -0.0001287377526750788, -2.2411095415009186e-05, -0.016270119696855545, -0.004061901941895485, -0.015470968559384346, -0.014998406171798706, -0.52840656042099, -2.2113609313964844, -0.050166890025138855, -0.3269001245498657, -2.7517662048339844, -0.46322086453437805, -0.639399528503418, -0.6352360248565674, -0.002627018606290221], "finish_reason": "length"}], "metrics": {"energy": 264.7835946521759, "energy_per_token": 1.0343109166100621, "time": 11.354915, "time_per_token": 0.04435513671875}}
{"outputs": [{"text": "data, sr = librosa.load(audio_file)\n    spl_value = 20 * np.log10(np.sqrt(np.mean(data ** 2)))\n\n    matrix = np.asarray(L, dtype=np.float64).reshape((M, N))\n    normalized_matrix = matrix / spl_value\n    figure = plt.imshow(normalized_matrix, cmap='magma')\n    figure.set_clim(-3, 25)\n\n    return normalized_matrix, figure", "tokens": ["data", ",", " s", "r", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ")", "\n", "    ", "spl", "_", "value", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", " **", " ", "2", ")))", "\n", "\n", "    ", "matrix", " =", " np", ".", "as", "array", "(", "L", ",", " dtype", "=", "np", ".", "float", "6", "4", ")", ".", "resh", "ape", "((", "M", ",", " N", "))", "\n", "    ", "normalized", "_", "matrix", " =", " matrix", " /", " spl", "_", "value", "\n", "    ", "figure", " =", " plt", ".", "im", "show", "(", "normalized", "_", "matrix", ",", " c", "map", "='", "mag", "ma", "')", "\n", "    ", "figure", ".", "set", "_", "cl", "im", "(-", "3", ",", " ", "2", "5", ")", "\n", "\n", "    ", "return", " normalized", "_", "matrix", ",", " figure", "\n", "\n", "if"], "logprobs": [-3.566220283508301, -0.615156352519989, -0.8907678127288818, -0.038777898997068405, -0.016077987849712372, -0.13104048371315002, -3.576272320060525e-06, -1.7881377516459906e-06, -2.9205850296420977e-05, -0.12689633667469025, -0.0017816636245697737, -0.0217231884598732, -0.00032646095496602356, -0.00017593742813915014, -0.15210558474063873, -0.07851863652467728, -0.1547364741563797, -3.052598237991333, -1.7608850002288818, -1.5381141901016235, -0.04167395085096359, -0.23282279074192047, -0.031433578580617905, -0.0008648469229228795, -0.06579205393791199, -0.01791990175843239, -0.000821014866232872, -0.0022701462730765343, -0.000940595637075603, -3.4689302992774174e-05, -0.006003324408084154, -0.010294906795024872, -8.439661905867979e-05, -0.07007528096437454, -0.012403375469148159, -0.009140432812273502, -0.00017808281700126827, -0.06042197346687317, -0.05881717801094055, -0.147549569606781, -0.5126303434371948, -0.003663853043690324, -2.992108420585282e-05, -0.03635532408952713, -0.07988063991069794, -1.1988136768341064, -0.0010000233305618167, -1.0279358625411987, -0.0366632342338562, -0.053481169044971466, -0.0012523435289040208, -3.0061638355255127, -0.07251252979040146, -0.09818323701620102, -0.022753238677978516, -2.2418110370635986, -0.07782133668661118, -0.08371022343635559, -0.5589805245399475, -0.0016451646806672215, -0.08344069868326187, -0.6449437141418457, -7.915183232398704e-05, -0.009760276414453983, -0.2777697741985321, -0.0028799984138458967, -1.0728830375228426e-06, -0.9495137929916382, -0.016919318586587906, -0.0012950851814821362, -0.02521360106766224, -0.010868637822568417, -0.3028948903083801, -0.18483483791351318, -2.726632833480835, -0.184872105717659, -0.025313911959528923, -0.010144224390387535, -0.6448484063148499, -0.06857507675886154, -0.23067082464694977, -0.00030083899036981165, -8.666139910928905e-05, -0.05400942265987396, -0.7725769877433777, -2.5120418071746826, -0.5985095500946045, -0.11432997137308121, -0.0004564673872664571, -2.923560380935669, -0.0008314966107718647, -0.004190474282950163, -0.21084605157375336, -9.536697689327411e-06, -2.4676019165781327e-05, -0.06286851316690445, -0.6425022482872009, -0.0009034366230480373, -0.12691880762577057, -2.37336802482605, -0.02239636890590191, -1.1395143270492554, -0.028577305376529694, -0.3211323022842407, -2.389033794403076, -0.014565212652087212, -0.43701666593551636, -0.012332611717283726, -0.8529187440872192, -0.0027803832199424505, -0.6571205854415894, -2.787060260772705, -1.4702327251434326, -0.12700553238391876, -2.1433725357055664, -2.404247283935547, -0.016629885882139206, -0.08933637291193008, -1.6702637672424316, -0.00591622618958354, -0.3531726896762848, -0.6916629672050476, -1.7762025890988298e-05, -0.00013720047718379647, -0.007848733104765415, -0.013146508485078812, -0.5945058465003967, -0.007242496125400066, -0.8817295432090759], "finish_reason": "stop"}], "metrics": {"energy": 138.18329052639007, "energy_per_token": 1.0711882986541865, "time": 6.1015787, "time_per_token": 0.047299059689922485}}
{"outputs": [{"text": "# Check if the specified audio file exists\n    if not os.path.exists(audio_file):\n        raise FileNotFoundError(f\"The specified audio file '{audio_file}' does not exist.\")\n\n    # Read the audio data using soundfile\n    data, sr = sf.read(audio_file)\n\n    # Normalize the data based on the SPL of the audio file\n    SPL = 20 * np.log10(np.sqrt(np.mean(data**2)))\n\n    # Generate the matrix\n    matrix = np.array([[0]*N for _ in range(M)])\n    for i in range(M):\n        for j in range(N):\n            index = i * N + j\n            if index < len(L):\n                matrix[i][j] = L[index]\n            else:\n                matrix[i][j] = L[index % len(L)]\n    matrix = np.divide(matrix, max(SPL))\n\n    # Create a figure for the spectrogram\n    fig, ax = plt.subplots()\n\n    ", "tokens": ["#", " Check", " if", " the", " specified", " audio", " file", " exists", "\n", "    ", "if", " not", " os", ".", "path", ".", "exists", "(", "audio", "_", "file", "):", "\n", "        ", "raise", " File", "NotFound", "Error", "(", "f", "\"", "The", " specified", " audio", " file", " '", "{", "audio", "_", "file", "}'", " does", " not", " exist", ".", "\"", ")", "\n", "\n", "    ", "#", " Read", " the", " audio", " data", " using", " sound", "file", "\n", "    ", "data", ",", " s", "r", " =", " s", "f", ".", "read", "(", "audio", "_", "file", ")", "\n", "\n", "    ", "#", " Normal", "ize", " the", " data", " based", " on", " the", " S", "PL", " of", " the", " audio", " file", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "data", "**", "2", ")))", "\n", "\n", "    ", "#", " Generate", " the", " matrix", "\n", "    ", "matrix", " =", " np", ".", "array", "([", "[", "0", "]*", "N", " for", " _", " in", " range", "(", "M", ")]", ")", "\n", "    ", "for", " i", " in", " range", "(", "M", "):", "\n", "        ", "for", " j", " in", " range", "(", "N", "):", "\n", "            ", "index", " =", " i", " *", " N", " +", " j", "\n", "            ", "if", " index", " <", " len", "(", "L", "):", "\n", "                ", "matrix", "[", "i", "][", "j", "]", " =", " L", "[", "index", "]", "\n", "            ", "else", ":", "\n", "                ", "matrix", "[", "i", "][", "j", "]", " =", " L", "[", "index", " %", " len", "(", "L", ")]", "\n", "    ", "matrix", " =", " np", ".", "div", "ide", "(", "matrix", ",", " max", "(", "SP", "L", "))", "\n", "\n", "    ", "#", " Create", " a", " figure", " for", " the", " spectro", "gram", "\n", "    ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "()", "\n", "\n", "    "], "logprobs": [-1.113114356994629, -1.5498199462890625, -0.3515811264514923, -0.3371222913265228, -0.8291867971420288, -0.027488408610224724, -0.002959041390568018, -0.014272160828113556, -0.1048559695482254, -0.0019961923826485872, -0.03332885727286339, -0.05411377549171448, -0.009997768327593803, -1.9073468138230965e-06, -8.618460560683161e-05, -0.006148945074528456, -0.32333993911743164, -0.00051771110156551, -0.002693955088034272, -8.83301836438477e-05, -4.3987260141875595e-05, -0.0011860248632729053, -0.002253137994557619, -0.0008939084364101291, -0.043166160583496094, -0.0016473069554194808, -1.9788545614574105e-05, -2.396077979938127e-05, -0.11955064535140991, -0.2778418958187103, -0.06888279318809509, -2.3651509284973145, -0.39842525124549866, -0.025118861347436905, -0.001327943871729076, -0.6567916870117188, -0.0006948678637854755, -0.0011731653939932585, -0.00014327930693980306, -0.00010656742961145937, -0.0008935510995797813, -0.09476310014724731, -0.0004320403386373073, -0.0017127619357779622, -0.10613273829221725, -0.009645996615290642, -0.0005143749876879156, -0.00121412449516356, -0.057382602244615555, -0.0013674680376425385, -0.11509004980325699, -0.666359007358551, -0.4658149480819702, -0.0922079011797905, -0.45741039514541626, -3.196603298187256, -1.856526255607605, -0.0015506636118516326, -0.2643209993839264, -0.00048303857329301536, -1.2331147193908691, -0.07637368887662888, -0.6252628564834595, -0.028346851468086243, -0.01179188396781683, -0.07579557597637177, -4.7444173105759546e-05, -6.389413465512916e-05, -0.021188566461205482, -0.00016735584358684719, -0.0018043918535113335, -9.536738616588991e-07, -2.288792165927589e-05, -0.13341064751148224, -0.018238458782434464, -0.20161184668540955, -0.0004003438516519964, -0.01932881399989128, -1.8782074451446533, -0.010305879637598991, -0.06301436573266983, -0.562781035900116, -0.4135591685771942, -0.0009703694959171116, -0.3209667205810547, -0.5059887766838074, -0.0001006075763143599, -0.9941205978393555, -0.01533503457903862, -0.22297902405261993, -0.06276193261146545, -0.075312539935112, -0.0007998128421604633, -0.9350153207778931, -0.0017625049222260714, -0.05882302299141884, -0.02978929691016674, -0.006921837106347084, -0.00048196621355600655, -0.01771719567477703, -0.01917106658220291, -0.0003492222458589822, -0.0010919567430391908, -0.0007501410436816514, -1.2874520507466514e-05, -0.007381546776741743, -0.0070119258016347885, -6.532455881824717e-05, -0.05531654506921768, -0.011011193506419659, -0.014136415906250477, -0.00023636408150196075, -0.04433153197169304, -0.016514277085661888, -0.09957485646009445, -0.775689423084259, -0.00018404220463708043, -0.031654659658670425, -0.07850784063339233, -0.3255268633365631, -0.0005078217945992947, -0.03871757909655571, -1.5918480157852173, -0.5616858601570129, -0.7153800129890442, -1.2986524105072021, -0.0006568658282049, -0.2330958992242813, -0.006705638952553272, -0.050711967051029205, -0.0016381428577005863, -0.5066338777542114, -1.037137746810913, -1.1686898469924927, -3.943113088607788, -2.7798705101013184, -0.22384235262870789, -0.523208498954773, -0.838961124420166, -0.00040665941196493804, -0.0016329062636941671, -0.0014785320963710546, -0.006149063352495432, -0.0011249411618337035, -0.08395227044820786, -0.02115051820874214, -0.22136154770851135, -0.14132142066955566, -0.18601839244365692, -0.0907420888543129, -0.015861647203564644, -0.0004409771354403347, -0.2871413230895996, -0.011883772909641266, -0.004969506990164518, -0.003250911831855774, -0.06659594178199768, -0.00144091690890491, -0.0012961566681042314, -0.00019441144831944257, -0.0002797450579237193, -0.0050278655253350735, -0.001096005435101688, -0.00046790618216618896, -0.0018576999427750707, -3.0275235176086426, -0.030106524005532265, -0.6565529108047485, -1.3710176944732666, -0.17737890779972076, -0.002444971352815628, -0.003121386980637908, -0.03566444665193558, -0.008717929944396019, -1.1711466312408447, -0.14723654091358185, -0.16737152636051178, -0.03937162458896637, -8.511180931236595e-05, -0.6651158332824707, -0.016907714307308197, -0.019024992361664772, -0.0007136897183954716, -0.10996420681476593, -0.00040058218291960657, -0.00038389943074434996, -0.24181963503360748, -2.312633478140924e-05, -0.0004236992390360683, -0.0017183552263304591, -0.05720766633749008, -0.0003693613689392805, -0.004760360810905695, -0.05536121129989624, -0.36403772234916687, -0.9808948636054993, -0.0839695930480957, -0.00021634146105498075, -0.007971852086484432, -0.00023147765023168176, -0.09922991693019867, -9.738924563862383e-05, -1.2636104656849056e-05, -0.00020144341397099197, -2.8490614567999728e-05, -0.0005809764843434095, -0.0020769708789885044, -2.8820300102233887, -0.0368204303085804, -0.35958176851272583, -1.5593985319137573, -0.026891181245446205, -6.961580220377073e-05, -0.003534025512635708, -0.0032730125822126865, -0.05148696526885033, -2.166078567504883, -0.2795765995979309, -0.641845166683197, -1.090799331665039, -0.002801305614411831, -1.6892588138580322, -0.00010406429646536708, -0.006418328732252121, -0.01967778243124485, -0.004797614179551601, -2.6232542991638184, -0.02569681592285633, -1.1176609992980957, -8.21318244561553e-05, -0.6744086146354675, -0.05763189494609833, -0.16377636790275574, -0.0008627030183561146, -0.04353601485490799, -2.0258686542510986, -0.3451268970966339, -0.3002232015132904, -1.319203495979309, -0.0544385090470314, -0.07969485223293304, -0.0001752223033690825, -0.14352908730506897, -0.0005872909096069634, -0.19578103721141815, -0.7077437043190002, -0.048952456563711166, -0.015791596844792366, -0.0004839917819481343, -2.1457441107486375e-05, -0.00031001531169749796, -6.460934673668817e-05, -0.4546889066696167, -0.0008139872807078063, -0.2219780534505844, -0.0005445189890451729], "finish_reason": "length"}], "metrics": {"energy": 297.216036790848, "energy_per_token": 1.16100014371425, "time": 11.353687, "time_per_token": 0.04435033984375}}
{"outputs": [{"text": "audio, samplerate = librosa.load(audio_file)\n    n_fft = 256\n    hop_length = samplerate // 4\n    stft = np.abs(librosa.stft(audio, n_fft=n_fft, hop_length=hop_length))\n\n    # Calculate the SPL based on the audio data\n    SPL = 20 * np.log10(np.mean(stft ** 2))\n\n    # Normalize the matrix\n    matrix = np.array(L).reshape((M, N)) / SPL\n\n    # Create a figure for the spectrogram\n    fig, ax = plt.subplots()\n\n    # Plot the normalized matrix using the SPL as the amplitude\n    imgplot = ax.imshow(matrix, cmap='gray', vmin=0, vmax=1)\n\n    # Create colorbar\n    cbar = plt.colorbar(imgplot, ax=ax)\n    cbar.set_label('Amplitude')\n\n    # Set title, labels, and aspect of the figure\n", "tokens": ["audio", ",", " sampler", "ate", " =", " lib", "ros", "a", ".", "load", "(", "audio", "_", "file", ")", "\n", "    ", "n", "_", "ff", "t", " =", " ", "2", "5", "6", "\n", "    ", "hop", "_", "length", " =", " sampler", "ate", " //", " ", "4", "\n", "    ", "st", "ft", " =", " np", ".", "abs", "(", "lib", "ros", "a", ".", "st", "ft", "(", "audio", ",", " n", "_", "ff", "t", "=", "n", "_", "ff", "t", ",", " hop", "_", "length", "=", "hop", "_", "length", "))", "\n", "\n", "    ", "#", " Calculate", " the", " S", "PL", " based", " on", " the", " audio", " data", "\n", "    ", "SP", "L", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "mean", "(", "st", "ft", " **", " ", "2", "))", "\n", "\n", "    ", "#", " Normal", "ize", " the", " matrix", "\n", "    ", "matrix", " =", " np", ".", "array", "(", "L", ")", ".", "resh", "ape", "((", "M", ",", " N", "))", " /", " S", "PL", "\n", "\n", "    ", "#", " Create", " a", " figure", " for", " the", " spectro", "gram", "\n", "    ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "()", "\n", "\n", "    ", "#", " Plot", " the", " normalized", " matrix", " using", " the", " S", "PL", " as", " the", " amplitude", "\n", "    ", "img", "plot", " =", " ax", ".", "im", "show", "(", "matrix", ",", " c", "map", "='", "gray", "'", ",", " v", "min", "=", "0", ",", " v", "max", "=", "1", ")", "\n", "\n", "    ", "#", " Create", " color", "bar", "\n", "    ", "c", "bar", " =", " plt", ".", "color", "bar", "(", "img", "plot", ",", " ax", "=", "ax", ")", "\n", "    ", "c", "bar", ".", "set", "_", "label", "('", "Am", "plitude", "')", "\n", "\n", "    ", "#", " Set", " title", ",", " labels", ",", " and", " aspect", " of", " the", " figure", "\n"], "logprobs": [-3.67789363861084, -2.6134276390075684, -2.692697048187256, -0.0006597249885089695, -0.01982726901769638, -1.1647241115570068, -1.156323378381785e-05, -1.0728830375228426e-06, -3.802703940891661e-05, -0.24530446529388428, -0.0015805383445695043, -0.02407204359769821, -0.00026973424246534705, -0.00023231192608363926, -0.22822657227516174, -0.039806004613637924, -0.18242302536964417, -4.470104217529297, -0.19738157093524933, -0.30235883593559265, -0.013313090428709984, -0.09903742372989655, -0.47291845083236694, -0.2586505711078644, -1.8514835834503174, -0.01197812706232071, -0.19039268791675568, -0.02883446030318737, -0.07849494367837906, -0.1018223762512207, -0.0783807635307312, -0.02248728834092617, -2.625977039337158, -1.311301275563892e-06, -0.4967469871044159, -0.3200388550758362, -1.0047173500061035, -0.2044941484928131, -0.14140130579471588, -3.9552102088928223, -0.04793360084295273, -0.3028373122215271, -0.8615978956222534, -0.0005519058904610574, -0.1975371539592743, -0.0019164782715961337, -0.09989551454782486, -2.8609820219571702e-05, -0.0004988856380805373, -7.510157047363464e-06, -0.10919060558080673, -0.0029951734468340874, -0.001434369827620685, -0.02503480762243271, -0.022195732221007347, -0.1227407455444336, -7.56950321374461e-05, -0.00047291061491705477, -0.0009969270322471857, -0.15923431515693665, -0.0066439444199204445, -0.00028880240279249847, -4.768360213347478e-06, -5.245195097813848e-06, -0.00354923028498888, -0.021971266716718674, -0.00015472168161068112, -0.00030310326837934554, -0.002822346519678831, -0.000766102981287986, -1.3232143828645349e-05, -1.5258672647178173e-05, -0.16881608963012695, -0.045690760016441345, -1.9749470949172974, -0.0012261499650776386, -1.1171048879623413, -1.321327567100525, -0.8211696743965149, -0.7416040301322937, -0.00021407696476671845, -2.2543728351593018, -0.0010174104245379567, -0.12608569860458374, -0.7843866944313049, -0.44337278604507446, -0.39708632230758667, -0.001734658726491034, -0.8428004384040833, -0.0018646011594682932, -0.08084549009799957, -0.04632103070616722, -0.010202871635556221, -0.0004430027911439538, -0.02580648846924305, -0.016298970207571983, -0.001723829424008727, -0.0009199915803037584, -0.0004465774691198021, -0.00015579440514557064, -0.009784595109522343, -0.02377978526055813, -0.0003880701260641217, -3.098536252975464, -0.05975651368498802, -0.25853994488716125, -2.109982233378105e-05, -0.5269546508789062, -0.0016722993459552526, -5.864924969500862e-05, -0.05467092990875244, -0.031187374144792557, -0.20753838121891022, -0.0005664412747137249, -0.26620081067085266, -0.5599991083145142, -0.013696382753551006, -0.1459936946630478, -1.3223588466644287, -1.4926917552947998, -0.0009079624433070421, -0.5193217396736145, -0.01955726370215416, -0.2563101053237915, -0.0038264405447989702, -0.642524242401123, -0.32390686869621277, -0.10680747777223587, -0.10363882035017014, -0.09114851802587509, -0.01940002106130123, -2.3841830625315197e-06, -1.230712890625, -0.019275611266493797, -0.0013609204906970263, -0.028321588411927223, -0.009431449696421623, -0.36686277389526367, -1.1067321300506592, -4.351044481154531e-05, -0.06826648116111755, -0.18922743201255798, -0.0004755319678224623, -0.13700979948043823, -1.414724588394165, -0.4223787486553192, -0.31054389476776123, -1.1232343912124634, -0.04199737310409546, -0.05487869307398796, -0.0002466136065777391, -0.0773911327123642, -0.0006634180317632854, -0.2034146636724472, -0.5681883096694946, -0.030548185110092163, -0.02052438259124756, -0.0007052318542264402, -2.1576648578047752e-05, -0.0004138090298511088, -3.969590397900902e-05, -0.4496631324291229, -0.0006649667047895491, -0.15641728043556213, -0.0002598424907773733, -0.017732536420226097, -2.039207935333252, -0.009978057816624641, -2.605949878692627, -0.1115485429763794, -2.297070026397705, -0.6132832765579224, -1.8853991031646729, -0.001209957292303443, -0.22207601368427277, -0.43189501762390137, -1.243178367614746, -0.7492886781692505, -0.000739658426027745, -2.484614372253418, -2.5125741958618164, -0.0010444429935887456, -0.14653509855270386, -7.247662142617628e-05, -0.34560179710388184, -0.0004042761866003275, -0.0036117101553827524, -0.06561154872179031, -0.05590143799781799, -0.8181825876235962, -0.0007471630233339965, -0.07274078577756882, -0.9786701202392578, -0.43578407168388367, -0.0006376855308189988, -1.321315050125122, -0.07780710607767105, -0.2686554193496704, -0.4875064194202423, -0.0813414677977562, -0.009537134319543839, -0.0009134411229752004, -0.0049655926413834095, -1.1306464672088623, -0.8745894432067871, -0.006438583135604858, -0.29814979434013367, -0.0004138090298511088, -0.0376594215631485, -1.7915470600128174, -1.9490646123886108, -0.0658835768699646, -1.3966113328933716, -0.00028391621890477836, -0.12493212521076202, -0.12120489031076431, -0.036371875554323196, -1.090468168258667, -4.2676016164477915e-05, -0.0006031363154761493, -7.64102369430475e-05, -0.0010161004029214382, -0.015681995078921318, -1.2516897186287679e-05, -0.09662172943353653, -0.2525993287563324, -0.0013634203933179379, -0.0016886036610230803, -0.7531095743179321, -0.001801535952836275, -0.13316890597343445, -0.020286692306399345, -0.0002681849291548133, -0.005484533961862326, -0.6302598714828491, -0.0007526425761170685, -0.10476815700531006, -0.41884347796440125, -0.5278580188751221, -0.0023017835337668657, -0.26914891600608826, -0.014659314416348934, -0.08263619989156723, -0.0006523388437926769, -0.30223000049591064, -1.7839194536209106, -2.1512277126312256, -2.2807462215423584, -1.9202536344528198, -0.12611785531044006, -0.0757066085934639, -1.331655502319336, -1.653564214706421, -0.2749500274658203, -2.1040735244750977, -0.044337231665849686], "finish_reason": "length"}], "metrics": {"energy": 268.13077200889586, "energy_per_token": 1.0473858281597495, "time": 11.571678, "time_per_token": 0.0452018671875}}
{"outputs": [{"text": "try:\n        file = os.path.join(os.getcwd(), audio_file)\n        audio_data, samplerate = librosa.core.load(file)\n\n        # Calculate sound pressure level (SPL) for audio data\n        spl_value = 20 * np.log10(np.sqrt(np.mean(audio_data**2)))\n        # print(f\"SPL: {spl_value:.2f} (db)\")\n\n        # Normalize data\n        norm_data = audio_data / spl_value\n\n        # Create the MxN matrix using the normalized data\n        matrix = np.reshape(norm_data, (M, N))\n\n        # Generate the spectrogram\n        f, t, s = np.meshgrid(np.arange(M), np.arange(N), np.fft.fftfreq(N))\n        spectrogram = np.abs(np.fft.fftshift(np.fft.fft2(matrix))) ** 2\n\n        fig, ax = plt.subplots()\n", "tokens": ["try", ":", "\n", "        ", "file", " =", " os", ".", "path", ".", "join", "(", "os", ".", "get", "c", "wd", "()", ",", " audio", "_", "file", ")", "\n", "        ", "audio", "_", "data", ",", " sampler", "ate", " =", " lib", "ros", "a", ".", "core", ".", "load", "(", "file", ")", "\n", "\n", "        ", "#", " Calculate", " sound", " pressure", " level", " (", "SP", "L", ")", " for", " audio", " data", "\n", "        ", "spl", "_", "value", " =", " ", "2", "0", " *", " np", ".", "log", "1", "0", "(", "np", ".", "sqrt", "(", "np", ".", "mean", "(", "audio", "_", "data", "**", "2", ")))", "\n", "        ", "#", " print", "(", "f", "\"", "SP", "L", ":", " {", "spl", "_", "value", ":", ".", "2", "f", "}", " (", "db", ")\"", ")", "\n", "\n", "        ", "#", " Normal", "ize", " data", "\n", "        ", "norm", "_", "data", " =", " audio", "_", "data", " /", " spl", "_", "value", "\n", "\n", "        ", "#", " Create", " the", " M", "x", "N", " matrix", " using", " the", " normalized", " data", "\n", "        ", "matrix", " =", " np", ".", "resh", "ape", "(", "norm", "_", "data", ",", " (", "M", ",", " N", "))", "\n", "\n", "        ", "#", " Generate", " the", " spectro", "gram", "\n", "        ", "f", ",", " t", ",", " s", " =", " np", ".", "mesh", "grid", "(", "np", ".", "ar", "ange", "(", "M", ")", ",", " np", ".", "ar", "ange", "(", "N", ")", ",", " np", ".", "ff", "t", ".", "ff", "tf", "req", "(", "N", "))", "\n", "        ", "spect", "ro", "gram", " =", " np", ".", "abs", "(", "np", ".", "ff", "t", ".", "ff", "ts", "hift", "(", "np", ".", "ff", "t", ".", "ff", "t", "2", "(", "matrix", ")))", " **", " ", "2", "\n", "\n", "        ", "fig", ",", " ax", " =", " plt", ".", "sub", "plots", "()", "\n"], "logprobs": [-2.4584550857543945, -0.0015735160559415817, -0.01354068424552679, -0.010551616549491882, -4.113214492797852, -0.9728308320045471, -0.9949567317962646, -2.0503786799963564e-05, -0.009485415183007717, -0.020509783178567886, -0.5762856602668762, -0.10032995045185089, -0.40143072605133057, -0.0008970050839707255, -1.1361490488052368, -0.003048774553462863, -9.775113539944869e-06, -0.0008267321973107755, -0.005368578247725964, -0.057983387261629105, -0.00016234986833296716, -3.433168603805825e-05, -0.006464403588324785, -0.032427482306957245, -0.0707656741142273, -2.0521790981292725, -0.7002453804016113, -0.11640975624322891, -0.2617758810520172, -2.5081911087036133, -0.0009072478278540075, -0.019444216042757034, -1.5159099102020264, -5.125986263010418e-06, -8.344646857949556e-07, -1.6331539882230572e-05, -2.1448183059692383, -7.581423415103927e-05, -0.017035700380802155, -0.0009846605826169252, -0.01739097386598587, -0.22944726049900055, -0.018718034029006958, -2.76552414894104, -0.4987700283527374, -1.245267629623413, -1.2743356227874756, -2.5573570728302, -0.06776152551174164, -0.03819265589118004, -0.24620744585990906, -0.00793270580470562, -9.715084888739511e-05, -0.011476687155663967, -2.7649364471435547, -1.7617933750152588, -1.0408341884613037, -0.18205393850803375, -0.0026399781927466393, -1.8318994045257568, -1.6862778663635254, -1.5823575258255005, -0.023008983582258224, -0.12180463969707489, -0.014025220647454262, -0.0005141366855241358, -0.04670075327157974, -0.021856974810361862, -0.0003784178989008069, -0.001719545223750174, -0.0007863528444431722, -4.351044481154531e-05, -0.010364163666963577, -0.00912094209343195, -0.00011526874004630372, -0.07151230424642563, -0.014163096435368061, -0.01622648723423481, -0.00015639036428183317, -0.08052229136228561, -0.04055836424231529, -0.12768565118312836, -5.864924969500862e-05, -2.1815061700181104e-05, -0.8824014067649841, -0.00047672350774519145, -0.1259046196937561, -0.028538262471556664, -1.4177974462509155, -2.2869930267333984, -1.7920900583267212, -0.1664847731590271, -1.7473231554031372, -0.4263690412044525, -0.37338000535964966, -0.0010936238104477525, -0.9463152885437012, -0.009416923858225346, -0.020201295614242554, -0.003768724389374256, -0.00046039948938414454, -1.2260189056396484, -0.023577680811285973, -0.09352187067270279, -0.0009234455064870417, -0.28600943088531494, -2.8423330783843994, -2.3667778968811035, -0.6384063363075256, -0.002774558262899518, -0.07991652190685272, -0.26685336232185364, -0.1869867742061615, -0.270130455493927, -0.9338645935058594, -0.03758560121059418, -1.808496356010437, -1.9716107845306396, -0.002245049923658371, -2.023435115814209, -0.10635355859994888, -0.1633511334657669, -0.00505455257371068, -1.6150858402252197, -4.1960789531003684e-05, -4.9232225137529895e-05, -0.1247190535068512, -1.6874290704727173, -0.0005691815749742091, -0.0014598437119275331, -0.14075139164924622, -0.44987979531288147, -0.146401047706604, -0.10642044246196747, -1.1526812314987183, -2.485879898071289, -2.330425977706909, -0.016108252108097076, -0.0011533997021615505, -0.030205998569726944, -3.319945812225342, -0.2574215233325958, -0.1529039889574051, -0.0904139056801796, -0.07566560804843903, -0.0008056493825279176, -0.29799264669418335, -0.010945990681648254, -0.044518083333969116, -0.0013068715343251824, -0.6312329769134521, -2.3841830625315197e-06, -0.0023972841445356607, -0.023241836577653885, -1.7165990357170813e-05, -2.9802276912960224e-06, -0.002128598978742957, -0.07188147306442261, -0.019283562898635864, -0.0012186489766463637, -0.02162858285009861, -0.0191327091306448, -0.06577899307012558, -0.4505080580711365, -0.22661499679088593, -0.13460804522037506, -1.277209997177124, -0.9419746994972229, -0.026944909244775772, -0.0014062763657420874, -0.6652411818504333, -0.005007938481867313, -1.5511913299560547, -0.06253687292337418, -0.1572519838809967, -0.02782236784696579, -2.2703890800476074, -0.30047154426574707, -0.9991481304168701, -0.00042548662167973816, -0.7696821093559265, -8.856858039507642e-05, -0.006759278476238251, -0.6792203187942505, -0.0004659997357521206, -2.4188075065612793, -1.680836794548668e-05, -0.0016846762737259269, -1.5697821378707886, -0.08418801426887512, -0.03103853575885296, -0.035682618618011475, -0.001600771676748991, -0.018605006858706474, -1.0728830375228426e-06, -0.001540784491226077, -0.01929490454494953, -0.2824188470840454, -0.01122210081666708, -0.13088153302669525, -0.003404062008485198, -0.3758907914161682, -0.0006699701189063489, -1.2755313036905136e-05, -0.10714007169008255, -0.26986783742904663, -0.005332413129508495, -0.0004539651272352785, -0.30769041180610657, -0.8671910762786865, -0.01710859313607216, -0.07284187525510788, -3.7705416679382324, -0.10611730068922043, -0.00858178362250328, -0.022638918831944466, -0.18936100602149963, -0.0008681819308549166, -0.28451091051101685, -0.019530728459358215, -0.038082610815763474, -6.48477507638745e-05, -0.010623450390994549, -9.48860906646587e-05, -1.764281842042692e-05, -0.024523355066776276, -1.3180843591690063, -0.29673299193382263, -0.00806622114032507, -0.02407914213836193, -0.00018142008048016578, -0.024218663573265076, -0.00021419614495243877, -1.7165990357170813e-05, -0.009091409854590893, -0.05055161565542221, -0.04060976207256317, -0.0025654281489551067, -0.1408998817205429, -0.34074532985687256, -1.885227918624878, -0.019664457067847252, -0.012230165302753448, -0.09101606905460358, -0.5411813259124756, -0.08646389842033386, -1.7235898971557617, -0.6002434492111206, -0.04325977712869644, -0.02633574604988098, -0.0006980843027122319, -2.9205850296420977e-05, -0.0010793342953547835, -9.703165414975956e-05, -0.6865205764770508, -0.005093692801892757], "finish_reason": "length"}], "metrics": {"energy": 267.3975539588929, "energy_per_token": 1.0445216951519254, "time": 11.361666, "time_per_token": 0.0443815078125}}
